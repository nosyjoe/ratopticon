<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Camera software - Raspberry Pi Documentation</title>
<meta name="description" content="The official documentation for Raspberry Pi computers and microcontrollers">
<meta property="og:title" content="Camera software - Raspberry Pi Documentation">
<meta property="og:description" content="The official documentation for Raspberry Pi computers and microcontrollers">
<meta property="og:url" content="https://www.raspberrypi.com/documentation/computers/camera_software.html">
<meta property="og:image" content="https://www.raspberrypi.com/documentation/images/opensocial.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@Raspberry_Pi">
<meta name="twitter:title" content="Camera software - Raspberry Pi Documentation">
<meta name="twitter:description" content="The official documentation for Raspberry Pi computers and microcontrollers">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,700;1,100;1,300;1,400;1,700&display=swap" rel="stylesheet">
<link rel="preconnect" href="https://IHWGNTJ1NP-dsn.algolia.net" crossorigin>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3"/>
<link rel="stylesheet" href="/documentation/css/style.css?ver=1724162985">
<link rel="stylesheet" href="/documentation/css/tabs.css?ver=1724162985">
<link rel="stylesheet" href="/documentation/css/syntax-highlighting.css?ver=1724162985">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-180927933-8"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-180927933-8', { 'anonymize_ip': true });
  gtag('config', 'G-V8TFXM3BKJ');
  gtag('config', 'G-22FD70LWDS');
</script>
 
  </head>
  <body>
    <style>
#__rptl-header {
  margin: 0;
  padding: 0;
  border: 0;
  line-height: 1;
  font-family: "Roboto", sans-serif;
  font-size: medium;
  font-weight: 400;
  text-rendering: optimizeLegibility;
  -webkit-text-size-adjust: 100%;
     -moz-text-size-adjust: 100%;
          text-size-adjust: 100%;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  position: relative;
  z-index: 100;
}
#__rptl-header .__rptl-header-wrapper {
  margin: 0;
  padding: 0;
  border: 0;
  box-sizing: border-box;
  max-width: 1300px;
  margin-left: auto;
  margin-right: auto;
  position: relative;
}
#__rptl-header .__rptl-header-navbar {
  margin: 0;
  padding: 0;
  border: 0;
  box-sizing: border-box;
  position: relative;
  z-index: 1;
  background-color: #fff;
  border-bottom: 1px solid #dedede;
  width: 100%;
  padding: 16px;
}
@media (min-width: 800px) {
  #__rptl-header .__rptl-header-navbar {
    padding: 16px 76px;
  }
}
@media (min-width: 1200px) {
  #__rptl-header .__rptl-header-navbar {
    padding: 16px 84px;
    border-bottom-style: none;
  }
}
#__rptl-header .__rptl-header-brand {
  margin: 0;
  padding: 0;
  border: 0;
  text-decoration: none;
  box-sizing: border-box;
  display: inline-block;
  vertical-align: middle;
}
#__rptl-header .__rptl-header-logo {
  margin: 0;
  padding: 0;
  border: 0;
  box-sizing: border-box;
  display: block;
  vertical-align: middle;
}
#__rptl-header .__rptl-header-burger {
  margin: 0;
  padding: 0;
  border: 0;
  box-sizing: border-box;
  width: 30px;
  height: 30px;
  transform: rotate(0deg);
  cursor: pointer;
  position: absolute;
  top: 0;
  bottom: 0;
  right: 0;
  margin-top: auto;
  margin-bottom: auto;
}
@media (min-width: 1200px) {
  #__rptl-header .__rptl-header-burger {
    display: none;
  }
}
@media (prefers-reduced-motion: no-preference) {
  #__rptl-header .__rptl-header-burger {
    transition: 0.5s ease-in-out;
  }
}
#__rptl-header .__rptl-header-burger-stroke {
  margin: 0;
  padding: 0;
  border: 0;
  box-sizing: border-box;
  position: absolute;
  left: 0;
  height: 2px;
  width: 100%;
  background: #707070;
  border-radius: 9px;
  transform: rotate(0deg);
}
#__rptl-header .__rptl-header-burger-stroke:nth-child(1) {
  top: 0;
  transform-origin: left center;
}
#__rptl-header .__rptl-header-burger-stroke:nth-child(2) {
  top: 14px;
  transform-origin: left center;
}
#__rptl-header .__rptl-header-burger-stroke:nth-child(3) {
  top: 28px;
  transform-origin: left center;
}
@media (prefers-reduced-motion: no-preference) {
  #__rptl-header .__rptl-header-burger-stroke {
    transition: 0.25s ease-in-out;
  }
}
#__rptl-header .__rptl-header-burger-state {
  display: none;
}
#__rptl-header .__rptl-header-burger-state:checked + .__rptl-header-navbar .__rptl-header-burger-stroke:nth-child(1) {
  transform: rotate(45deg);
  top: 4.5px;
  left: 4.5px;
}
#__rptl-header .__rptl-header-burger-state:checked + .__rptl-header-navbar .__rptl-header-burger-stroke:nth-child(2) {
  width: 0;
  opacity: 0;
}
#__rptl-header .__rptl-header-burger-state:checked + .__rptl-header-navbar .__rptl-header-burger-stroke:nth-child(3) {
  transform: rotate(-45deg);
  top: 25.5px;
  left: 4.5px;
}
#__rptl-header .__rptl-header-burger-state:checked ~ .__rptl-header-nav {
  transform: translateY(100%);
  transition-duration: 500ms;
  transition-timing-function: ease-out;
}
#__rptl-header .__rptl-header-nav {
  margin: 0;
  padding: 0;
  border: 0;
  font: inherit;
  font-size: 100%;
  display: block;
  box-sizing: border-box;
  position: absolute;
  bottom: 0;
  background-color: #fff;
  width: 100%;
  border-bottom: 1px solid #dedede;
}
#__rptl-header .__rptl-header-nav:focus-within {
  transform: translateY(100%);
}
@media (min-width: 1200px) {
  #__rptl-header .__rptl-header-nav {
    position: static;
    padding: 0 84px;
    background-color: #f7f8fa;
    transform: none !important;
    transition: none !important;
  }
}
@media (prefers-reduced-motion: no-preference) {
  #__rptl-header .__rptl-header-nav {
    transition: transform 0.25s ease-in;
  }
}
#__rptl-header .__rptl-header-nav-inner {
  margin: 0;
  padding: 0;
  border: 0;
  font: inherit;
  font-size: 100%;
  display: block;
  box-sizing: border-box;
}
@media (min-width: 1200px) {
  #__rptl-header .__rptl-header-nav-inner {
    display: flex;
    justify-content: space-between;
    flex-direction: row;
  }
}
#__rptl-header .__rptl-header-nav-list {
  margin: 0;
  padding: 0;
  border: 0;
  font: inherit;
  font-size: 100%;
  list-style: none;
  display: block;
  box-sizing: border-box;
}
#__rptl-header .__rptl-header-nav-list:first-child .__rptl-header-nav-list-item:first-child {
  border: 0;
}
#__rptl-header .__rptl-header-nav-list-item {
  margin: 0;
  padding: 0;
  border: 0;
  font: inherit;
  font-size: 100%;
  display: block;
  box-sizing: border-box;
  border-top: 1px solid #dedede;
}
@media (min-width: 1200px) {
  #__rptl-header .__rptl-header-nav-list-item {
    display: inline-block;
    border-style: none;
  }
}
#__rptl-header .__rptl-header-nav-link {
  margin: 0;
  padding: 0;
  border: 0;
  font: inherit;
  display: block;
  text-decoration: none;
  box-sizing: border-box;
  color: #333;
  font-size: 1.65em;
  padding: 16px;
}
#__rptl-header .__rptl-header-nav-link:hover {
  color: #fff;
  background-color: #333;
}
#__rptl-header .__rptl-header-nav-link--for-home {
  color: #cd2355;
  font-weight: 700;
}
#__rptl-header .__rptl-header-nav-link--for-home:hover {
  background-color: #cd2355;
}
#__rptl-header .__rptl-header-nav-link--for-industry {
  font-weight: 700;
}
@media (min-width: 800px) {
  #__rptl-header .__rptl-header-nav-link {
    padding: 16px 76px;
  }
}
@media (min-width: 1200px) {
  #__rptl-header .__rptl-header-nav-link {
    font-size: 1em;
    padding: 16px;
  }
}
</style>
<header id="__rptl-header">
  <input type="checkbox" class="__rptl-header-burger-state" id="__rptl-header-burger-state" />

  <div class="__rptl-header-navbar">
    <div class="__rptl-header-wrapper">
      <a href="/" class="__rptl-header-brand" aria-label="Raspberry Pi">
        <svg class="__rptl-header-logo" aria-hidden="true" focusable="false" height="44" viewBox="0 0 606 128" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-labelledby="__rptl-header-logo"><title id="__rptl-header-logo">Raspberry Pi</title><defs><path d="M99.9 73.5c-.6-5.9-3.2-11.2-7-13.9-.7-2.4-1.8-4.5-3.2-6.3-.2-2.8-1.4-8.2-6.9-13 .6-.5 1.2-1.2 1.6-1.9 4.6-2 7.8-6.3 8.2-9.5 2.4-2.4 3.8-5.3 4-8.2.1-1.4-.2-2.6-.7-3.7 2-2.2 2.7-4.8 1.8-7.2-1.4-4-6.2-6.5-12.6-6.8-1.7-1.6-4.1-2.4-7-2.4-1.2 0-2.5.2-3.8.5-1-.5-2.3-.8-3.7-.8-2.4 0-5.1.7-7.1 1.9-.4-.2-.6-.2-.9-.2-3.2 0-6.4 2.2-8 3.5-1.6 1.3-3.1 2.8-4.2 4.4-1.2-1.6-2.6-3.1-4.2-4.4-1.6-1.3-4.8-3.5-8-3.5-.3 0-.6 0-.9.1C35.3.9 32.6.2 30.2.2c-1.4 0-2.7.3-3.7.8-1.3-.3-2.6-.5-3.8-.5-2.9 0-5.3.8-7 2.4-6.4.3-11.2 2.8-12.6 6.8-.9 2.5-.2 5.1 1.8 7.2-.5 1.1-.8 2.3-.7 3.7.1 2.9 1.5 5.8 4 8.2.4 3.2 3.6 7.5 8.2 9.5.4.8 1 1.4 1.6 1.9-5.5 4.8-6.7 10.2-6.9 13-1.5 1.8-2.6 3.9-3.2 6.3-3.8 2.8-6.4 8-7 13.9-.6 5.9 1 11.4 4.3 14.8.4 2.6 2 6.1 3.6 8.2.3 4.5 2.2 8.8 5.4 12.4 3.2 3.6 7.4 6.1 11.9 7 2.7 2.5 5.6 4.3 9.5 5.9 1.7 1.7 6.6 5.8 14.9 5.8s13.2-4.1 14.9-5.8c3.9-1.6 6.8-3.3 9.5-5.9 4.5-.9 8.7-3.4 11.9-7 3.2-3.6 5.1-8 5.4-12.4 1.6-2.1 3.1-5.6 3.6-8.2 3-3.4 4.7-8.9 4.1-14.7Zm-22.2-18c-3.9-2.1-7.6-5.2-10.3-8.7-3.7-4.4-1.3-6.4 4.5-5.3 4.3 1.1 8.5 4.5 10.2 8.6 2.2 5.6.6 8.2-4.4 5.4ZM62.4 8.6c.3-.1.7.2.6.5-.2 1.5.8 1.3 1 1.1 2.4-3 4.9-3.6 7.2-3.4.4 0 .6.5.3.8-.9 1.3.1 1.6.4 1.3 3.7-2.3 7.2-2.3 8.5-1.3.3.2.3.6 0 .8-1.4 1.2-.6 1.7-.1 1.6 3.7-1.3 8.9-.2 10.7 1.4.2.2.2.6 0 .8-2.3 2-3.4 3.6-3.9 6.8-.1.9 1.4.7 2 .5.3-.1.6.2.6.5.1 2.1-2 4.5-5 6.5-.4.3-.3.9.6.9.4 0 .6.4.4.8-1.1 2-2.5 3.9-7.5 5.2-.5.1-.5.8-.1 1 .4.2.4.6.2.9-5 4.3-17.6 2.6-19.2-4.6 0-.1 0-.3.1-.4 3-4 9.9-11.8 20.9-15.9.4-.2.3-.8-.2-.8-10.5 1.5-18 7.4-22.6 13.6-.2.2-.4.3-.7.1-8-4.2-1.4-16.5 5.8-18.7Zm-12 31.9c1.6 0 5.6.1 9.8 3.4 7 5.8-1 10-9.8 10s-16.8-4.1-9.8-10c4.2-3.3 8.2-3.4 9.8-3.4ZM14.9 28.2c-.2-.3 0-.7.4-.8.9 0 1-.7.6-.9-3-2-5.1-4.4-5-6.5 0-.3.3-.6.6-.5.6.2 2.1.3 2-.5-.5-3.2-1.6-4.8-3.9-6.8-.2-.2-.2-.6 0-.8 1.8-1.5 7-2.7 10.7-1.4.5.2 1.2-.4-.1-1.6-.2-.2-.2-.6 0-.8 1.3-1 4.9-1 8.5 1.3.4.2 1.3 0 .4-1.3-.2-.3-.1-.8.3-.8 2.3-.2 4.8.5 7.2 3.4.2.3 1.1.5 1-1.1 0-.4.3-.6.6-.5 7.2 2.2 13.8 14.5 5.7 18.7-.2.1-.5.1-.7-.1-4.4-6.2-11.8-12.1-22.5-13.7-.5-.1-.6.6-.2.8 11 4.1 17.9 11.9 20.9 15.9.1.1.1.3.1.4-1.6 7.2-14.2 8.9-19.2 4.6-.3-.2-.3-.7.2-.9.4-.2.4-.8-.1-1-5-1.3-6.4-3.1-7.5-5.1Zm3.6 21.9c1.8-4.1 5.9-7.5 10.2-8.6 5.8-1.1 8.2.9 4.5 5.3-2.8 3.4-6.4 6.5-10.3 8.7-4.8 2.8-6.4.2-4.4-5.4ZM8.4 80.8c-1.6-4.2-1.2-9.4 1.2-13.4 2.6-4.4 5.2-4.2 6.2-.5 1.3 4.9.8 10.8-1.4 15.5-1.9 3.8-4.3 2.5-6-1.6Zm18.7 28.6c-6.2-1.3-11.5-7.6-11.8-14 1-22.6 33.7 17.9 11.8 14Zm.7-28.3c-5.5-3.2-6.9-10.9-3.2-17.3s11.1-9 16.6-5.9c5.5 3.2 6.9 10.9 3.2 17.3-3.7 6.5-11.2 9.1-16.6 5.9Zm31.7 37c-2.6 1.9-5.7 3-9.1 3-3.4 0-6.6-1.1-9.1-3-5.4-3.8 0-8.1 9.1-8.1s14.5 4.3 9.1 8.1Zm-9.1-13.8c-7 0-12.7-4.9-12.7-10.9s5.7-10.9 12.7-10.9c7 0 12.7 4.9 12.7 10.9s-5.7 10.9-12.7 10.9Zm6-29c-3.7-6.4-2.2-14.2 3.2-17.3 5.5-3.2 12.9-.5 16.6 5.9 3.7 6.4 2.2 14.2-3.2 17.3-5.5 3.1-12.9.5-16.6-5.9Zm17.2 34.1c-21.9 3.9 10.8-36.7 11.8-14-.2 6.4-5.5 12.7-11.8 14Zm18.8-28.6c-1.7 4.1-4.1 5.4-6.1 1.6-2.2-4.6-2.7-10.5-1.4-15.5 1-3.7 3.7-3.9 6.2.5 2.5 4 2.9 9.1 1.3 13.4Z" id="a"/></defs><g fill="none" fill-rule="evenodd"><path d="M145.6 74.3h-10.1v21.3c0 .7-.5 1.2-1.2 1.2H124c-.7 0-1.2-.5-1.2-1.2V36.5c0-.7.5-1.2 1.2-1.2h21.7c7.3 0 12.9 1.6 16.8 4.9 3.9 3.2 5.9 7.8 5.9 13.7.1 3.7-.8 7.3-2.7 10.5-2 3-4.9 5.3-8.3 6.7l12.7 24c.3.6.1 1.3-.5 1.6-.2.1-.4.1-.6.1h-11c-.5 0-1-.3-1.3-.8l-11.1-21.7ZM135.5 64h10.2c3.2 0 5.6-.8 7.4-2.4 1.8-1.7 2.8-4.2 2.6-6.7.1-2.5-.8-5-2.5-6.8-1.6-1.7-4.2-2.5-7.6-2.5h-10.2l.1 18.4Zm66.8 32.1c-.4-1.1-.7-2.2-.9-3.4-2.9 3.3-7.1 5.1-11.5 4.9-4.1.1-8-1.2-11.1-3.9-2.9-2.4-4.5-6-4.4-9.8 0-4.8 1.8-8.6 5.4-11.1 3.6-2.6 8.8-3.9 15.6-3.9h5.6v-2.6c.1-1.8-.5-3.6-1.6-5.1-1.1-1.3-2.8-1.9-5.1-1.9-1.7-.1-3.5.4-4.8 1.5-.9.8-1.5 1.9-1.7 3.1-.1.6-.6 1-1.2 1h-9.9c-.7 0-1.2-.5-1.2-1.2v-.1c.2-2.2 1.1-4.2 2.4-6 1.8-2.4 4.2-4.2 6.9-5.3 3.2-1.3 6.6-2 10-1.9 5.6 0 10.1 1.4 13.4 4.2 3.3 2.8 5 6.8 5 11.9v19.8c-.1 3 .4 6 1.4 8.9.3.6 0 1.3-.6 1.6-.2.1-.3.1-.5.1h-10.1c-.5-.1-1-.4-1.1-.8Zm-9.8-7.8c1.7 0 3.4-.4 5-1.2 1.4-.7 2.6-1.8 3.4-3.2V76h-4.6c-6.1 0-9.4 2.1-9.8 6.3v.7c0 1.4.5 2.8 1.6 3.8 1.2 1.1 2.8 1.6 4.4 1.5Zm53.8-4.1c0-1.5-.9-2.9-2.2-3.5-2.2-1.1-4.6-1.9-7.1-2.3-10.9-2.3-16.3-6.9-16.3-13.8 0-4 1.8-7.8 5-10.2 3.4-2.7 7.8-4.1 13.2-4.1 5.8 0 10.4 1.4 13.9 4.1 3 2.2 4.9 5.7 5.2 9.4 0 .6-.5 1.2-1.1 1.2h-10c-.6 0-1.1-.4-1.2-1-.2-1.3-.7-2.4-1.6-3.3-1.1-1.1-2.9-1.7-5.3-1.7-1.7-.1-3.4.4-4.8 1.4-1.1.9-1.7 2.2-1.7 3.5 0 1.4.7 2.6 1.9 3.3 2 1.1 4.2 1.8 6.5 2.2 2.6.5 5.2 1.2 7.7 2 6.4 2.4 9.7 6.5 9.7 12.3.1 4.1-2 7.9-5.4 10.1-3.6 2.6-8.2 3.9-13.8 3.9-3.5.1-7-.6-10.2-2-2.8-1.2-5.2-3.2-7-5.6-1.4-1.9-2.2-4.1-2.5-6.4-.1-.7.4-1.3 1-1.3h9.4c.6 0 1.1.4 1.2.9.2 1.6 1 3.1 2.3 4 1.7 1.2 3.9 1.8 6 1.7 1.9.1 3.7-.3 5.3-1.3 1.2-.8 1.9-2.1 1.9-3.5Zm60.3-9.8c0 7-1.6 12.7-4.8 16.9-3 4.1-7.8 6.5-12.9 6.4-4.3.2-8.4-1.6-11.2-4.8v20.4c0 .7-.5 1.2-1.2 1.2h-9.8c-.7 0-1.2-.5-1.2-1.2v-61c0-.7.5-1.2 1.2-1.2h9.1c.6 0 1.1.5 1.2 1.1l.3 3.4c2.8-3.5 7.1-5.5 11.6-5.3 5.6 0 10 2.1 13.1 6.2 3.1 4.2 4.7 9.9 4.7 17.2l-.1.7Zm-12.2-.9c0-4.2-.8-7.5-2.3-9.8-1.4-2.3-3.9-3.6-6.6-3.5-3.8 0-6.5 1.5-7.9 4.4v18.7c1.5 3 4.2 4.5 8 4.5 5.9 0 8.8-4.8 8.8-14.3Zm60.5.9c0 7.3-1.6 13-4.7 17.1-3.1 4.1-7.5 6.1-13.1 6.1-4.6.1-9.1-2-11.9-5.7l-.4 3.8c-.1.6-.6 1.1-1.2 1.1h-8.7c-.7 0-1.2-.5-1.2-1.2V33.1c0-.7.5-1.2 1.2-1.2h9.8c.7 0 1.2.5 1.2 1.2v22.1c2.7-3.3 6.8-5.1 11.1-4.9 5.6 0 9.9 2 13.1 6.1 3.2 4.1 4.8 9.9 4.8 17.3v.7Zm-12.2-.9c0-4.6-.7-8-2.2-10.1-1.5-2.1-4-3.3-6.5-3.2-3.9 0-6.6 1.6-8 4.8v18c1.5 3.2 4.2 4.8 8.1 4.8 3.9 0 6.5-1.9 7.8-5.8.6-2.8.9-5.7.8-8.5Zm40.2 24.1c-6.7 0-12.2-2.1-16.4-6.2-4.2-4.1-6.3-9.6-6.3-16.4v-1.2c-.1-4.3.8-8.5 2.7-12.3 1.6-3.5 4.3-6.4 7.5-8.4 3.4-2 7.2-3 11.1-2.9 6.2 0 11.2 2 14.8 5.9 3.6 3.9 5.4 9.5 5.4 16.8v3.8c0 .7-.5 1.2-1.2 1.2h-27.9c.3 2.7 1.5 5.3 3.6 7.2 2.1 1.8 4.8 2.8 7.5 2.7 3.8.2 7.6-1.3 10.2-4.1.5-.5 1.2-.5 1.7 0l.1.1 4.4 5c.4.4.4 1.1.1 1.5-1.8 2.3-4.2 4.1-6.8 5.3-3.4 1.3-7 2.1-10.5 2Zm-1.4-37.5c-2.2-.1-4.4.8-5.9 2.5-1.7 2-2.7 4.5-2.9 7h17v-1c.1-2.3-.7-4.6-2.2-6.3-1.6-1.5-3.8-2.3-6-2.2Zm52.7 1.1c0 .7-.5 1.2-1.2 1.2h-.1c-1-.1-2.1-.2-3.1-.2-4.6 0-7.6 1.6-9.1 4.7v28.7c0 .7-.5 1.2-1.2 1.2h-9.8c-.7 0-1.2-.5-1.2-1.2V52.3c0-.7.5-1.2 1.2-1.2h9.2c.6 0 1.1.5 1.2 1.1l.3 4.3c2.4-4.2 5.8-6.3 10.2-6.3 1 0 2 .1 2.9.3.5.1.9.6.9 1.2l-.2 9.5Zm30.8 0c0 .7-.5 1.2-1.2 1.2h-.1c-1-.1-2.1-.2-3.1-.2-4.6 0-7.6 1.6-9.1 4.7v28.7c0 .7-.5 1.2-1.2 1.2h-9.8c-.7 0-1.2-.5-1.2-1.2V52.3c0-.7.5-1.2 1.2-1.2h9.2c.6 0 1.1.5 1.2 1.1l.3 4.3c2.4-4.2 5.8-6.3 10.2-6.3 1 0 2 .1 2.9.3.5.1.9.6.9 1.2l-.2 9.5Zm24.6 18.3 8.2-27.6c.1-.5.6-.8 1.1-.8h10.5c.7 0 1.2.5 1.2 1.2 0 .1 0 .3-.1.4l-17.8 51.2-1 2.4c-2.7 6-7.2 9-13.5 9-1.5 0-3-.2-4.5-.6-.5-.1-.9-.6-.9-1.2v-7.1c0-.7.5-1.2 1.2-1.2h1.2c1.6.1 3.2-.3 4.6-1.1 1.3-.8 2.2-2.1 2.7-3.5l1.4-3.8-15.5-44.2c-.2-.6.1-1.3.7-1.5.1 0 .3-.1.4-.1h10.6c.5 0 1 .3 1.1.8l8.4 27.7Zm61.4-4.4v20.5c0 .7-.5 1.2-1.2 1.2h-10.3c-.7 0-1.2-.5-1.2-1.2V36.5c0-.7.5-1.2 1.2-1.2h22.8c4.2-.1 8.4.8 12.2 2.5 3.3 1.5 6.2 4.1 8.1 7.2 1.9 3.2 2.9 6.9 2.8 10.6 0 6-2.1 10.8-6.2 14.3s-9.8 5.2-17.1 5.2H551Zm0-10.2h11.3c3.4 0 5.9-.8 7.7-2.4 1.8-1.8 2.8-4.2 2.6-6.8.1-2.7-.8-5.3-2.7-7.3-1.9-1.9-4.6-3-7.3-2.9H551v19.4Zm40.4-25.6c-.1-1.7.6-3.3 1.8-4.5 2.9-2.4 7.1-2.4 10 0 2.5 2.5 2.5 6.6 0 9.1-2.9 2.4-7 2.4-9.9 0-1.3-1.2-2-2.9-1.9-4.6Zm11.8 57.5h-9.9c-.7 0-1.2-.5-1.2-1.2V52.3c0-.7.5-1.2 1.2-1.2h9.9c.7 0 1.2.5 1.2 1.2v43.3c0 .7-.6 1.2-1.2 1.2Z" fill="#000" fill-rule="nonzero"/><mask id="b" fill="#fff"><use xlink:href="#a"/></mask><g mask="url(#b)" fill-rule="nonzero"><path fill="#E30A33" d="M-14.6.1h127.9v21.3H-14.6z"/><path fill="#F18E43" d="M-14.6 21.4h127.9v21.3H-14.6z"/><path fill="#F9DF53" d="M-14.6 42.7h127.9V64H-14.6z"/><path fill="#008F58" d="M-14.6 64h127.9v21.3H-14.6z"/><path fill="#3098D4" d="M-14.6 85.3h127.9v21.3H-14.6z"/><path fill="#A03E7E" d="M-14.6 106.7h127.9V128H-14.6z"/></g></g></svg>
      </a>

      <label class="__rptl-header-burger" for="__rptl-header-burger-state">
        <span class="__rptl-header-burger-stroke"></span>
        <span class="__rptl-header-burger-stroke"></span>
        <span class="__rptl-header-burger-stroke"></span>
      </label>
    </div>
  </div>

  <nav class="__rptl-header-nav">
    <div class="__rptl-header-wrapper">
      <div class="__rptl-header-nav-inner">
        <ul class="__rptl-header-nav-list">
          <li class="__rptl-header-nav-list-item"><a href="/for-home/" class="__rptl-header-nav-link __rptl-header-nav-link--for-home">For home</a>
          <li class="__rptl-header-nav-list-item"><a href="/for-industry/" class="__rptl-header-nav-link __rptl-header-nav-link--for-industry">For industry</a>
        </ul>
        <ul class="__rptl-header-nav-list">
          <li class="__rptl-header-nav-list-item"><a href="/products/" class="__rptl-header-nav-link">Hardware</a>
          <li class="__rptl-header-nav-list-item"><a href="/software/" class="__rptl-header-nav-link">Software</a>
          <li class="__rptl-header-nav-list-item"><a href="/documentation/" class="__rptl-header-nav-link">Documentation</a>
          <li class="__rptl-header-nav-list-item"><a href="/news/" class="__rptl-header-nav-link">News</a>
          <li class="__rptl-header-nav-list-item"><a href="https://forums.raspberrypi.com/" class="__rptl-header-nav-link">Forums</a>
          <li class="__rptl-header-nav-list-item"><a href="https://www.raspberrypi.org" class="__rptl-header-nav-link " rel="noopener">Foundation</a>
        </ul>
      </div>
    </div>
  </nav>
</header>
<script>
  (function() {
    var header = document.getElementById("__rptl-header"),
        burgerState = document.getElementById("__rptl-header-burger-state");

    document.addEventListener("click", function (e) {
      if (!header.contains(e.target)) {
        burgerState.checked = false;
      }
    });
  })();
</script>
      
    <div class="toptitle">
  <h1><a href="/documentation/"><strong>Raspberry Pi</strong> Documentation</a></h1>
  <div id="docsearch"></div>
</div>

    <div id="tab-menu">
  <nav>
    <ul id="tab-container">
      
        
        <li class="selected">
          
          <a href="/documentation/computers/">Computers</a>
        </li>
      
        
        <li>
          
          <a href="/documentation/accessories/">Accessories</a>
        </li>
      
        
        <li>
          
          <a href="/documentation/microcontrollers/">Microcontrollers</a>
        </li>
      
        
        <li>
          
          <a href="/documentation/services/">Services</a>
        </li>
      
        
        <li>
          
          <a href="/documentation/pico-sdk/">Pico C SDK</a>
        </li>
      
    </ul>
  </nav>
</div>



    <div id="container">
      <nav id="mobile-contents">



  
    <div class="mobile-contents-menu" onclick="expandAndCollapseMobile(this)">
      <span class="mobile-contents-line"></span>
      <span class="mobile-contents-line"></span>
      <span class="mobile-contents-line"></span>
    </div>
    <div class="contents-inner hidden">
    
      <h3 class="contentshead"><p>Getting started</p>
</h3>
      
        <div class="itemcontents">
          <ul class="sectlevel1">
            
              <li>
                <a href="/documentation/computers/getting-started.html#setting-up-your-raspberry-pi"><p>Getting started with your Raspberry Pi</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/getting-started.html#power-supply"><p>Power supply</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/getting-started.html#sd-cards"><p>Boot Media</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/getting-started.html#keyboard"><p>Keyboard</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/getting-started.html#mouse"><p>Mouse</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/getting-started.html#display"><p>Display</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/getting-started.html#audio"><p>Audio</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/getting-started.html#networking"><p>Networking</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/getting-started.html#installing-the-operating-system"><p>Install an operating system</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/getting-started.html#raspberry-pi-imager"><p>Install using Imager</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/getting-started.html#install-over-the-network"><p>Install over the network</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/getting-started.html#set-up-your-raspberry-pi"><p>Set up your Raspberry Pi</p>
</a>
                
              </li>
            
              <li>
                <a href="/documentation/computers/getting-started.html#configuration-on-first-boot"><p>Configuration on first boot</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/getting-started.html#bluetooth"><p>Bluetooth</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/getting-started.html#locale"><p>Locale</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/getting-started.html#user"><p>User</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/getting-started.html#wi-fi"><p>Wi-Fi</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/getting-started.html#browser"><p>Browser</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/getting-started.html#raspberry-pi-connect"><p>Raspberry Pi Connect</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/getting-started.html#software-updates"><p>Software updates</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/getting-started.html#finish"><p>Finish</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/getting-started.html#next-steps"><p>Next steps</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/getting-started.html#recommended-software"><p>Recommended software</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/getting-started.html#tutorials"><p>Tutorials</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/getting-started.html#support"><p>Support</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/getting-started.html#further-reading"><p>Further reading</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
          </ul>
        </div>
      
    
      <h3 class="contentshead"><p>Raspberry Pi OS</p>
</h3>
      
        <div class="itemcontents">
          <ul class="sectlevel1">
            
              <li>
                <a href="/documentation/computers/os.html#introduction"><p>Introduction</p>
</a>
                
              </li>
            
              <li>
                <a href="/documentation/computers/os.html#update-software"><p>Update software</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/os.html#manage-software-packages-with-apt"><p>Manage software packages with APT</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/os.html#upgrade-your-operating-system-to-a-new-major-version"><p>Upgrade your operating system to a new major version</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/os.html#rpi-update"><p>Upgrade your firmware</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/os.html#downgrade-firmware-to-the-last-stable-release"><p>Downgrade firmware to the last stable release</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/os.html#play-audio-and-video"><p>Play audio and video</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/os.html#vlc-media-player"><p>VLC media player</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/os.html#play-audio-and-video-on-raspberry-pi-os-lite"><p>Play audio and video on Raspberry Pi OS Lite</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/os.html#specify-an-audio-output-device"><p>Specify an audio output device</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/os.html#specify-a-video-output-device"><p>Specify a video output device</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/os.html#specify-both-audio-and-video-output-devices"><p>Specify both audio and video output devices</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/os.html#improve-stream-playback-performance"><p>Improve stream playback performance</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/os.html#utilities"><p>Utilities</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/os.html#kmsprint"><p><code class="language-plaintext highlighter-rouge">kmsprint</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/os.html#vclog"><p><code class="language-plaintext highlighter-rouge">vclog</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/os.html#vcgencmd"><p><code class="language-plaintext highlighter-rouge">vcgencmd</code></p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/os.html#accessibility-options"><p>Accessibility options</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/os.html#visual-aids"><p>Visual aids</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/os.html#use-python-on-a-raspberry-pi"><p>Use Python on a Raspberry Pi</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/os.html#install-python-packages-using-apt"><p>Install Python packages using <code class="language-plaintext highlighter-rouge">apt</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/os.html#install-python-libraries-using-pip"><p>Install Python libraries using <code class="language-plaintext highlighter-rouge">pip</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/os.html#use-the-thonny-editor"><p>Use the Thonny editor</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/os.html#use-gpio-from-python"><p>Use GPIO from Python</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/os.html#led-control"><p>LED control</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/os.html#read-button-state"><p>Read button state</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/os.html#control-an-led-with-a-button"><p>Control an LED with a button</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
          </ul>
        </div>
      
    
      <h3 class="contentshead"><p>Configuration</p>
</h3>
      
        <div class="itemcontents">
          <ul class="sectlevel1">
            
              <li>
                <a href="/documentation/computers/configuration.html#raspi-config"><p><code class="language-plaintext highlighter-rouge">raspi-config</code></p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#menu-options"><p>System options</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#display-options"><p>Display options</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#interfacing-options"><p>Interface options</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#performance-options"><p>Performance options</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#localisation-options"><p>Localisation options</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#advanced-options"><p>Advanced options</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#update"><p>Update</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#about"><p>About raspi-config</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#finish"><p>Finish</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/configuration.html#raspi-config-cli"><p>non-interactive <code class="language-plaintext highlighter-rouge">raspi-config</code></p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#system-options"><p>System options</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#display-options-2"><p>Display options</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#interfacing-options-nonint"><p>Interface options</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#performance-options-2"><p>Performance options</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#localisation-options-nonint"><p>Localisation options</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#advanced-options-nonint"><p>Advanced options</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#update-nonint"><p>Update</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/configuration.html#displays"><p>Displays</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#support-for-hdmi-monitors"><p>Support for HDMI monitors</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#set-resolution-and-rotation"><p>Set resolution and rotation</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#manually-set-resolution-and-rotation"><p>Manually set resolution and rotation</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#console-resolution-and-rotation"><p>Console resolution and rotation</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/configuration.html#audio-3"><p>Audio</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#change-audio-output"><p>Change audio output</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/configuration.html#networking"><p>Networking</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#connect-to-a-wireless-network"><p>Connect to a wireless network</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#configure-dhcp"><p>Configure DHCP</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#assign-a-static-ip-address"><p>Assign a static IP address</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/configuration.html#screen-blanking-3"><p>Screen blanking</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#desktop"><p>Desktop</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#console"><p>Console</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/configuration.html#users"><p>Users</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#change-user-password"><p>Change a user’s password</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#add-a-user"><p>Add a user</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#delete-a-user"><p>Delete a user</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#change-the-default-user"><p>Change the default user</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/configuration.html#external-storage"><p>External storage</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#mount-a-storage-device"><p>Mount a storage device</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#automatically-mount-a-storage-device"><p>Automatically mount a storage device</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#unmount-a-storage-device"><p>Unmount a storage device</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/configuration.html#kernel-command-line-cmdline-txt"><p>Kernel command line (<code class="language-plaintext highlighter-rouge">cmdline.txt</code>)</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#command-line-options"><p>Command line options</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/configuration.html#localise-your-raspberry-pi"><p>Localise your Raspberry Pi</p>
</a>
                
              </li>
            
              <li>
                <a href="/documentation/computers/configuration.html#secure-your-raspberry-pi"><p>Secure your Raspberry Pi</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#require-a-password-for-sudo-commands"><p>Require a password for <code class="language-plaintext highlighter-rouge">sudo</code> commands</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#update-raspberry-pi-os"><p>Update Raspberry Pi OS</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#automatically-update-your-ssh-server"><p>Automatically update your SSH server</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#improve-ssh-security"><p>Improve SSH security</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#use-a-firewall"><p>Use a firewall</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#block-suspicious-activity-with-fail2ban"><p>Block suspicious activity with <code class="language-plaintext highlighter-rouge">fail2ban</code></p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/configuration.html#setting-up-a-headless-raspberry-pi"><p>Set up a headless Raspberry Pi</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#connect-to-a-wired-network"><p>Connect to a wired network</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#connect-to-a-wireless-network-2"><p>Connect to a wireless network</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#remote-access"><p>Remote access</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/configuration.html#host-a-wireless-network-from-your-raspberry-pi"><p>Host a wireless network from your Raspberry Pi</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#enable-hotspot"><p>Enable hotspot</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#disable-hotspot"><p>Disable hotspot</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#use-your-raspberry-pi-as-a-network-bridge"><p>Use your Raspberry Pi as a network bridge</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/configuration.html#use-a-proxy-server"><p>Use a proxy server</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#configure-your-raspberry-pi"><p>Configure your Raspberry Pi</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#update-the-sudoers-file"><p>Update the <code class="language-plaintext highlighter-rouge">sudoers</code> file</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#reboot-your-raspberry-pi"><p>Reboot your Raspberry Pi</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/configuration.html#boot-folder-contents"><p><code class="language-plaintext highlighter-rouge">boot</code> folder contents</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#bootcode-bin"><p><code class="language-plaintext highlighter-rouge">bootcode.bin</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#start-elf"><p><code class="language-plaintext highlighter-rouge">start*.elf</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#fixup-dat"><p><code class="language-plaintext highlighter-rouge">fixup*.dat</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#cmdline-txt"><p><code class="language-plaintext highlighter-rouge">cmdline.txt</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#config-txt"><p><code class="language-plaintext highlighter-rouge">config.txt</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#issue-txt"><p><code class="language-plaintext highlighter-rouge">issue.txt</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#initramfs"><p><code class="language-plaintext highlighter-rouge">initramfs*</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#ssh-or-ssh-txt"><p><code class="language-plaintext highlighter-rouge">ssh</code> or <code class="language-plaintext highlighter-rouge">ssh.txt</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#device-tree-blob-files-dtb"><p>Device Tree blob files (<code class="language-plaintext highlighter-rouge">*.dtb</code>)</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#kernel-files-img"><p>Kernel files (<code class="language-plaintext highlighter-rouge">*.img</code>)</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#overlays-folder"><p><code class="language-plaintext highlighter-rouge">overlays</code> folder</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/configuration.html#led-warning-flash-codes"><p>LED warning flash codes</p>
</a>
                
              </li>
            
              <li>
                <a href="/documentation/computers/configuration.html#configure-uarts"><p>Configure UARTs</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#raspberry-pi-zero-1-2-and-3"><p>Raspberry Pi Zero, 1, 2 and 3</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#raspberry-pi-4-and-400"><p>Raspberry Pi 4 and 400</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#raspberry-pi-5"><p>Raspberry Pi 5</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#cm1-cm3-cm3-and-cm4"><p>CM1, CM3, CM3+ and CM4</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#primary-uart"><p>Primary UART</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#secondary-uart"><p>Secondary UART</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#primary-and-secondary-uart"><p>Primary and Secondary UART</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#mini-uart-and-cpu-core-frequency"><p>Mini-UART and CPU Core Frequency</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#disabling-the-linux-serial-console"><p>Disabling the Linux Serial Console</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#enabling-early-console-for-linux"><p>Enabling early console for Linux</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#uarts-and-device-tree"><p>UARTs and Device Tree</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#pl011-and-mini-uart"><p>PL011 and mini-UART</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/configuration.html#device-trees-overlays-and-parameters"><p>Device Trees, overlays, and parameters</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#part1"><p>Device Trees</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#part2"><p>Device Tree overlays</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#part3"><p>Using Device Trees on Raspberry Pi</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#part4"><p>Firmware parameters</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#part5"><p>Troubleshooting</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/configuration.html#change-the-default-pin-configuration"><p>Change the default pin configuration</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#device-pins-during-boot-sequence"><p>Device pins during boot sequence</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#provide-a-custom-device-tree-blob"><p>Provide a custom Device Tree blob</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#sections-of-the-dt-blob"><p>Sections of the <code class="language-plaintext highlighter-rouge">dt-blob</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#clock-configuration"><p>Clock configuration</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#sample-device-tree-source-file"><p>Sample Device Tree source file</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
          </ul>
        </div>
      
    
      <h3 class="contentshead"><p><code class="language-plaintext highlighter-rouge">config.txt</code></p>
</h3>
      
        <div class="itemcontents">
          <ul class="sectlevel1">
            
              <li>
                <a href="/documentation/computers/config_txt.html#what-is-config-txt"><p>What is <code class="language-plaintext highlighter-rouge">config.txt</code>?</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#file-format"><p>File format</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#advanced-features"><p>Advanced features</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/config_txt.html#autoboot-txt"><p><code class="language-plaintext highlighter-rouge">autoboot.txt</code></p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#boot_partition"><p><code class="language-plaintext highlighter-rouge">boot_partition</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#the-tryboot-filter"><p>The <code class="language-plaintext highlighter-rouge">[tryboot]</code> filter</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#tryboot_a_b"><p><code class="language-plaintext highlighter-rouge">tryboot_a_b</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#example-update-flow-for-ab-booting"><p>Example update flow for A/B booting</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/config_txt.html#common-options"><p>Common options</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#common-display-options"><p>Common display options</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#common-hardware-configuration-options"><p>Common hardware configuration options</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/config_txt.html#onboard-analogue-audio-3-5mm-jack"><p>Onboard analogue audio (3.5mm jack)</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#audio_pwm_mode"><p><code class="language-plaintext highlighter-rouge">audio_pwm_mode</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#disable_audio_dither"><p><code class="language-plaintext highlighter-rouge">disable_audio_dither</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#enable_audio_dither"><p><code class="language-plaintext highlighter-rouge">enable_audio_dither</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#pwm_sample_bits"><p><code class="language-plaintext highlighter-rouge">pwm_sample_bits</code></p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/config_txt.html#hdmi-audio"><p>HDMI audio</p>
</a>
                
              </li>
            
              <li>
                <a href="/documentation/computers/config_txt.html#boot-options"><p>Boot Options</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#start_file-fixup_file"><p><code class="language-plaintext highlighter-rouge">start_file</code>, <code class="language-plaintext highlighter-rouge">fixup_file</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#cmdline"><p><code class="language-plaintext highlighter-rouge">cmdline</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#kernel"><p><code class="language-plaintext highlighter-rouge">kernel</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#arm_64bit"><p><code class="language-plaintext highlighter-rouge">arm_64bit</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#ramfsfile"><p><code class="language-plaintext highlighter-rouge">ramfsfile</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#ramfsaddr"><p><code class="language-plaintext highlighter-rouge">ramfsaddr</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#initramfs"><p><code class="language-plaintext highlighter-rouge">initramfs</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#auto_initramfs"><p><code class="language-plaintext highlighter-rouge">auto_initramfs</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#disable_poe_fan"><p><code class="language-plaintext highlighter-rouge">disable_poe_fan</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#disable_splash"><p><code class="language-plaintext highlighter-rouge">disable_splash</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#enable_uart"><p><code class="language-plaintext highlighter-rouge">enable_uart</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#force_eeprom_read"><p><code class="language-plaintext highlighter-rouge">force_eeprom_read</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#os_prefix"><p><code class="language-plaintext highlighter-rouge">os_prefix</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#otg_mode-raspberry-pi-4-only"><p><code class="language-plaintext highlighter-rouge">otg_mode</code> (Raspberry Pi 4 only)</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#overlay_prefix"><p><code class="language-plaintext highlighter-rouge">overlay_prefix</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#configuration-properties"><p>Configuration Properties</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#secure-boot-configuration-properties"><p>Secure Boot configuration properties</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/config_txt.html#gpio-control"><p>GPIO control</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#gpio"><p><code class="language-plaintext highlighter-rouge">gpio</code></p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/config_txt.html#overclocking-options"><p>Overclocking options</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#overclocking"><p>Overclocking</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#clocks-relationship"><p>Clocks relationship</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#monitoring-core-temperature"><p>Monitoring core temperature</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#monitoring-voltage"><p>Monitoring voltage</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#overclocking-problems"><p>Overclocking problems</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/config_txt.html#conditional-filters"><p>Conditional filters</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#the-all-filter"><p>The <code class="language-plaintext highlighter-rouge">[all]</code> filter</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#model-filters"><p>Model filters</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#the-none-filter"><p>The <code class="language-plaintext highlighter-rouge">[none]</code> filter</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#the-tryboot-filter-2"><p>The <code class="language-plaintext highlighter-rouge">[tryboot]</code> filter</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#the-edid-filter"><p>The <code class="language-plaintext highlighter-rouge">[EDID=*]</code> filter</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#the-serial-number-filter"><p>The serial number filter</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#the-gpio-filter"><p>The GPIO filter</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#combine-conditional-filters"><p>Combine conditional filters</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/config_txt.html#memory-options"><p>Memory options</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#total_mem"><p><code class="language-plaintext highlighter-rouge">total_mem</code></p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/config_txt.html#licence-key-and-codec-options"><p>Licence key and codec options</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#decode_mpg2"><p><code class="language-plaintext highlighter-rouge">decode_MPG2</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#decode_wvc1"><p><code class="language-plaintext highlighter-rouge">decode_WVC1</code></p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/config_txt.html#video-options"><p>Video options</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#hdmi-mode"><p>HDMI mode</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#composite-video-mode"><p>Composite video mode</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#lcd-displays-and-touchscreens"><p>LCD displays and touchscreens</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#generic-display-options"><p>Generic display options</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/config_txt.html#camera-settings"><p>Camera settings</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#disable_camera_led"><p><code class="language-plaintext highlighter-rouge">disable_camera_led</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#awb_auto_is_greyworld"><p><code class="language-plaintext highlighter-rouge">awb_auto_is_greyworld</code></p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
          </ul>
        </div>
      
    
      <h3 class="contentshead"><p>Legacy <code class="language-plaintext highlighter-rouge">config.txt</code> options</p>
</h3>
      
        <div class="itemcontents">
          <ul class="sectlevel1">
            
              <li>
                <a href="/documentation/computers/legacy_config_txt.html#legacy-options"><p>Legacy options</p>
</a>
                
              </li>
            
              <li>
                <a href="/documentation/computers/legacy_config_txt.html#legacy-boot-options"><p>Legacy boot options</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#start_x-start_debug"><p><code class="language-plaintext highlighter-rouge">start_x</code>, <code class="language-plaintext highlighter-rouge">start_debug</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#disable_commandline_tags"><p><code class="language-plaintext highlighter-rouge">disable_commandline_tags</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#arm_control"><p><code class="language-plaintext highlighter-rouge">arm_control</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#armstub"><p><code class="language-plaintext highlighter-rouge">armstub</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#arm_peri_high"><p><code class="language-plaintext highlighter-rouge">arm_peri_high</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#kernel_address"><p><code class="language-plaintext highlighter-rouge">kernel_address</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#kernel_old"><p><code class="language-plaintext highlighter-rouge">kernel_old</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#init_uart_baud"><p><code class="language-plaintext highlighter-rouge">init_uart_baud</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#init_uart_clock"><p><code class="language-plaintext highlighter-rouge">init_uart_clock</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#bootcode_delay"><p><code class="language-plaintext highlighter-rouge">bootcode_delay</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#boot_delay"><p><code class="language-plaintext highlighter-rouge">boot_delay</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#boot_delay_ms"><p><code class="language-plaintext highlighter-rouge">boot_delay_ms</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#enable_gic-raspberry-pi-4-only"><p><code class="language-plaintext highlighter-rouge">enable_gic</code> (Raspberry Pi 4 Only)</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#sha256"><p><code class="language-plaintext highlighter-rouge">sha256</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#uart_2ndstage"><p><code class="language-plaintext highlighter-rouge">uart_2ndstage</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#upstream_kernel"><p><code class="language-plaintext highlighter-rouge">upstream_kernel</code></p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/legacy_config_txt.html#legacy-gpio-control"><p>Legacy GPIO control</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#enable_jtag_gpio"><p><code class="language-plaintext highlighter-rouge">enable_jtag_gpio</code></p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/legacy_config_txt.html#legacy-overclocking-options"><p>Legacy overclocking options</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#overclocking"><p>Overclocking</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/legacy_config_txt.html#legacy-conditional-filters"><p>Legacy conditional filters</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#the-hdmi-filter"><p>The <code class="language-plaintext highlighter-rouge">[HDMI:*]</code> filter</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/legacy_config_txt.html#legacy-memory-options"><p>Legacy memory options</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#gpu_mem"><p><code class="language-plaintext highlighter-rouge">gpu_mem</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#gpu_mem_256"><p><code class="language-plaintext highlighter-rouge">gpu_mem_256</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#gpu_mem_512"><p><code class="language-plaintext highlighter-rouge">gpu_mem_512</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#gpu_mem_1024"><p><code class="language-plaintext highlighter-rouge">gpu_mem_1024</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#disable_l2cache"><p><code class="language-plaintext highlighter-rouge">disable_l2cache</code></p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/legacy_config_txt.html#legacy-video-options"><p>Legacy video options</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#hdmi-mode"><p>HDMI mode</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#which-values-are-valid-for-my-monitor"><p>Which values are valid for my monitor?</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#custom-mode"><p>Custom mode</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#composite-video-mode"><p>Composite video mode</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#lcd-displays-and-touchscreens"><p>LCD displays and touchscreens</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#generic-display-options"><p>Generic display options</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#other-options"><p>Other options</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/legacy_config_txt.html#legacy-raspberry-pi-4-hdmi-pipeline"><p>Legacy Raspberry Pi 4 HDMI pipeline</p>
</a>
                
              </li>
            
              <li>
                <a href="/documentation/computers/legacy_config_txt.html#legacy-miscellaneous-options"><p>Legacy Miscellaneous Options</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#avoid_warnings"><p><code class="language-plaintext highlighter-rouge">avoid_warnings</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#logging_level"><p><code class="language-plaintext highlighter-rouge">logging_level</code></p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
          </ul>
        </div>
      
    
      <h3 class="contentshead"><p>The Linux kernel</p>
</h3>
      
        <div class="itemcontents">
          <ul class="sectlevel1">
            
              <li>
                <a href="/documentation/computers/linux_kernel.html#kernel"><p>Introduction</p>
</a>
                
              </li>
            
              <li>
                <a href="/documentation/computers/linux_kernel.html#update"><p>Update</p>
</a>
                
              </li>
            
              <li>
                <a href="/documentation/computers/linux_kernel.html#building"><p>Build the kernel</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/linux_kernel.html#download-kernel-source"><p>Download kernel source</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/linux_kernel.html#natively-build-a-kernel"><p>Natively build a kernel</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/linux_kernel.html#cross-compile-the-kernel"><p>Cross-compile the kernel</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/linux_kernel.html#configure-the-kernel"><p>Configure the kernel</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/linux_kernel.html#prepare-to-configure"><p>Prepare to configure</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/linux_kernel.html#menuconfig"><p><code class="language-plaintext highlighter-rouge">menuconfig</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/linux_kernel.html#save-your-changes"><p>Save your changes</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/linux_kernel.html#patch-the-kernel"><p>Patch the kernel</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/linux_kernel.html#identify-your-kernel-version"><p>Identify your kernel version</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/linux_kernel.html#apply-patches"><p>Apply patches</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/linux_kernel.html#kernel-headers"><p>Kernel headers</p>
</a>
                
              </li>
            
              <li>
                <a href="/documentation/computers/linux_kernel.html#contribute"><p>Contribute</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/linux_kernel.html#contribute-to-the-raspberry-pi-kernel"><p>Contribute to the Raspberry Pi Kernel</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/linux_kernel.html#contribute-to-the-linux-kernel"><p>Contribute to the Linux kernel</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
          </ul>
        </div>
      
    
      <h3 class="contentshead"><p>Remote access</p>
</h3>
      
        <div class="itemcontents">
          <ul class="sectlevel1">
            
              <li>
                <a href="/documentation/computers/remote-access.html#introduction-to-remote-access"><p>Introduction to remote access</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#remote-control-over-the-local-network"><p>Remote control over the local network</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#share-files-between-devices-over-the-local-network"><p>Share files between devices over the local network</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#remote-control-over-the-internet"><p>Remote control over the Internet</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/remote-access.html#ip-address"><p>Find the IP address of your Raspberry Pi</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#desktop"><p>Desktop</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#command-line"><p>Command line</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#boot-output"><p>Boot output</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#network-manager"><p>Network Manager</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#resolve-raspberrypi-local-with-mdns"><p>Resolve <code class="language-plaintext highlighter-rouge">raspberrypi.local</code> with mDNS</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#check-your-routers-list-of-devices"><p>Check your router’s list of devices</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#find-devices-with-nmap"><p>Find devices with <code class="language-plaintext highlighter-rouge">nmap</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#find-devices-with-a-smartphone-app"><p>Find devices with a smartphone app</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/remote-access.html#ssh"><p>Access a remote terminal with SSH</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#enable-the-ssh-server"><p>Enable the SSH server</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#connect-to-an-ssh-server"><p>Connect to an SSH server</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#configure-ssh-without-a-password"><p>Configure SSH without a password</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/remote-access.html#vnc"><p>Screen share with VNC</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#enable-the-vnc-server"><p>Enable the VNC server</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#connect-to-a-vnc-server"><p>Connect to a VNC server</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/remote-access.html#raspberry-pi-connect"><p>Remote access with Raspberry Pi Connect</p>
</a>
                
              </li>
            
              <li>
                <a href="/documentation/computers/remote-access.html#scp"><p>Share files with SCP</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#copy-files-to-your-raspberry-pi"><p>Copy files to your Raspberry Pi</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#copy-files-from-your-raspberry-pi"><p>Copy files from your Raspberry Pi</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#copy-multiple-files-with-one-command"><p>Copy multiple files with one command</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#copy-a-folder"><p>Copy a folder</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/remote-access.html#rsync"><p>Synchronise folders between computers with <code class="language-plaintext highlighter-rouge">rsync</code></p>
</a>
                
              </li>
            
              <li>
                <a href="/documentation/computers/remote-access.html#nfs"><p>Network File System (NFS)</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#set-up-a-basic-nfs-server"><p>Set up a basic NFS server</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#configure-an-nfs-client"><p>Configure an NFS client</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#configure-a-complex-nfs-server"><p>Configure a complex NFS server</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#troubleshooting"><p>Troubleshooting</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/remote-access.html#samba"><p>Samba (SMB/CIFS)</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#install-samba-on-your-raspberry-pi"><p>Install Samba on your Raspberry Pi</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#mount-a-folder-shared-from-windows"><p>Mount a folder shared from Windows</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#sharing-a-folder-from-your-raspberry-pi"><p>Sharing a Folder from your Raspberry Pi</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/remote-access.html#set-up-an-apache-web-server"><p>Set up an Apache web server</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#install-apache"><p>Install Apache</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#test-the-web-server"><p>Test the web server</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#install-php-for-apache"><p>Install PHP for Apache</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/remote-access.html#network-boot-your-raspberry-pi"><p>Network boot your Raspberry Pi</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#configure-a-network-boot-client"><p>Configure a network boot client</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#ethernet-mac-address"><p>Ethernet MAC address</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#configure-a-network-boot-server"><p>Configure a network boot server</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/remote-access.html#network-boot-using-ipv6"><p>Network boot using IPv6</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#how-it-works"><p>How it works</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#test-setup"><p>Test setup</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#debugging"><p>Debugging</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
          </ul>
        </div>
      
    
      <h3 class="contentshead"><p>Camera software</p>
</h3>
      
        <div class="itemcontents">
          <ul class="sectlevel1">
            
              <li>
                <a href="/documentation/computers/camera_software.html#rpicam-apps"><p><code class="language-plaintext highlighter-rouge">rpicam-apps</code></p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#libcamera"><p><code class="language-plaintext highlighter-rouge">libcamera</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#rpicam-hello"><p><code class="language-plaintext highlighter-rouge">rpicam-hello</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#rpicam-jpeg"><p><code class="language-plaintext highlighter-rouge">rpicam-jpeg</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#rpicam-still"><p><code class="language-plaintext highlighter-rouge">rpicam-still</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#rpicam-vid"><p><code class="language-plaintext highlighter-rouge">rpicam-vid</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#rpicam-raw"><p><code class="language-plaintext highlighter-rouge">rpicam-raw</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#rpicam-detect"><p><code class="language-plaintext highlighter-rouge">rpicam-detect</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#configuration"><p>Configuration</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#use-multiple-cameras"><p>Use multiple cameras</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#install-libcamera-and-rpicam-apps"><p>Install <code class="language-plaintext highlighter-rouge">libcamera</code> and <code class="language-plaintext highlighter-rouge">rpicam-apps</code></p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/camera_software.html#stream-video-over-a-network-with-rpicam-apps"><p>Stream video over a network with <code class="language-plaintext highlighter-rouge">rpicam-apps</code></p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#udp"><p>UDP</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#tcp"><p>TCP</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#rtsp"><p>RTSP</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#libav"><p><code class="language-plaintext highlighter-rouge">libav</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#gstreamer"><p>GStreamer</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/camera_software.html#rpicam-apps-options-reference"><p><code class="language-plaintext highlighter-rouge">rpicam-apps</code> options reference</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#common-options"><p>Common options</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#camera-control-options"><p>Camera control options</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#output-file-options"><p>Output file options</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#image-options"><p>Image options</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#video-options"><p>Video options</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#libav-options"><p><code class="language-plaintext highlighter-rouge">libav</code> options</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#detection-options"><p>Detection options</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/camera_software.html#post-processing-with-rpicam-apps"><p>Post-processing with <code class="language-plaintext highlighter-rouge">rpicam-apps</code></p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#built-in-stages"><p>Built-in stages</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#post-processing-with-opencv"><p>Post-processing with OpenCV</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#post-processing-with-tensorflow-lite"><p>Post-Processing with TensorFlow Lite</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#write-your-own-post-processing-stages"><p>Write your own post-processing stages</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/camera_software.html#advanced-rpicam-apps"><p>Advanced <code class="language-plaintext highlighter-rouge">rpicam-apps</code></p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#build-libcamera-and-rpicam-apps"><p>Build <code class="language-plaintext highlighter-rouge">libcamera</code> and <code class="language-plaintext highlighter-rouge">rpicam-apps</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#write-your-own-rpicam-apps"><p>Write your own <code class="language-plaintext highlighter-rouge">rpicam</code> apps</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#use-libcamera-with-qt"><p>Use <code class="language-plaintext highlighter-rouge">libcamera</code> with Qt</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#use-libcamera-from-python-with-picamera2"><p>Use <code class="language-plaintext highlighter-rouge">libcamera</code> from Python with Picamera2</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/camera_software.html#use-a-usb-webcam"><p>Use a USB webcam</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#install-dependencies"><p>Install dependencies</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#take-a-photo"><p>Take a photo</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#automate-image-capture"><p>Automate image capture</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#capture-a-time-lapse"><p>Capture a time lapse</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/camera_software.html#v4l2-drivers"><p>V4L2 drivers</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#device-nodes-when-using-libcamera"><p>Device nodes when using <code class="language-plaintext highlighter-rouge">libcamera</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#use-the-v4l2-drivers"><p>Use the V4L2 drivers</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/camera_software.html#unicam"><p>Unicam</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#software-interfaces"><p>Software interfaces</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#write-a-third-party-driver"><p>Write a third-party driver</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#differences-between-rpicam-and-raspicam"><p>Differences between <code class="language-plaintext highlighter-rouge">rpicam</code> and <code class="language-plaintext highlighter-rouge">raspicam</code></p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/camera_software.html#troubleshooting"><p>Troubleshooting</p>
</a>
                
              </li>
            
              <li>
                <a href="/documentation/computers/camera_software.html#getting-help"><p>Getting help</p>
</a>
                
              </li>
            
          </ul>
        </div>
      
    
      <h3 class="contentshead"><p>Raspberry Pi hardware</p>
</h3>
      
        <div class="itemcontents">
          <ul class="sectlevel1">
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#introduction"><p>Introduction</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#flagship-series"><p>Flagship series</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#zero-series"><p>Zero series</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#compute-module-series"><p>Compute Module series</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#pico-microcontrollers"><p>Pico microcontrollers</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#schematics-and-mechanical-drawings"><p>Schematics and mechanical drawings</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#raspberry-pi-5"><p>Raspberry Pi 5</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#raspberry-pi-4-model-b"><p>Raspberry Pi 4 Model B</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#raspberry-pi-3-model-b"><p>Raspberry Pi 3 Model B+</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#raspberry-pi-3-model-a"><p>Raspberry Pi 3 Model A+</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#raspberry-pi-3-model-b-2"><p>Raspberry Pi 3 Model B</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#raspberry-pi-2-model-b"><p>Raspberry Pi 2 Model B</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#raspberry-pi-1-model-b"><p>Raspberry Pi 1 Model B+</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#raspberry-pi-1-model-a"><p>Raspberry Pi 1 Model A+</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#raspberry-pi-zero-2-w"><p>Raspberry Pi Zero 2 W</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#raspberry-pi-zero-w"><p>Raspberry Pi Zero W</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#raspberry-pi-zero"><p>Raspberry Pi Zero</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#product-compliance-and-safety"><p>Product compliance and safety</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#flammability-rating"><p>Flammability rating</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#raspberry-pi-compliance-support"><p>Raspberry Pi Compliance Support</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#powered-by-raspberry-pi"><p>Powered by Raspberry Pi</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#approved-design-partners"><p>Approved Design Partners</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#frequency-management-and-thermal-control"><p>Frequency management and thermal control</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#use-dvfs"><p>Use DVFS</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#measure-temperatures"><p>Measure temperatures</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#add-heat-sinks"><p>Add heat sinks</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#fan-cases"><p>Fan cases</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#raspberry-pi-boot-eeprom"><p>Raspberry Pi boot EEPROM</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#boot-diagnostics"><p>Boot diagnostics</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#bootloader_update_stable"><p>Update the bootloader</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#update-the-bootloader-configuration"><p>Update the bootloader configuration</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#automaticupdates"><p>Automatic updates</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#bootloader-release"><p>Bootloader release status</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#boot-diagnostics-on-the-raspberry-pi-4"><p>Boot diagnostics on the Raspberry Pi 4</p>
</a>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#raspberry-pi-boot-modes"><p>Raspberry Pi boot modes</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#special-bootcode-bin-only-boot-mode"><p>Special <code class="language-plaintext highlighter-rouge">bootcode.bin</code>-only boot mode</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#bootcode-bin-uart-enable"><p><code class="language-plaintext highlighter-rouge">bootcode.bin</code> UART Enable</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#usb-boot-modes"><p>USB boot modes</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#usb-device-boot-mode"><p>USB device boot mode</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#usb-host-boot-mode"><p>USB host boot mode</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#usb-mass-storage-boot"><p>USB mass storage boot</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#devices-with-an-eeprom-bootloader"><p>Devices with an EEPROM bootloader</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#raspberry-pi-3b"><p>Raspberry Pi 3B+</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#raspberry-pi-2b-3a-3b-cm3-cm3-zero-2-w"><p>Raspberry Pi 2B, 3A+, 3B, CM3, CM3+, Zero 2 W</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#boot-from-usb-mass-storage"><p>Boot from USB mass storage</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#known-issues"><p>Known issues</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#special-bootcode-bin-only-boot-mode-2"><p>Special <code class="language-plaintext highlighter-rouge">bootcode.bin</code>-only boot mode</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#hardware-compatibility"><p>Hardware compatibility</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#multiple-bootable-drives"><p>Multiple bootable drives</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#network-booting"><p>Network booting</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#network-boot-flow"><p>Network boot flow</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#debugging-network-boot-mode"><p>Debugging network boot mode</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#known-problems"><p>Known problems</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#gpio-boot-mode"><p>GPIO boot mode</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#pin-assignments"><p>Pin assignments</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#boot-flow"><p>Boot flow</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#nvme-ssd-boot"><p>NVMe SSD boot</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#prerequisites"><p>Prerequisites</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#edit-eeprom-boot-order"><p>Edit EEPROM boot order</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#nvme-boot_order"><p>NVMe <code class="language-plaintext highlighter-rouge">BOOT_ORDER</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#example"><p>Example</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#troubleshooting"><p>Troubleshooting</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#http-boot"><p>HTTP boot</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#requirements"><p>Requirements</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#keys"><p>Keys</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#certificates"><p>Certificates</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#secure-boot"><p>Secure boot</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#boot-sequence"><p>Boot sequence</p>
</a>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#eeprom-boot-flow"><p>EEPROM boot flow</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#first-stage-bootloader"><p>First stage bootloader</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#second-stage-bootloader"><p>Second stage bootloader</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#bootloader-updates"><p>Bootloader updates</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#fail-safe-os-updates-tryboot"><p>Fail-safe OS updates (<code class="language-plaintext highlighter-rouge">tryboot</code>)</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#tryboot_a_b-mode"><p><code class="language-plaintext highlighter-rouge">tryboot_a_b</code> mode</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#raspberry-pi-bootloader-configuration"><p>Raspberry Pi bootloader configuration</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#edit-the-configuration"><p>Edit the configuration</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#configuration-properties"><p>Configuration properties</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#display-parallel-interface-dpi"><p>Display Parallel Interface (DPI)</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#gpio-pins"><p>GPIO pins</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#disable-other-gpio-peripherals"><p>Disable other GPIO peripherals</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#configure-a-display"><p>Configure a display</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#gpio"><p>GPIO and the 40-pin header</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#outputs"><p>Outputs</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#inputs"><p>Inputs</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#view-a-gpio-pinout-for-your-raspberry-pi"><p>View a GPIO pinout for your Raspberry Pi</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#permissions"><p>Permissions</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#gpio-pads"><p>GPIO pads</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#interrupts"><p>Interrupts</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#alternative-functions"><p>Alternative functions</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#voltage-specifications"><p>Voltage specifications</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#gpio-pads-control"><p>GPIO pads control</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#control-drive-strength"><p>Control drive strength</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#current-value"><p>Current value</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#safe-current"><p>Safe current</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#gpio-addresses"><p>GPIO addresses</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#drive-strength-list"><p>Drive strength list</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#industrial-use-of-the-raspberry-pi"><p>Industrial use of the Raspberry Pi</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#one-time-programmable-settings"><p>One-time programmable settings</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#write-and-read-customer-otp-values"><p>Write and read customer OTP values</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#locking-otp-on-non-bcm2712-devices"><p>Locking OTP on non-BCM2712 devices</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#locking-otp-on-bcm2712-devices"><p>Locking OTP on BCM2712 devices</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#making-customer-otp-bits-unreadable-on-non-bcm2712-devices"><p>Making customer OTP bits unreadable on non-BCM2712 devices</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#customer-mac-addresses-on-bcm2712-devices"><p>Customer MAC addresses on BCM2712 devices</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#device-specific-private-key"><p>Device-specific private key</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#otp-register-and-bit-definitions"><p>OTP register and bit definitions</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#otp-registers-on-non-bcm2712-devices"><p>OTP registers on non-BCM2712 devices</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#otp-registers-on-bcm2712-devices"><p>OTP Registers on BCM2712 devices</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#raspberry-pi-connector-for-pcie"><p>Raspberry Pi connector for PCIe</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#enable-pcie"><p>Enable PCIe</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#boot-from-pcie"><p>Boot from PCIe</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#pcie-gen-3-0"><p>PCIe Gen 3.0</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#power-button"><p>Power button</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#restart"><p>Restart</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#hard-shutdown"><p>Hard shutdown</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#add-your-own-power-button"><p>Add your own power button</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#power-supply"><p>Power supply</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#recommended-power-supplies"><p>Recommended power supplies</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#power-over-ethernet-poe-connector"><p>Power over Ethernet (PoE) connector</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#typical-power-requirements"><p>Typical power requirements</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#power-supply-warnings"><p>Power supply warnings</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#power-supplies-and-raspberry-pi-os"><p>Power supplies and Raspberry Pi OS</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#back-powering"><p>Back-powering</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#real-time-clock-rtc"><p>Real Time Clock (RTC)</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#add-a-backup-battery"><p>Add a backup battery</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#enable-battery-charging"><p>Enable battery charging</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#disable-battery-charging"><p>Disable battery charging</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#spi-overview"><p>Serial peripheral interface (SPI)</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#spi-hardware"><p>SPI hardware</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#spi-software"><p>SPI software</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#troubleshooting-spi-hardware"><p>Troubleshooting</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#universal-serial-bus-usb"><p>Universal Serial Bus (USB)</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#maximum-power-output"><p>Maximum power output</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#raspberry-pi-5-2"><p>Raspberry Pi 5</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#raspberry-pi-4"><p>Raspberry Pi 4</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#raspberry-pi-zero-1-2-and-3"><p>Raspberry Pi Zero, 1, 2 and 3</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#known-usb-issues"><p>Known USB issues</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#raspberry-pi-revision-codes"><p>Raspberry Pi revision codes</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#old-style-revision-codes"><p>Old-style revision codes</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#new-style-revision-codes"><p>New-style revision codes</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#new-style-revision-codes-in-use"><p>New-style revision codes in use</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#using-revision-codes-for-board-identification"><p>Using revision codes for board identification</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#best-practices-for-revision-code-usage"><p>Best practices for revision code usage</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
          </ul>
        </div>
      
    
      <h3 class="contentshead"><p>Compute Module hardware</p>
</h3>
      
        <div class="itemcontents">
          <ul class="sectlevel1">
            
              <li>
                <a href="/documentation/computers/compute-module.html#compute-modules"><p>Compute Modules</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#compute-module-4"><p>Compute Module 4</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#compute-module-4s"><p>Compute Module 4S</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#compute-module-3-plus"><p>Compute Module 3+</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#compute-module-3"><p>Compute Module 3</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#compute-module-1"><p>Compute Module 1</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/compute-module.html#io-boards"><p>IO Boards</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#compute-module-4-io-board"><p>Compute Module 4 IO Board</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#compute-module-io-board"><p>Compute Module IO Board</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#io-board-compatibility"><p>IO Board compatibility</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/compute-module.html#flash-compute-module-emmc"><p>Flash an image to a Compute Module</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#prerequisites"><p>Prerequisites</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#set-up-the-io-board"><p>Set up the IO Board</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#set-up-the-host-device"><p>Set up the host device</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#flash-the-emmc"><p>Flash the eMMC</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#boot-from-emmc"><p>Boot from eMMC</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#known-issues"><p>Known issues</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/compute-module.html#compute-module-eeprom-bootloader"><p>Compute Module EEPROM bootloader</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#flash-compute-module-bootloader-eeprom"><p>Flash Compute Module bootloader EEPROM</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#flash-storage-devices-other-than-sd-cards"><p>Flash storage devices other than SD cards</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#update-the-compute-module-bootloader"><p>Update the Compute Module bootloader</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#modify-the-bootloader-configuration"><p>Modify the bootloader configuration</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/compute-module.html#wire-peripherals"><p>Wire peripherals</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#bcm283x-gpios"><p>BCM283x GPIOs</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#bcm283x-boot-process"><p>BCM283x boot process</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#device-tree"><p>Device Tree</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#dt-blob-bin"><p><code class="language-plaintext highlighter-rouge">dt-blob.bin</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#arm-linux-device-tree"><p>Arm Linux Device Tree</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#device-tree-source-and-compilation"><p>Device Tree source and compilation</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#device-tree-debugging"><p>Device Tree debugging</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#examples"><p>Examples</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/compute-module.html#attach-a-camera-module"><p>Attach a Camera Module</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#update-your-system"><p>Update your system</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#connect-one-camera"><p>Connect one camera</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#connect-two-cameras"><p>Connect two cameras</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#software"><p>Software</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#i2c-mapping-of-gpio-pins"><p>I2C mapping of GPIO pins</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/compute-module.html#attach-the-official-7-inch-display"><p>Attach the official 7-inch display</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#connect-a-display-to-disp1"><p>Connect a display to DISP1</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#connect-a-display-to-disp0"><p>Connect a display to DISP0</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#disable-touchscreen"><p>Disable touchscreen</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#disable-display"><p>Disable display</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/compute-module.html#specifications"><p>Specifications</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#compute-module-4-datasheet"><p>Compute Module 4 datasheet</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#compute-module-4-io-board-datasheet"><p>Compute Module 4 IO Board datasheet</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#compute-module-4s-datasheet"><p>Compute Module 4S datasheet</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#compute-module-3-datasheet"><p>Compute Module 3+ datasheet</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#compute-module-1-and-compute-module-3-datasheet"><p>Compute Module 1 and Compute Module 3 datasheet</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#compute-module-io-board-schematics"><p>Compute Module IO Board schematics</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#compute-module-cameradisplay-adapter-board-schematics"><p>Compute Module Camera/Display Adapter Board schematics</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#under-voltage-detection"><p>Under-voltage detection</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
          </ul>
        </div>
      
    
      <h3 class="contentshead"><p>Processors</p>
</h3>
      
        <div class="itemcontents">
          <ul class="sectlevel1">
            
              <li>
                <a href="/documentation/computers/processors.html#bcm2835"><p>BCM2835</p>
</a>
                
              </li>
            
              <li>
                <a href="/documentation/computers/processors.html#bcm2836"><p>BCM2836</p>
</a>
                
              </li>
            
              <li>
                <a href="/documentation/computers/processors.html#bcm2837"><p>BCM2837</p>
</a>
                
              </li>
            
              <li>
                <a href="/documentation/computers/processors.html#bcm2837b0"><p>BCM2837B0</p>
</a>
                
              </li>
            
              <li>
                <a href="/documentation/computers/processors.html#bcm2711"><p>BCM2711</p>
</a>
                
              </li>
            
              <li>
                <a href="/documentation/computers/processors.html#bcm2712"><p>BCM2712</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/processors.html#bcm2712d0"><p>BCM2712D0</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/processors.html#rp3a0"><p>RP3A0</p>
</a>
                
              </li>
            
          </ul>
        </div>
      
    
  </div>
  











</nav>
      <nav id="contents">



  
    <h2><a href="/documentation/computers/"><p>Computers</p>
</a></h2>
    
      <h3 class="contentshead" onclick="expandAndCollapse(this)"><p>Getting started</p>
</h3>
      
        
        <div class="itemcontents">
          <ul class="sectlevel1">
            
              <li>
                <a href="/documentation/computers/getting-started.html#setting-up-your-raspberry-pi"><p>Getting started with your Raspberry Pi</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/getting-started.html#power-supply"><p>Power supply</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/getting-started.html#sd-cards"><p>Boot Media</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/getting-started.html#keyboard"><p>Keyboard</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/getting-started.html#mouse"><p>Mouse</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/getting-started.html#display"><p>Display</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/getting-started.html#audio"><p>Audio</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/getting-started.html#networking"><p>Networking</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/getting-started.html#installing-the-operating-system"><p>Install an operating system</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/getting-started.html#raspberry-pi-imager"><p>Install using Imager</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/getting-started.html#install-over-the-network"><p>Install over the network</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/getting-started.html#set-up-your-raspberry-pi"><p>Set up your Raspberry Pi</p>
</a>
                
              </li>
            
              <li>
                <a href="/documentation/computers/getting-started.html#configuration-on-first-boot"><p>Configuration on first boot</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/getting-started.html#bluetooth"><p>Bluetooth</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/getting-started.html#locale"><p>Locale</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/getting-started.html#user"><p>User</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/getting-started.html#wi-fi"><p>Wi-Fi</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/getting-started.html#browser"><p>Browser</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/getting-started.html#raspberry-pi-connect"><p>Raspberry Pi Connect</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/getting-started.html#software-updates"><p>Software updates</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/getting-started.html#finish"><p>Finish</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/getting-started.html#next-steps"><p>Next steps</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/getting-started.html#recommended-software"><p>Recommended software</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/getting-started.html#tutorials"><p>Tutorials</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/getting-started.html#support"><p>Support</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/getting-started.html#further-reading"><p>Further reading</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
          </ul>
        </div>
        
      
    
      <h3 class="contentshead" onclick="expandAndCollapse(this)"><p>Raspberry Pi OS</p>
</h3>
      
        
        <div class="itemcontents">
          <ul class="sectlevel1">
            
              <li>
                <a href="/documentation/computers/os.html#introduction"><p>Introduction</p>
</a>
                
              </li>
            
              <li>
                <a href="/documentation/computers/os.html#update-software"><p>Update software</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/os.html#manage-software-packages-with-apt"><p>Manage software packages with APT</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/os.html#upgrade-your-operating-system-to-a-new-major-version"><p>Upgrade your operating system to a new major version</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/os.html#rpi-update"><p>Upgrade your firmware</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/os.html#downgrade-firmware-to-the-last-stable-release"><p>Downgrade firmware to the last stable release</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/os.html#play-audio-and-video"><p>Play audio and video</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/os.html#vlc-media-player"><p>VLC media player</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/os.html#play-audio-and-video-on-raspberry-pi-os-lite"><p>Play audio and video on Raspberry Pi OS Lite</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/os.html#specify-an-audio-output-device"><p>Specify an audio output device</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/os.html#specify-a-video-output-device"><p>Specify a video output device</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/os.html#specify-both-audio-and-video-output-devices"><p>Specify both audio and video output devices</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/os.html#improve-stream-playback-performance"><p>Improve stream playback performance</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/os.html#utilities"><p>Utilities</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/os.html#kmsprint"><p><code class="language-plaintext highlighter-rouge">kmsprint</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/os.html#vclog"><p><code class="language-plaintext highlighter-rouge">vclog</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/os.html#vcgencmd"><p><code class="language-plaintext highlighter-rouge">vcgencmd</code></p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/os.html#accessibility-options"><p>Accessibility options</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/os.html#visual-aids"><p>Visual aids</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/os.html#use-python-on-a-raspberry-pi"><p>Use Python on a Raspberry Pi</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/os.html#install-python-packages-using-apt"><p>Install Python packages using <code class="language-plaintext highlighter-rouge">apt</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/os.html#install-python-libraries-using-pip"><p>Install Python libraries using <code class="language-plaintext highlighter-rouge">pip</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/os.html#use-the-thonny-editor"><p>Use the Thonny editor</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/os.html#use-gpio-from-python"><p>Use GPIO from Python</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/os.html#led-control"><p>LED control</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/os.html#read-button-state"><p>Read button state</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/os.html#control-an-led-with-a-button"><p>Control an LED with a button</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
          </ul>
        </div>
        
      
    
      <h3 class="contentshead" onclick="expandAndCollapse(this)"><p>Configuration</p>
</h3>
      
        
        <div class="itemcontents">
          <ul class="sectlevel1">
            
              <li>
                <a href="/documentation/computers/configuration.html#raspi-config"><p><code class="language-plaintext highlighter-rouge">raspi-config</code></p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#menu-options"><p>System options</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#display-options"><p>Display options</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#interfacing-options"><p>Interface options</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#performance-options"><p>Performance options</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#localisation-options"><p>Localisation options</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#advanced-options"><p>Advanced options</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#update"><p>Update</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#about"><p>About raspi-config</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#finish"><p>Finish</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/configuration.html#raspi-config-cli"><p>non-interactive <code class="language-plaintext highlighter-rouge">raspi-config</code></p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#system-options"><p>System options</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#display-options-2"><p>Display options</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#interfacing-options-nonint"><p>Interface options</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#performance-options-2"><p>Performance options</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#localisation-options-nonint"><p>Localisation options</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#advanced-options-nonint"><p>Advanced options</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#update-nonint"><p>Update</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/configuration.html#displays"><p>Displays</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#support-for-hdmi-monitors"><p>Support for HDMI monitors</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#set-resolution-and-rotation"><p>Set resolution and rotation</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#manually-set-resolution-and-rotation"><p>Manually set resolution and rotation</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#console-resolution-and-rotation"><p>Console resolution and rotation</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/configuration.html#audio-3"><p>Audio</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#change-audio-output"><p>Change audio output</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/configuration.html#networking"><p>Networking</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#connect-to-a-wireless-network"><p>Connect to a wireless network</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#configure-dhcp"><p>Configure DHCP</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#assign-a-static-ip-address"><p>Assign a static IP address</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/configuration.html#screen-blanking-3"><p>Screen blanking</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#desktop"><p>Desktop</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#console"><p>Console</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/configuration.html#users"><p>Users</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#change-user-password"><p>Change a user’s password</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#add-a-user"><p>Add a user</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#delete-a-user"><p>Delete a user</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#change-the-default-user"><p>Change the default user</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/configuration.html#external-storage"><p>External storage</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#mount-a-storage-device"><p>Mount a storage device</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#automatically-mount-a-storage-device"><p>Automatically mount a storage device</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#unmount-a-storage-device"><p>Unmount a storage device</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/configuration.html#kernel-command-line-cmdline-txt"><p>Kernel command line (<code class="language-plaintext highlighter-rouge">cmdline.txt</code>)</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#command-line-options"><p>Command line options</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/configuration.html#localise-your-raspberry-pi"><p>Localise your Raspberry Pi</p>
</a>
                
              </li>
            
              <li>
                <a href="/documentation/computers/configuration.html#secure-your-raspberry-pi"><p>Secure your Raspberry Pi</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#require-a-password-for-sudo-commands"><p>Require a password for <code class="language-plaintext highlighter-rouge">sudo</code> commands</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#update-raspberry-pi-os"><p>Update Raspberry Pi OS</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#automatically-update-your-ssh-server"><p>Automatically update your SSH server</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#improve-ssh-security"><p>Improve SSH security</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#use-a-firewall"><p>Use a firewall</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#block-suspicious-activity-with-fail2ban"><p>Block suspicious activity with <code class="language-plaintext highlighter-rouge">fail2ban</code></p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/configuration.html#setting-up-a-headless-raspberry-pi"><p>Set up a headless Raspberry Pi</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#connect-to-a-wired-network"><p>Connect to a wired network</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#connect-to-a-wireless-network-2"><p>Connect to a wireless network</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#remote-access"><p>Remote access</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/configuration.html#host-a-wireless-network-from-your-raspberry-pi"><p>Host a wireless network from your Raspberry Pi</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#enable-hotspot"><p>Enable hotspot</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#disable-hotspot"><p>Disable hotspot</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#use-your-raspberry-pi-as-a-network-bridge"><p>Use your Raspberry Pi as a network bridge</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/configuration.html#use-a-proxy-server"><p>Use a proxy server</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#configure-your-raspberry-pi"><p>Configure your Raspberry Pi</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#update-the-sudoers-file"><p>Update the <code class="language-plaintext highlighter-rouge">sudoers</code> file</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#reboot-your-raspberry-pi"><p>Reboot your Raspberry Pi</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/configuration.html#boot-folder-contents"><p><code class="language-plaintext highlighter-rouge">boot</code> folder contents</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#bootcode-bin"><p><code class="language-plaintext highlighter-rouge">bootcode.bin</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#start-elf"><p><code class="language-plaintext highlighter-rouge">start*.elf</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#fixup-dat"><p><code class="language-plaintext highlighter-rouge">fixup*.dat</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#cmdline-txt"><p><code class="language-plaintext highlighter-rouge">cmdline.txt</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#config-txt"><p><code class="language-plaintext highlighter-rouge">config.txt</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#issue-txt"><p><code class="language-plaintext highlighter-rouge">issue.txt</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#initramfs"><p><code class="language-plaintext highlighter-rouge">initramfs*</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#ssh-or-ssh-txt"><p><code class="language-plaintext highlighter-rouge">ssh</code> or <code class="language-plaintext highlighter-rouge">ssh.txt</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#device-tree-blob-files-dtb"><p>Device Tree blob files (<code class="language-plaintext highlighter-rouge">*.dtb</code>)</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#kernel-files-img"><p>Kernel files (<code class="language-plaintext highlighter-rouge">*.img</code>)</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#overlays-folder"><p><code class="language-plaintext highlighter-rouge">overlays</code> folder</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/configuration.html#led-warning-flash-codes"><p>LED warning flash codes</p>
</a>
                
              </li>
            
              <li>
                <a href="/documentation/computers/configuration.html#configure-uarts"><p>Configure UARTs</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#raspberry-pi-zero-1-2-and-3"><p>Raspberry Pi Zero, 1, 2 and 3</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#raspberry-pi-4-and-400"><p>Raspberry Pi 4 and 400</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#raspberry-pi-5"><p>Raspberry Pi 5</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#cm1-cm3-cm3-and-cm4"><p>CM1, CM3, CM3+ and CM4</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#primary-uart"><p>Primary UART</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#secondary-uart"><p>Secondary UART</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#primary-and-secondary-uart"><p>Primary and Secondary UART</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#mini-uart-and-cpu-core-frequency"><p>Mini-UART and CPU Core Frequency</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#disabling-the-linux-serial-console"><p>Disabling the Linux Serial Console</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#enabling-early-console-for-linux"><p>Enabling early console for Linux</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#uarts-and-device-tree"><p>UARTs and Device Tree</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#pl011-and-mini-uart"><p>PL011 and mini-UART</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/configuration.html#device-trees-overlays-and-parameters"><p>Device Trees, overlays, and parameters</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#part1"><p>Device Trees</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#part2"><p>Device Tree overlays</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#part3"><p>Using Device Trees on Raspberry Pi</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#part4"><p>Firmware parameters</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#part5"><p>Troubleshooting</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/configuration.html#change-the-default-pin-configuration"><p>Change the default pin configuration</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#device-pins-during-boot-sequence"><p>Device pins during boot sequence</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#provide-a-custom-device-tree-blob"><p>Provide a custom Device Tree blob</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#sections-of-the-dt-blob"><p>Sections of the <code class="language-plaintext highlighter-rouge">dt-blob</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#clock-configuration"><p>Clock configuration</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/configuration.html#sample-device-tree-source-file"><p>Sample Device Tree source file</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
          </ul>
        </div>
        
      
    
      <h3 class="contentshead" onclick="expandAndCollapse(this)"><p><code class="language-plaintext highlighter-rouge">config.txt</code></p>
</h3>
      
        
        <div class="itemcontents">
          <ul class="sectlevel1">
            
              <li>
                <a href="/documentation/computers/config_txt.html#what-is-config-txt"><p>What is <code class="language-plaintext highlighter-rouge">config.txt</code>?</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#file-format"><p>File format</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#advanced-features"><p>Advanced features</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/config_txt.html#autoboot-txt"><p><code class="language-plaintext highlighter-rouge">autoboot.txt</code></p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#boot_partition"><p><code class="language-plaintext highlighter-rouge">boot_partition</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#the-tryboot-filter"><p>The <code class="language-plaintext highlighter-rouge">[tryboot]</code> filter</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#tryboot_a_b"><p><code class="language-plaintext highlighter-rouge">tryboot_a_b</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#example-update-flow-for-ab-booting"><p>Example update flow for A/B booting</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/config_txt.html#common-options"><p>Common options</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#common-display-options"><p>Common display options</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#common-hardware-configuration-options"><p>Common hardware configuration options</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/config_txt.html#onboard-analogue-audio-3-5mm-jack"><p>Onboard analogue audio (3.5mm jack)</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#audio_pwm_mode"><p><code class="language-plaintext highlighter-rouge">audio_pwm_mode</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#disable_audio_dither"><p><code class="language-plaintext highlighter-rouge">disable_audio_dither</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#enable_audio_dither"><p><code class="language-plaintext highlighter-rouge">enable_audio_dither</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#pwm_sample_bits"><p><code class="language-plaintext highlighter-rouge">pwm_sample_bits</code></p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/config_txt.html#hdmi-audio"><p>HDMI audio</p>
</a>
                
              </li>
            
              <li>
                <a href="/documentation/computers/config_txt.html#boot-options"><p>Boot Options</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#start_file-fixup_file"><p><code class="language-plaintext highlighter-rouge">start_file</code>, <code class="language-plaintext highlighter-rouge">fixup_file</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#cmdline"><p><code class="language-plaintext highlighter-rouge">cmdline</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#kernel"><p><code class="language-plaintext highlighter-rouge">kernel</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#arm_64bit"><p><code class="language-plaintext highlighter-rouge">arm_64bit</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#ramfsfile"><p><code class="language-plaintext highlighter-rouge">ramfsfile</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#ramfsaddr"><p><code class="language-plaintext highlighter-rouge">ramfsaddr</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#initramfs"><p><code class="language-plaintext highlighter-rouge">initramfs</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#auto_initramfs"><p><code class="language-plaintext highlighter-rouge">auto_initramfs</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#disable_poe_fan"><p><code class="language-plaintext highlighter-rouge">disable_poe_fan</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#disable_splash"><p><code class="language-plaintext highlighter-rouge">disable_splash</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#enable_uart"><p><code class="language-plaintext highlighter-rouge">enable_uart</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#force_eeprom_read"><p><code class="language-plaintext highlighter-rouge">force_eeprom_read</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#os_prefix"><p><code class="language-plaintext highlighter-rouge">os_prefix</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#otg_mode-raspberry-pi-4-only"><p><code class="language-plaintext highlighter-rouge">otg_mode</code> (Raspberry Pi 4 only)</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#overlay_prefix"><p><code class="language-plaintext highlighter-rouge">overlay_prefix</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#configuration-properties"><p>Configuration Properties</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#secure-boot-configuration-properties"><p>Secure Boot configuration properties</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/config_txt.html#gpio-control"><p>GPIO control</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#gpio"><p><code class="language-plaintext highlighter-rouge">gpio</code></p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/config_txt.html#overclocking-options"><p>Overclocking options</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#overclocking"><p>Overclocking</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#clocks-relationship"><p>Clocks relationship</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#monitoring-core-temperature"><p>Monitoring core temperature</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#monitoring-voltage"><p>Monitoring voltage</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#overclocking-problems"><p>Overclocking problems</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/config_txt.html#conditional-filters"><p>Conditional filters</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#the-all-filter"><p>The <code class="language-plaintext highlighter-rouge">[all]</code> filter</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#model-filters"><p>Model filters</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#the-none-filter"><p>The <code class="language-plaintext highlighter-rouge">[none]</code> filter</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#the-tryboot-filter-2"><p>The <code class="language-plaintext highlighter-rouge">[tryboot]</code> filter</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#the-edid-filter"><p>The <code class="language-plaintext highlighter-rouge">[EDID=*]</code> filter</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#the-serial-number-filter"><p>The serial number filter</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#the-gpio-filter"><p>The GPIO filter</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#combine-conditional-filters"><p>Combine conditional filters</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/config_txt.html#memory-options"><p>Memory options</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#total_mem"><p><code class="language-plaintext highlighter-rouge">total_mem</code></p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/config_txt.html#licence-key-and-codec-options"><p>Licence key and codec options</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#decode_mpg2"><p><code class="language-plaintext highlighter-rouge">decode_MPG2</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#decode_wvc1"><p><code class="language-plaintext highlighter-rouge">decode_WVC1</code></p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/config_txt.html#video-options"><p>Video options</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#hdmi-mode"><p>HDMI mode</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#composite-video-mode"><p>Composite video mode</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#lcd-displays-and-touchscreens"><p>LCD displays and touchscreens</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#generic-display-options"><p>Generic display options</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/config_txt.html#camera-settings"><p>Camera settings</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#disable_camera_led"><p><code class="language-plaintext highlighter-rouge">disable_camera_led</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/config_txt.html#awb_auto_is_greyworld"><p><code class="language-plaintext highlighter-rouge">awb_auto_is_greyworld</code></p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
          </ul>
        </div>
        
      
    
      <h3 class="contentshead" onclick="expandAndCollapse(this)"><p>Legacy <code class="language-plaintext highlighter-rouge">config.txt</code> options</p>
</h3>
      
        
        <div class="itemcontents">
          <ul class="sectlevel1">
            
              <li>
                <a href="/documentation/computers/legacy_config_txt.html#legacy-options"><p>Legacy options</p>
</a>
                
              </li>
            
              <li>
                <a href="/documentation/computers/legacy_config_txt.html#legacy-boot-options"><p>Legacy boot options</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#start_x-start_debug"><p><code class="language-plaintext highlighter-rouge">start_x</code>, <code class="language-plaintext highlighter-rouge">start_debug</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#disable_commandline_tags"><p><code class="language-plaintext highlighter-rouge">disable_commandline_tags</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#arm_control"><p><code class="language-plaintext highlighter-rouge">arm_control</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#armstub"><p><code class="language-plaintext highlighter-rouge">armstub</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#arm_peri_high"><p><code class="language-plaintext highlighter-rouge">arm_peri_high</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#kernel_address"><p><code class="language-plaintext highlighter-rouge">kernel_address</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#kernel_old"><p><code class="language-plaintext highlighter-rouge">kernel_old</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#init_uart_baud"><p><code class="language-plaintext highlighter-rouge">init_uart_baud</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#init_uart_clock"><p><code class="language-plaintext highlighter-rouge">init_uart_clock</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#bootcode_delay"><p><code class="language-plaintext highlighter-rouge">bootcode_delay</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#boot_delay"><p><code class="language-plaintext highlighter-rouge">boot_delay</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#boot_delay_ms"><p><code class="language-plaintext highlighter-rouge">boot_delay_ms</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#enable_gic-raspberry-pi-4-only"><p><code class="language-plaintext highlighter-rouge">enable_gic</code> (Raspberry Pi 4 Only)</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#sha256"><p><code class="language-plaintext highlighter-rouge">sha256</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#uart_2ndstage"><p><code class="language-plaintext highlighter-rouge">uart_2ndstage</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#upstream_kernel"><p><code class="language-plaintext highlighter-rouge">upstream_kernel</code></p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/legacy_config_txt.html#legacy-gpio-control"><p>Legacy GPIO control</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#enable_jtag_gpio"><p><code class="language-plaintext highlighter-rouge">enable_jtag_gpio</code></p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/legacy_config_txt.html#legacy-overclocking-options"><p>Legacy overclocking options</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#overclocking"><p>Overclocking</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/legacy_config_txt.html#legacy-conditional-filters"><p>Legacy conditional filters</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#the-hdmi-filter"><p>The <code class="language-plaintext highlighter-rouge">[HDMI:*]</code> filter</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/legacy_config_txt.html#legacy-memory-options"><p>Legacy memory options</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#gpu_mem"><p><code class="language-plaintext highlighter-rouge">gpu_mem</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#gpu_mem_256"><p><code class="language-plaintext highlighter-rouge">gpu_mem_256</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#gpu_mem_512"><p><code class="language-plaintext highlighter-rouge">gpu_mem_512</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#gpu_mem_1024"><p><code class="language-plaintext highlighter-rouge">gpu_mem_1024</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#disable_l2cache"><p><code class="language-plaintext highlighter-rouge">disable_l2cache</code></p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/legacy_config_txt.html#legacy-video-options"><p>Legacy video options</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#hdmi-mode"><p>HDMI mode</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#which-values-are-valid-for-my-monitor"><p>Which values are valid for my monitor?</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#custom-mode"><p>Custom mode</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#composite-video-mode"><p>Composite video mode</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#lcd-displays-and-touchscreens"><p>LCD displays and touchscreens</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#generic-display-options"><p>Generic display options</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#other-options"><p>Other options</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/legacy_config_txt.html#legacy-raspberry-pi-4-hdmi-pipeline"><p>Legacy Raspberry Pi 4 HDMI pipeline</p>
</a>
                
              </li>
            
              <li>
                <a href="/documentation/computers/legacy_config_txt.html#legacy-miscellaneous-options"><p>Legacy Miscellaneous Options</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#avoid_warnings"><p><code class="language-plaintext highlighter-rouge">avoid_warnings</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/legacy_config_txt.html#logging_level"><p><code class="language-plaintext highlighter-rouge">logging_level</code></p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
          </ul>
        </div>
        
      
    
      <h3 class="contentshead" onclick="expandAndCollapse(this)"><p>The Linux kernel</p>
</h3>
      
        
        <div class="itemcontents">
          <ul class="sectlevel1">
            
              <li>
                <a href="/documentation/computers/linux_kernel.html#kernel"><p>Introduction</p>
</a>
                
              </li>
            
              <li>
                <a href="/documentation/computers/linux_kernel.html#update"><p>Update</p>
</a>
                
              </li>
            
              <li>
                <a href="/documentation/computers/linux_kernel.html#building"><p>Build the kernel</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/linux_kernel.html#download-kernel-source"><p>Download kernel source</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/linux_kernel.html#natively-build-a-kernel"><p>Natively build a kernel</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/linux_kernel.html#cross-compile-the-kernel"><p>Cross-compile the kernel</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/linux_kernel.html#configure-the-kernel"><p>Configure the kernel</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/linux_kernel.html#prepare-to-configure"><p>Prepare to configure</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/linux_kernel.html#menuconfig"><p><code class="language-plaintext highlighter-rouge">menuconfig</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/linux_kernel.html#save-your-changes"><p>Save your changes</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/linux_kernel.html#patch-the-kernel"><p>Patch the kernel</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/linux_kernel.html#identify-your-kernel-version"><p>Identify your kernel version</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/linux_kernel.html#apply-patches"><p>Apply patches</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/linux_kernel.html#kernel-headers"><p>Kernel headers</p>
</a>
                
              </li>
            
              <li>
                <a href="/documentation/computers/linux_kernel.html#contribute"><p>Contribute</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/linux_kernel.html#contribute-to-the-raspberry-pi-kernel"><p>Contribute to the Raspberry Pi Kernel</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/linux_kernel.html#contribute-to-the-linux-kernel"><p>Contribute to the Linux kernel</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
          </ul>
        </div>
        
      
    
      <h3 class="contentshead" onclick="expandAndCollapse(this)"><p>Remote access</p>
</h3>
      
        
        <div class="itemcontents">
          <ul class="sectlevel1">
            
              <li>
                <a href="/documentation/computers/remote-access.html#introduction-to-remote-access"><p>Introduction to remote access</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#remote-control-over-the-local-network"><p>Remote control over the local network</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#share-files-between-devices-over-the-local-network"><p>Share files between devices over the local network</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#remote-control-over-the-internet"><p>Remote control over the Internet</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/remote-access.html#ip-address"><p>Find the IP address of your Raspberry Pi</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#desktop"><p>Desktop</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#command-line"><p>Command line</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#boot-output"><p>Boot output</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#network-manager"><p>Network Manager</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#resolve-raspberrypi-local-with-mdns"><p>Resolve <code class="language-plaintext highlighter-rouge">raspberrypi.local</code> with mDNS</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#check-your-routers-list-of-devices"><p>Check your router’s list of devices</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#find-devices-with-nmap"><p>Find devices with <code class="language-plaintext highlighter-rouge">nmap</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#find-devices-with-a-smartphone-app"><p>Find devices with a smartphone app</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/remote-access.html#ssh"><p>Access a remote terminal with SSH</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#enable-the-ssh-server"><p>Enable the SSH server</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#connect-to-an-ssh-server"><p>Connect to an SSH server</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#configure-ssh-without-a-password"><p>Configure SSH without a password</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/remote-access.html#vnc"><p>Screen share with VNC</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#enable-the-vnc-server"><p>Enable the VNC server</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#connect-to-a-vnc-server"><p>Connect to a VNC server</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/remote-access.html#raspberry-pi-connect"><p>Remote access with Raspberry Pi Connect</p>
</a>
                
              </li>
            
              <li>
                <a href="/documentation/computers/remote-access.html#scp"><p>Share files with SCP</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#copy-files-to-your-raspberry-pi"><p>Copy files to your Raspberry Pi</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#copy-files-from-your-raspberry-pi"><p>Copy files from your Raspberry Pi</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#copy-multiple-files-with-one-command"><p>Copy multiple files with one command</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#copy-a-folder"><p>Copy a folder</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/remote-access.html#rsync"><p>Synchronise folders between computers with <code class="language-plaintext highlighter-rouge">rsync</code></p>
</a>
                
              </li>
            
              <li>
                <a href="/documentation/computers/remote-access.html#nfs"><p>Network File System (NFS)</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#set-up-a-basic-nfs-server"><p>Set up a basic NFS server</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#configure-an-nfs-client"><p>Configure an NFS client</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#configure-a-complex-nfs-server"><p>Configure a complex NFS server</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#troubleshooting"><p>Troubleshooting</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/remote-access.html#samba"><p>Samba (SMB/CIFS)</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#install-samba-on-your-raspberry-pi"><p>Install Samba on your Raspberry Pi</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#mount-a-folder-shared-from-windows"><p>Mount a folder shared from Windows</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#sharing-a-folder-from-your-raspberry-pi"><p>Sharing a Folder from your Raspberry Pi</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/remote-access.html#set-up-an-apache-web-server"><p>Set up an Apache web server</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#install-apache"><p>Install Apache</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#test-the-web-server"><p>Test the web server</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#install-php-for-apache"><p>Install PHP for Apache</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/remote-access.html#network-boot-your-raspberry-pi"><p>Network boot your Raspberry Pi</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#configure-a-network-boot-client"><p>Configure a network boot client</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#ethernet-mac-address"><p>Ethernet MAC address</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#configure-a-network-boot-server"><p>Configure a network boot server</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/remote-access.html#network-boot-using-ipv6"><p>Network boot using IPv6</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#how-it-works"><p>How it works</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#test-setup"><p>Test setup</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/remote-access.html#debugging"><p>Debugging</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
          </ul>
        </div>
        
      
    
      <h3 class="contentshead" onclick="expandAndCollapse(this)"><p>Camera software</p>
</h3>
      
        
        <div class="itemcontents" id="toc"></div>
        <div class="itemcontents noJS">
          <ul class="sectlevel1">
            
              <li>
                <a href="/documentation/computers/camera_software.html#rpicam-apps"><p><code class="language-plaintext highlighter-rouge">rpicam-apps</code></p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#libcamera"><p><code class="language-plaintext highlighter-rouge">libcamera</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#rpicam-hello"><p><code class="language-plaintext highlighter-rouge">rpicam-hello</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#rpicam-jpeg"><p><code class="language-plaintext highlighter-rouge">rpicam-jpeg</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#rpicam-still"><p><code class="language-plaintext highlighter-rouge">rpicam-still</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#rpicam-vid"><p><code class="language-plaintext highlighter-rouge">rpicam-vid</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#rpicam-raw"><p><code class="language-plaintext highlighter-rouge">rpicam-raw</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#rpicam-detect"><p><code class="language-plaintext highlighter-rouge">rpicam-detect</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#configuration"><p>Configuration</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#use-multiple-cameras"><p>Use multiple cameras</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#install-libcamera-and-rpicam-apps"><p>Install <code class="language-plaintext highlighter-rouge">libcamera</code> and <code class="language-plaintext highlighter-rouge">rpicam-apps</code></p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/camera_software.html#stream-video-over-a-network-with-rpicam-apps"><p>Stream video over a network with <code class="language-plaintext highlighter-rouge">rpicam-apps</code></p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#udp"><p>UDP</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#tcp"><p>TCP</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#rtsp"><p>RTSP</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#libav"><p><code class="language-plaintext highlighter-rouge">libav</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#gstreamer"><p>GStreamer</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/camera_software.html#rpicam-apps-options-reference"><p><code class="language-plaintext highlighter-rouge">rpicam-apps</code> options reference</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#common-options"><p>Common options</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#camera-control-options"><p>Camera control options</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#output-file-options"><p>Output file options</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#image-options"><p>Image options</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#video-options"><p>Video options</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#libav-options"><p><code class="language-plaintext highlighter-rouge">libav</code> options</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#detection-options"><p>Detection options</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/camera_software.html#post-processing-with-rpicam-apps"><p>Post-processing with <code class="language-plaintext highlighter-rouge">rpicam-apps</code></p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#built-in-stages"><p>Built-in stages</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#post-processing-with-opencv"><p>Post-processing with OpenCV</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#post-processing-with-tensorflow-lite"><p>Post-Processing with TensorFlow Lite</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#write-your-own-post-processing-stages"><p>Write your own post-processing stages</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/camera_software.html#advanced-rpicam-apps"><p>Advanced <code class="language-plaintext highlighter-rouge">rpicam-apps</code></p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#build-libcamera-and-rpicam-apps"><p>Build <code class="language-plaintext highlighter-rouge">libcamera</code> and <code class="language-plaintext highlighter-rouge">rpicam-apps</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#write-your-own-rpicam-apps"><p>Write your own <code class="language-plaintext highlighter-rouge">rpicam</code> apps</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#use-libcamera-with-qt"><p>Use <code class="language-plaintext highlighter-rouge">libcamera</code> with Qt</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#use-libcamera-from-python-with-picamera2"><p>Use <code class="language-plaintext highlighter-rouge">libcamera</code> from Python with Picamera2</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/camera_software.html#use-a-usb-webcam"><p>Use a USB webcam</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#install-dependencies"><p>Install dependencies</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#take-a-photo"><p>Take a photo</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#automate-image-capture"><p>Automate image capture</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#capture-a-time-lapse"><p>Capture a time lapse</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/camera_software.html#v4l2-drivers"><p>V4L2 drivers</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#device-nodes-when-using-libcamera"><p>Device nodes when using <code class="language-plaintext highlighter-rouge">libcamera</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#use-the-v4l2-drivers"><p>Use the V4L2 drivers</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/camera_software.html#unicam"><p>Unicam</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#software-interfaces"><p>Software interfaces</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#write-a-third-party-driver"><p>Write a third-party driver</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/camera_software.html#differences-between-rpicam-and-raspicam"><p>Differences between <code class="language-plaintext highlighter-rouge">rpicam</code> and <code class="language-plaintext highlighter-rouge">raspicam</code></p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/camera_software.html#troubleshooting"><p>Troubleshooting</p>
</a>
                
              </li>
            
              <li>
                <a href="/documentation/computers/camera_software.html#getting-help"><p>Getting help</p>
</a>
                
              </li>
            
          </ul>
        </div>
        
      
    
      <h3 class="contentshead" onclick="expandAndCollapse(this)"><p>Raspberry Pi hardware</p>
</h3>
      
        
        <div class="itemcontents">
          <ul class="sectlevel1">
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#introduction"><p>Introduction</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#flagship-series"><p>Flagship series</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#zero-series"><p>Zero series</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#compute-module-series"><p>Compute Module series</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#pico-microcontrollers"><p>Pico microcontrollers</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#schematics-and-mechanical-drawings"><p>Schematics and mechanical drawings</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#raspberry-pi-5"><p>Raspberry Pi 5</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#raspberry-pi-4-model-b"><p>Raspberry Pi 4 Model B</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#raspberry-pi-3-model-b"><p>Raspberry Pi 3 Model B+</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#raspberry-pi-3-model-a"><p>Raspberry Pi 3 Model A+</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#raspberry-pi-3-model-b-2"><p>Raspberry Pi 3 Model B</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#raspberry-pi-2-model-b"><p>Raspberry Pi 2 Model B</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#raspberry-pi-1-model-b"><p>Raspberry Pi 1 Model B+</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#raspberry-pi-1-model-a"><p>Raspberry Pi 1 Model A+</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#raspberry-pi-zero-2-w"><p>Raspberry Pi Zero 2 W</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#raspberry-pi-zero-w"><p>Raspberry Pi Zero W</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#raspberry-pi-zero"><p>Raspberry Pi Zero</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#product-compliance-and-safety"><p>Product compliance and safety</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#flammability-rating"><p>Flammability rating</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#raspberry-pi-compliance-support"><p>Raspberry Pi Compliance Support</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#powered-by-raspberry-pi"><p>Powered by Raspberry Pi</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#approved-design-partners"><p>Approved Design Partners</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#frequency-management-and-thermal-control"><p>Frequency management and thermal control</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#use-dvfs"><p>Use DVFS</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#measure-temperatures"><p>Measure temperatures</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#add-heat-sinks"><p>Add heat sinks</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#fan-cases"><p>Fan cases</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#raspberry-pi-boot-eeprom"><p>Raspberry Pi boot EEPROM</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#boot-diagnostics"><p>Boot diagnostics</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#bootloader_update_stable"><p>Update the bootloader</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#update-the-bootloader-configuration"><p>Update the bootloader configuration</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#automaticupdates"><p>Automatic updates</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#bootloader-release"><p>Bootloader release status</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#boot-diagnostics-on-the-raspberry-pi-4"><p>Boot diagnostics on the Raspberry Pi 4</p>
</a>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#raspberry-pi-boot-modes"><p>Raspberry Pi boot modes</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#special-bootcode-bin-only-boot-mode"><p>Special <code class="language-plaintext highlighter-rouge">bootcode.bin</code>-only boot mode</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#bootcode-bin-uart-enable"><p><code class="language-plaintext highlighter-rouge">bootcode.bin</code> UART Enable</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#usb-boot-modes"><p>USB boot modes</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#usb-device-boot-mode"><p>USB device boot mode</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#usb-host-boot-mode"><p>USB host boot mode</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#usb-mass-storage-boot"><p>USB mass storage boot</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#devices-with-an-eeprom-bootloader"><p>Devices with an EEPROM bootloader</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#raspberry-pi-3b"><p>Raspberry Pi 3B+</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#raspberry-pi-2b-3a-3b-cm3-cm3-zero-2-w"><p>Raspberry Pi 2B, 3A+, 3B, CM3, CM3+, Zero 2 W</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#boot-from-usb-mass-storage"><p>Boot from USB mass storage</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#known-issues"><p>Known issues</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#special-bootcode-bin-only-boot-mode-2"><p>Special <code class="language-plaintext highlighter-rouge">bootcode.bin</code>-only boot mode</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#hardware-compatibility"><p>Hardware compatibility</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#multiple-bootable-drives"><p>Multiple bootable drives</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#network-booting"><p>Network booting</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#network-boot-flow"><p>Network boot flow</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#debugging-network-boot-mode"><p>Debugging network boot mode</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#known-problems"><p>Known problems</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#gpio-boot-mode"><p>GPIO boot mode</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#pin-assignments"><p>Pin assignments</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#boot-flow"><p>Boot flow</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#nvme-ssd-boot"><p>NVMe SSD boot</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#prerequisites"><p>Prerequisites</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#edit-eeprom-boot-order"><p>Edit EEPROM boot order</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#nvme-boot_order"><p>NVMe <code class="language-plaintext highlighter-rouge">BOOT_ORDER</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#example"><p>Example</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#troubleshooting"><p>Troubleshooting</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#http-boot"><p>HTTP boot</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#requirements"><p>Requirements</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#keys"><p>Keys</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#certificates"><p>Certificates</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#secure-boot"><p>Secure boot</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#boot-sequence"><p>Boot sequence</p>
</a>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#eeprom-boot-flow"><p>EEPROM boot flow</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#first-stage-bootloader"><p>First stage bootloader</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#second-stage-bootloader"><p>Second stage bootloader</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#bootloader-updates"><p>Bootloader updates</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#fail-safe-os-updates-tryboot"><p>Fail-safe OS updates (<code class="language-plaintext highlighter-rouge">tryboot</code>)</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#tryboot_a_b-mode"><p><code class="language-plaintext highlighter-rouge">tryboot_a_b</code> mode</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#raspberry-pi-bootloader-configuration"><p>Raspberry Pi bootloader configuration</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#edit-the-configuration"><p>Edit the configuration</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#configuration-properties"><p>Configuration properties</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#display-parallel-interface-dpi"><p>Display Parallel Interface (DPI)</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#gpio-pins"><p>GPIO pins</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#disable-other-gpio-peripherals"><p>Disable other GPIO peripherals</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#configure-a-display"><p>Configure a display</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#gpio"><p>GPIO and the 40-pin header</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#outputs"><p>Outputs</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#inputs"><p>Inputs</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#view-a-gpio-pinout-for-your-raspberry-pi"><p>View a GPIO pinout for your Raspberry Pi</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#permissions"><p>Permissions</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#gpio-pads"><p>GPIO pads</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#interrupts"><p>Interrupts</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#alternative-functions"><p>Alternative functions</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#voltage-specifications"><p>Voltage specifications</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#gpio-pads-control"><p>GPIO pads control</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#control-drive-strength"><p>Control drive strength</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#current-value"><p>Current value</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#safe-current"><p>Safe current</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#gpio-addresses"><p>GPIO addresses</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#drive-strength-list"><p>Drive strength list</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#industrial-use-of-the-raspberry-pi"><p>Industrial use of the Raspberry Pi</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#one-time-programmable-settings"><p>One-time programmable settings</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#write-and-read-customer-otp-values"><p>Write and read customer OTP values</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#locking-otp-on-non-bcm2712-devices"><p>Locking OTP on non-BCM2712 devices</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#locking-otp-on-bcm2712-devices"><p>Locking OTP on BCM2712 devices</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#making-customer-otp-bits-unreadable-on-non-bcm2712-devices"><p>Making customer OTP bits unreadable on non-BCM2712 devices</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#customer-mac-addresses-on-bcm2712-devices"><p>Customer MAC addresses on BCM2712 devices</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#device-specific-private-key"><p>Device-specific private key</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#otp-register-and-bit-definitions"><p>OTP register and bit definitions</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#otp-registers-on-non-bcm2712-devices"><p>OTP registers on non-BCM2712 devices</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#otp-registers-on-bcm2712-devices"><p>OTP Registers on BCM2712 devices</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#raspberry-pi-connector-for-pcie"><p>Raspberry Pi connector for PCIe</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#enable-pcie"><p>Enable PCIe</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#boot-from-pcie"><p>Boot from PCIe</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#pcie-gen-3-0"><p>PCIe Gen 3.0</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#power-button"><p>Power button</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#restart"><p>Restart</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#hard-shutdown"><p>Hard shutdown</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#add-your-own-power-button"><p>Add your own power button</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#power-supply"><p>Power supply</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#recommended-power-supplies"><p>Recommended power supplies</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#power-over-ethernet-poe-connector"><p>Power over Ethernet (PoE) connector</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#typical-power-requirements"><p>Typical power requirements</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#power-supply-warnings"><p>Power supply warnings</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#power-supplies-and-raspberry-pi-os"><p>Power supplies and Raspberry Pi OS</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#back-powering"><p>Back-powering</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#real-time-clock-rtc"><p>Real Time Clock (RTC)</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#add-a-backup-battery"><p>Add a backup battery</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#enable-battery-charging"><p>Enable battery charging</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#disable-battery-charging"><p>Disable battery charging</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#spi-overview"><p>Serial peripheral interface (SPI)</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#spi-hardware"><p>SPI hardware</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#spi-software"><p>SPI software</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#troubleshooting-spi-hardware"><p>Troubleshooting</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#universal-serial-bus-usb"><p>Universal Serial Bus (USB)</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#maximum-power-output"><p>Maximum power output</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#raspberry-pi-5-2"><p>Raspberry Pi 5</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#raspberry-pi-4"><p>Raspberry Pi 4</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#raspberry-pi-zero-1-2-and-3"><p>Raspberry Pi Zero, 1, 2 and 3</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#known-usb-issues"><p>Known USB issues</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/raspberry-pi.html#raspberry-pi-revision-codes"><p>Raspberry Pi revision codes</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#old-style-revision-codes"><p>Old-style revision codes</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#new-style-revision-codes"><p>New-style revision codes</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#new-style-revision-codes-in-use"><p>New-style revision codes in use</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#using-revision-codes-for-board-identification"><p>Using revision codes for board identification</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/raspberry-pi.html#best-practices-for-revision-code-usage"><p>Best practices for revision code usage</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
          </ul>
        </div>
        
      
    
      <h3 class="contentshead" onclick="expandAndCollapse(this)"><p>Compute Module hardware</p>
</h3>
      
        
        <div class="itemcontents">
          <ul class="sectlevel1">
            
              <li>
                <a href="/documentation/computers/compute-module.html#compute-modules"><p>Compute Modules</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#compute-module-4"><p>Compute Module 4</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#compute-module-4s"><p>Compute Module 4S</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#compute-module-3-plus"><p>Compute Module 3+</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#compute-module-3"><p>Compute Module 3</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#compute-module-1"><p>Compute Module 1</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/compute-module.html#io-boards"><p>IO Boards</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#compute-module-4-io-board"><p>Compute Module 4 IO Board</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#compute-module-io-board"><p>Compute Module IO Board</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#io-board-compatibility"><p>IO Board compatibility</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/compute-module.html#flash-compute-module-emmc"><p>Flash an image to a Compute Module</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#prerequisites"><p>Prerequisites</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#set-up-the-io-board"><p>Set up the IO Board</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#set-up-the-host-device"><p>Set up the host device</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#flash-the-emmc"><p>Flash the eMMC</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#boot-from-emmc"><p>Boot from eMMC</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#known-issues"><p>Known issues</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/compute-module.html#compute-module-eeprom-bootloader"><p>Compute Module EEPROM bootloader</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#flash-compute-module-bootloader-eeprom"><p>Flash Compute Module bootloader EEPROM</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#flash-storage-devices-other-than-sd-cards"><p>Flash storage devices other than SD cards</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#update-the-compute-module-bootloader"><p>Update the Compute Module bootloader</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#modify-the-bootloader-configuration"><p>Modify the bootloader configuration</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/compute-module.html#wire-peripherals"><p>Wire peripherals</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#bcm283x-gpios"><p>BCM283x GPIOs</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#bcm283x-boot-process"><p>BCM283x boot process</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#device-tree"><p>Device Tree</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#dt-blob-bin"><p><code class="language-plaintext highlighter-rouge">dt-blob.bin</code></p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#arm-linux-device-tree"><p>Arm Linux Device Tree</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#device-tree-source-and-compilation"><p>Device Tree source and compilation</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#device-tree-debugging"><p>Device Tree debugging</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#examples"><p>Examples</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/compute-module.html#attach-a-camera-module"><p>Attach a Camera Module</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#update-your-system"><p>Update your system</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#connect-one-camera"><p>Connect one camera</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#connect-two-cameras"><p>Connect two cameras</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#software"><p>Software</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#i2c-mapping-of-gpio-pins"><p>I2C mapping of GPIO pins</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/compute-module.html#attach-the-official-7-inch-display"><p>Attach the official 7-inch display</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#connect-a-display-to-disp1"><p>Connect a display to DISP1</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#connect-a-display-to-disp0"><p>Connect a display to DISP0</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#disable-touchscreen"><p>Disable touchscreen</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#disable-display"><p>Disable display</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/compute-module.html#specifications"><p>Specifications</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#compute-module-4-datasheet"><p>Compute Module 4 datasheet</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#compute-module-4-io-board-datasheet"><p>Compute Module 4 IO Board datasheet</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#compute-module-4s-datasheet"><p>Compute Module 4S datasheet</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#compute-module-3-datasheet"><p>Compute Module 3+ datasheet</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#compute-module-1-and-compute-module-3-datasheet"><p>Compute Module 1 and Compute Module 3 datasheet</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#compute-module-io-board-schematics"><p>Compute Module IO Board schematics</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#compute-module-cameradisplay-adapter-board-schematics"><p>Compute Module Camera/Display Adapter Board schematics</p>
</a>
                      </li>
                    
                      <li>
                        <a href="/documentation/computers/compute-module.html#under-voltage-detection"><p>Under-voltage detection</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
          </ul>
        </div>
        
      
    
      <h3 class="contentshead" onclick="expandAndCollapse(this)"><p>Processors</p>
</h3>
      
        
        <div class="itemcontents">
          <ul class="sectlevel1">
            
              <li>
                <a href="/documentation/computers/processors.html#bcm2835"><p>BCM2835</p>
</a>
                
              </li>
            
              <li>
                <a href="/documentation/computers/processors.html#bcm2836"><p>BCM2836</p>
</a>
                
              </li>
            
              <li>
                <a href="/documentation/computers/processors.html#bcm2837"><p>BCM2837</p>
</a>
                
              </li>
            
              <li>
                <a href="/documentation/computers/processors.html#bcm2837b0"><p>BCM2837B0</p>
</a>
                
              </li>
            
              <li>
                <a href="/documentation/computers/processors.html#bcm2711"><p>BCM2711</p>
</a>
                
              </li>
            
              <li>
                <a href="/documentation/computers/processors.html#bcm2712"><p>BCM2712</p>
</a>
                
                  <ul>
                    
                      <li>
                        <a href="/documentation/computers/processors.html#bcm2712d0"><p>BCM2712D0</p>
</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/documentation/computers/processors.html#rp3a0"><p>RP3A0</p>
</a>
                
              </li>
            
          </ul>
        </div>
        
      
    
  











</nav>


      <section id="content">
        <h1>Camera software
</h1>
        <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This documentation describes how to use supported camera modules with our software tools. All Raspberry Pi cameras can record high-resolution photographs and full HD 1080p video (or better) with our software tools.</p>
</div>
<div class="paragraph">
<p>Raspberry Pi produces several official camera modules, including:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the original 5-megapixel Camera Module 1 (discontinued)</p>
</li>
<li>
<p>the 8-megapixel <a href="https://www.raspberrypi.com/products/camera-module-v2/">Camera Module 2</a>, with or without an infrared filter</p>
</li>
<li>
<p>the 12-megapixel <a href="https://raspberrypi.com/products/camera-module-3/">Camera Module 3</a>, with both standard and wide lenses, with or without an infrared filter</p>
</li>
<li>
<p>the 12-megapixel <a href="https://www.raspberrypi.com/products/raspberry-pi-high-quality-camera/">High Quality Camera</a> with CS and M12 mount variants for use with external lenses</p>
</li>
<li>
<p>the 1.6-megapixel <a href="https://www.raspberrypi.com/products/raspberry-pi-global-shutter-camera/">Global Shutter Camera</a> for fast motion photography</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more information about camera hardware, see the <a href="../accessories/camera.html#about-the-camera-modules">camera hardware documentation</a>.</p>
</div>
<div class="paragraph">
<p>First, <a href="../accessories/camera.html#install-a-raspberry-pi-camera">install your camera module</a>. Then, follow the guides in this section to put your camera module to use.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="rpicam-apps">
<a class="anchor" href="#rpicam-apps"></a><code>rpicam-apps</code>
</h2>
<div class="sectionbody"></div>
<div class="paragraph edit-link">
<p>Edit this <a href="https://github.com/raspberrypi/documentation/blob/develop/documentation/asciidoc/computers/camera/rpicam_apps_intro.adoc">on GitHub</a></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Raspberry Pi OS <em>Bookworm</em> renamed the camera capture applications from <code>libcamera-*</code> to <code>rpicam-*</code>. Symbolic links allow users to use the old names for now. <strong>Adopt the new application names as soon as possible.</strong> Raspberry Pi OS versions prior to <em>Bookworm</em> still use the <code>libcamera-*</code> name.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Raspberry Pi supplies a small set of example <code>rpicam-apps</code>. These CLI applications, built on top of <code>libcamera</code>, capture images and video from a camera. These applications include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>rpicam-hello</code>: A "hello world"-equivalent for cameras, which starts a camera preview stream and displays it on the screen.</p>
</li>
<li>
<p><code>rpicam-jpeg</code>: Runs a preview window, then captures high-resolution still images.</p>
</li>
<li>
<p><code>rpicam-still</code>: Emulates many of the features of the original <code>raspistill</code> application.</p>
</li>
<li>
<p><code>rpicam-vid</code>: Captures video.</p>
</li>
<li>
<p><code>rpicam-raw</code>: Captures raw (unprocessed Bayer) frames directly from the sensor.</p>
</li>
<li>
<p><code>rpicam-detect</code>: Not built by default, but users can build it if they have TensorFlow Lite installed on their Raspberry Pi. Captures JPEG images when certain objects are detected.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Recent versions of Raspberry Pi OS include the five basic <code>rpicam-apps</code>, so you can record images and videos using a camera even on a fresh Raspberry Pi OS installation.</p>
</div>
<div class="paragraph">
<p>Users can create their own <code>rpicam</code>-based applications with custom functionality to suit their own requirements. The <a href="https://github.com/raspberrypi/rpicam-apps"><code>rpicam-apps</code> source code</a> is freely available under a BSD-2-Clause licence.</p>
</div>
<div class="sect2">
<h3 id="libcamera">
<a class="anchor" href="#libcamera"></a><code>libcamera</code>
</h3>
<div class="paragraph">
<p><code>libcamera</code> is an open-source software library aimed at supporting camera systems directly from the Linux operating system on Arm processors. Proprietary code running on the Broadcom GPU is minimised. For more information about <code>libcamera</code> see the <a href="https://libcamera.org"><code>libcamera</code> website</a>.</p>
</div>
<div class="paragraph">
<p><code>libcamera</code> provides a C++ API that configures the camera, then allows applications to request image frames. These image buffers reside in system memory and can be passed directly to still image encoders (such as JPEG) or to video encoders (such as H.264). <code>libcamera</code> doesn’t encode or display images itself: that that functionality, use <code>rpicam-apps</code>.</p>
</div>
<div class="paragraph">
<p>You can find the source code in the <a href="https://git.linuxtv.org/libcamera.git/">official libcamera repository</a>. The Raspberry Pi OS distribution uses a <a href="https://github.com/raspberrypi/libcamera.git">fork</a> to control updates.</p>
</div>
<div class="paragraph">
<p>Underneath the <code>libcamera</code> core, we provide a custom pipeline handler. <code>libcamera</code> uses this layer to drive the sensor and image signal processor (ISP) on the Raspberry Pi. <code>libcamera</code> contains a collection of image-processing algorithms (IPAs) including auto exposure/gain control (AEC/AGC), auto white balance (AWB), and auto lens-shading correction (ALSC).</p>
</div>
<div class="paragraph">
<p>Raspberry Pi’s implementation of <code>libcamera</code> supports the following cameras:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Official cameras:</p>
<div class="ulist">
<ul>
<li>
<p>OV5647 (V1)</p>
</li>
<li>
<p>IMX219 (V2)</p>
</li>
<li>
<p>IMX477 (HQ)</p>
</li>
<li>
<p>IMX296 (GS)</p>
</li>
<li>
<p>IMX708 (V3)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Third-party sensors:</p>
<div class="ulist">
<ul>
<li>
<p>IMX290</p>
</li>
<li>
<p>IMX327</p>
</li>
<li>
<p>IMX378</p>
</li>
<li>
<p>IMX519</p>
</li>
<li>
<p>OV9281</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>To extend support to a new sensor, <a href="https://git.linuxtv.org/libcamera.git/">contribute to <code>libcamera</code></a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="rpicam-hello">
<a class="anchor" href="#rpicam-hello"></a><code>rpicam-hello</code>
</h3>
<div class="paragraph edit-link">
<p>Edit this <a href="https://github.com/raspberrypi/documentation/blob/develop/documentation/asciidoc/computers/camera/rpicam_hello.adoc">on GitHub</a></p>
</div>
<div class="paragraph">
<p><code>rpicam-hello</code> briefly displays a preview window containing the video feed from a connected camera. To use <code>rpicam-hello</code> to display a preview window for five seconds, run the following command in a terminal:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>rpicam-hello</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can pass an optional duration (in milliseconds) with the <a href="#timeout"><code>timeout</code></a> option. A value of <code>0</code> runs the preview indefinitely:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>rpicam-hello <span class="nt">--timeout</span> 0</code></pre>
</div>
</div>
<div class="paragraph">
<p>Use <code>Ctrl+C</code> in the terminal or the close button on the preview window to stop <code>rpicam-hello</code>.</p>
</div>
<div class="sect3">
<h4 id="display-an-image-sensor-preview">
<a class="anchor" href="#display-an-image-sensor-preview"></a>Display an image sensor preview</h4>
<div class="paragraph">
<p>Most of the <code>rpicam-apps</code> display a preview image in a window. If there is no active desktop environment, the preview draws directly to the display using the Linux Direct Rendering Manager (DRM). Otherwise, <code>rpicam-apps</code> attempt to use the desktop environment. Both paths use zero-copy GPU buffer sharing: as a result, X forwarding is <em>not</em> supported.</p>
</div>
<div class="paragraph">
<p>If you run the X window server and want to use X forwarding, pass the <a href="#qt-preview"><code>qt-preview</code></a> flag to render the preview window in a <a href="https://en.wikipedia.org/wiki/Qt_(software)">Qt</a> window. The Qt preview window uses more resources than the alternatives.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Older systems using Gtk2 may, when linked with OpenCV, produce <code>Glib-GObject</code> errors and fail to show the Qt preview window. In this case edit the file <code>/etc/xdg/qt5ct/qt5ct.conf</code> as root and replace the line containing <code>style=gtk2</code> with <code>style=gtk3</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To suppress the preview window entirely, pass the <a href="#nopreview"><code>nopreview</code></a> flag:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>rpicam-hello <span class="nt">-n</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <a href="#info-text"><code>info-text</code></a> option displays image information on the window title bar using <code>%</code> directives. For example, the following command displays the current red and blue gain values:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>rpicam-hello <span class="nt">--info-text</span> <span class="s2">"red gain %rg, blue gain %bg"</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>For a full list of directives, see the <a href="#info-text"><code>info-text</code> reference</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="rpicam-jpeg">
<a class="anchor" href="#rpicam-jpeg"></a><code>rpicam-jpeg</code>
</h3>
<div class="paragraph edit-link">
<p>Edit this <a href="https://github.com/raspberrypi/documentation/blob/develop/documentation/asciidoc/computers/camera/rpicam_jpeg.adoc">on GitHub</a></p>
</div>
<div class="paragraph">
<p><code>rpicam-jpeg</code> helps you capture images on Raspberry Pi devices.</p>
</div>
<div class="paragraph">
<p>To capture a full resolution JPEG image and save it to a file named <code>test.jpg</code>, run the following command:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>rpicam-jpeg <span class="nt">--output</span> test.jpg</code></pre>
</div>
</div>
<div class="paragraph">
<p>You should see a preview window for five seconds. Then, <code>rpicam-jpeg</code> captures a full resolution JPEG image and saves it.</p>
</div>
<div class="paragraph">
<p>Use the <a href="#timeout"><code>timeout</code></a> option to alter display time of the preview window. The <a href="#width-and-height"><code>width</code> and <code>height</code></a> options change the resolution of the saved image. For example, the following command displays the preview window for 2 seconds, then captures and saves an image with a resolution of 640×480 pixels:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>rpicam-jpeg <span class="nt">--output</span> test.jpg <span class="nt">--timeout</span> 2000 <span class="nt">--width</span> 640 <span class="nt">--height</span> 480</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="rpicam-still">
<a class="anchor" href="#rpicam-still"></a><code>rpicam-still</code>
</h3>
<div class="paragraph edit-link">
<p>Edit this <a href="https://github.com/raspberrypi/documentation/blob/develop/documentation/asciidoc/computers/camera/rpicam_still.adoc">on GitHub</a></p>
</div>
<div class="paragraph">
<p><code>rpicam-still</code>, like <code>rpicam-jpeg</code>, helps you capture images on Raspberry Pi devices.
Unlike <code>rpicam-jpeg</code>, <code>rpicam-still</code> supports many options provided in the legacy <code>raspistill</code> application.</p>
</div>
<div class="paragraph">
<p>To capture a full resolution JPEG image and save it to a file named <code>test.jpg</code>, run the following command:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>rpicam-still <span class="nt">--output</span> test.jpg</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="encoders">
<a class="anchor" href="#encoders"></a>Encoders</h4>
<div class="paragraph">
<p><code>rpicam-still</code> can save images in multiple formats, including <code>png</code>, <code>bmp</code>, and both RGB and YUV binary pixel dumps. To read these binary dumps, any application reading the files must understand the pixel arrangement.</p>
</div>
<div class="paragraph">
<p>Use the <a href="#encoding"><code>encoding</code></a> option to specify an output format. The file name passed to <a href="#output"><code>output</code></a> has no impact on the output file type.</p>
</div>
<div class="paragraph">
<p>To capture a full resolution PNG image and save it to a file named <code>test.png</code>, run the following command:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>rpicam-still <span class="nt">--encoding</span> png <span class="nt">--output</span> test.png</code></pre>
</div>
</div>
<div class="paragraph">
<p>For more information about specifying an image format, see the <a href="#encoding"><code>encoding</code> option reference</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="capture-raw-images">
<a class="anchor" href="#capture-raw-images"></a>Capture raw images</h4>
<div class="paragraph">
<p>Raw images are the images produced directly by the image sensor, before any processing is applied to them either by the Image Signal Processor (ISP) or CPU. Colour image sensors usually use the Bayer format. Use the <a href="#raw"><code>raw</code></a> option to capture raw images.</p>
</div>
<div class="paragraph">
<p>To capture an image, save it to a file named <code>test.jpg</code>, and also save a raw version of the image to a file named <code>test.dng</code>, run the following command:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>rpicam-still <span class="nt">--raw</span> <span class="nt">--output</span> test.jpg</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>rpicam-still</code> saves raw images in the DNG (Adobe Digital Negative) format. To determine the filename of the raw images, <code>rpicam-still</code> uses the same name as the output file, with the extension changed to <code>.dng</code>. To work with DNG images, use an application like <a href="https://en.wikipedia.org/wiki/Dcraw">Dcraw</a> or <a href="https://en.wikipedia.org/wiki/RawTherapee">RawTherapee</a>.</p>
</div>
<div class="paragraph">
<p>DNG files contain metadata about the image capture, including black levels, white balance information and the colour matrix used by the ISP to produce the JPEG. Use <a href="https://exiftool.org/">ExifTool</a> to view DNG metadata. The following output shows typical metadata stored in a raw image captured by a Raspberry Pi using the HQ camera:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>File Name                       : test.dng
Directory                       : .
File Size                       : 24 MB
File Modification Date/Time     : 2021:08:17 16:36:18+01:00
File Access Date/Time           : 2021:08:17 16:36:18+01:00
File Inode Change Date/Time     : 2021:08:17 16:36:18+01:00
File Permissions                : rw-r--r--
File Type                       : DNG
File Type Extension             : dng
MIME Type                       : image/x-adobe-dng
Exif Byte Order                 : Little-endian (Intel, II)
Make                            : Raspberry Pi
Camera Model Name               : /base/soc/i2c0mux/i2c@1/imx477@1a
Orientation                     : Horizontal (normal)
Software                        : rpicam-still
Subfile Type                    : Full-resolution Image
Image Width                     : 4056
Image Height                    : 3040
Bits Per Sample                 : 16
Compression                     : Uncompressed
Photometric Interpretation      : Color Filter Array
Samples Per Pixel               : 1
Planar Configuration            : Chunky
CFA Repeat Pattern Dim          : 2 2
CFA Pattern 2                   : 2 1 1 0
Black Level Repeat Dim          : 2 2
Black Level                     : 256 256 256 256
White Level                     : 4095
DNG Version                     : 1.1.0.0
DNG Backward Version            : 1.0.0.0
Unique Camera Model             : /base/soc/i2c0mux/i2c@1/imx477@1a
Color Matrix 1                  : 0.8545269369 -0.2382823821 -0.09044229197 -0.1890484985 1.063961506 0.1062747385 -0.01334283455 0.1440163847 0.2593136724
As Shot Neutral                 : 0.4754476844 1 0.413686484
Calibration Illuminant 1        : D65
Strip Offsets                   : 0
Strip Byte Counts               : 0
Exposure Time                   : 1/20
ISO                             : 400
CFA Pattern                     : [Blue,Green][Green,Red]
Image Size                      : 4056x3040
Megapixels                      : 12.3
Shutter Speed                   : 1/20</pre>
</div>
</div>
<div class="paragraph">
<p>To find the analogue gain, divide the ISO number by 100.
The Auto White Balance (AWB) algorithm determines a single calibrated illuminant, which is always labelled <code>D65</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="capture-long-exposures">
<a class="anchor" href="#capture-long-exposures"></a>Capture long exposures</h4>
<div class="paragraph">
<p>To capture very long exposure images, disable the Automatic Exposure/Gain Control (AEC/AGC) and Auto White Balance (AWB). These algorithms will otherwise force the user to wait for a number of frames while they converge.</p>
</div>
<div class="paragraph">
<p>To disable these algorithms, supply explicit values for gain and AWB. Because long exposures take plenty of time already, it often makes sense to skip the preview phase entirely with the <a href="#immediate"><code>immediate</code></a> option.</p>
</div>
<div class="paragraph">
<p>To perform a 100 second exposure capture, run the following command:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>rpicam-still <span class="nt">-o</span> long_exposure.jpg <span class="nt">--shutter</span> 100000000 <span class="nt">--gain</span> 1 <span class="nt">--awbgains</span> 1,1 <span class="nt">--immediate</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>To find the maximum exposure times of official Raspberry Pi cameras, see <a href="../accessories/camera.html#hardware-specification">the camera hardware specification</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="create-a-time-lapse-video">
<a class="anchor" href="#create-a-time-lapse-video"></a>Create a time lapse video</h4>
<div class="paragraph">
<p>To create a time lapse video, capture a still image at a regular interval, such as once a minute, then use an application to stitch the pictures together into a video.</p>
</div>
<div class="sect4">
<h5 id="via-rpicam-still-time-lapse-mode">
<a class="anchor" href="#via-rpicam-still-time-lapse-mode"></a>via <code>rpicam-still</code> time lapse mode</h5>
<div class="paragraph">
<p>To use the built-in time lapse mode of <code>rpicam-still</code>, use the <a href="#timelapse"><code>timelapse</code></a> option. This option accepts a value representing the period of time you want your Raspberry Pi to wait between captures, in milliseconds.</p>
</div>
<div class="paragraph">
<p>First, create a directory where you can store your time lapse photos:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span><span class="nb">mkdir </span>timelapse</code></pre>
</div>
</div>
<div class="paragraph">
<p>Run the following command to create a time lapse over 30 seconds, recording a photo every two seconds, saving output into <code>image0000.jpg</code> through <code>image0013.jpg</code>:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>rpicam-still <span class="nt">--timeout</span> 30000 <span class="nt">--timelapse</span> 2000 <span class="nt">-o</span> timelapse/image%04d.jpg</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="via-cron">
<a class="anchor" href="#via-cron"></a>via <code>cron</code>
</h5>
<div class="paragraph">
<p>You can also automate time lapses with <code>cron</code>. First, create the script, named <code>timelapse.sh</code> containing the following commands. Replace the <code>&lt;username&gt;</code> placeholder with the name of your user account on your Raspberry Pi:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>#!/bin/bash
DATE=$(date +"%Y-%m-%d_%H%M")
rpicam-still -o /home/&lt;username&gt;/timelapse/$DATE.jpg</pre>
</div>
</div>
<div class="paragraph">
<p>Then, make the script executable:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span><span class="nb">chmod</span> +x timelapse.sh</code></pre>
</div>
</div>
<div class="paragraph">
<p>Create the <code>timelapse</code> directory into which you’ll save time lapse pictures:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span><span class="nb">mkdir </span>timelapse</code></pre>
</div>
</div>
<div class="paragraph">
<p>Open your crontab for editing:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>crontab <span class="nt">-e</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Once you have the file open in an editor, add the following line to schedule an image capture every minute, replacing the <code>&lt;username&gt;</code> placeholder with the username of your primary user account:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>* * * * * /home/&lt;username&gt;/timelapse.sh 2&gt;&amp;1</pre>
</div>
</div>
<div class="paragraph">
<p>Save and exit, and you should see this message:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>crontab: installing new crontab</pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
To stop recording images for the time lapse, run <code>crontab -e</code> again and remove the above line from your crontab.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="stitch-images-together">
<a class="anchor" href="#stitch-images-together"></a>Stitch images together</h5>
<div class="paragraph">
<p>Once you have a series of time lapse photos, you probably want to combine them into a video. Use <code>ffmpeg</code> to do this on a Raspberry Pi.</p>
</div>
<div class="paragraph">
<p>First, install <code>ffmpeg</code>:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>apt <span class="nb">install </span>ffmpeg</code></pre>
</div>
</div>
<div class="paragraph">
<p>Run the following command from the directory that contains the <code>timelapse</code> directory to convert your JPEG files into an mp4 video:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>ffmpeg <span class="nt">-r</span> 10 <span class="nt">-f</span> image2 <span class="nt">-pattern_type</span> glob <span class="nt">-i</span> <span class="s1">'timelapse/*.jpg'</span> <span class="nt">-s</span> 1280x720 <span class="nt">-vcodec</span> libx264 timelapse.mp4</code></pre>
</div>
</div>
<div class="paragraph">
<p>The command above uses the following parameters:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>-r 10</code>: sets the frame rate (Hz value) to ten frames per second in the output video</p>
</li>
<li>
<p><code>-f image2</code>: sets <code>ffmpeg</code> to read from a list of image files specified by a pattern</p>
</li>
<li>
<p><code>-pattern_type glob</code>: use wildcard patterns (globbing) to interpret filename input with <code>-i</code></p>
</li>
<li>
<p><code>-i 'timelapse/*.jpg'</code>: specifies input files to match JPG files in the <code>timelapse</code> directory</p>
</li>
<li>
<p><code>-s 1280x720</code>: scales to 720p</p>
</li>
<li>
<p><code>-vcodec libx264</code> use the software x264 encoder.</p>
</li>
<li>
<p><code>timelapse.mp4</code> The name of the output video file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more information about <code>ffmpeg</code> options, run <code>ffmpeg --help</code> in a terminal.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="rpicam-vid">
<a class="anchor" href="#rpicam-vid"></a><code>rpicam-vid</code>
</h3>
<div class="paragraph edit-link">
<p>Edit this <a href="https://github.com/raspberrypi/documentation/blob/develop/documentation/asciidoc/computers/camera/rpicam_vid.adoc">on GitHub</a></p>
</div>
<div class="paragraph">
<p><code>rpicam-vid</code> helps you capture video on Raspberry Pi devices. <code>rpicam-vid</code> displays a preview window and writes an encoded bitstream to the specified output. This produces an unpackaged video bitstream that is not wrapped in any kind of container (such as an mp4 file) format.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
When available, <code>rpicam-vid</code> uses hardware H.264 encoding.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For example, the following command writes a ten-second video to a file named <code>test.h264</code>:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>rpicam-vid <span class="nt">-t</span> 10s <span class="nt">-o</span> test.h264</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can play the resulting file with VLC and other video players:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>vlc test.h264</code></pre>
</div>
</div>
<div class="paragraph">
<p>On Raspberry Pi 5, you can output to the MP4 container format directly by specifying the <code>mp4</code> file extension for your output file:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>rpicam-vid  <span class="nt">-t</span> 10s <span class="nt">-o</span> test.mp4</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="encoders-2">
<a class="anchor" href="#encoders-2"></a>Encoders</h4>
<div class="paragraph">
<p><code>rpicam-vid</code> supports motion JPEG as well as both uncompressed and unformatted YUV420:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>rpicam-vid <span class="nt">-t</span> 10000 <span class="nt">--codec</span> mjpeg <span class="nt">-o</span> test.mjpeg</code></pre>
</div>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>rpicam-vid <span class="nt">-t</span> 10000 <span class="nt">--codec</span> yuv420 <span class="nt">-o</span> test.data</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <a href="#codec"><code>codec</code></a> option determines the output format, not the extension of the output file.</p>
</div>
<div class="paragraph">
<p>The <a href="#segment"><code>segment</code></a> option breaks output files up into chunks of the segment size (given in milliseconds). This is handy for breaking a motion JPEG stream up into individual JPEG files by specifying very short (1 millisecond) segments. For example, the following command combines segments of 1 millisecond with a counter in the output file name to generate a new filename for each segment:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>rpicam-vid <span class="nt">-t</span> 10000 <span class="nt">--codec</span> mjpeg <span class="nt">--segment</span> 1 <span class="nt">-o</span> <span class="nb">test</span>%05d.jpeg</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="capture-high-framerate-video">
<a class="anchor" href="#capture-high-framerate-video"></a>Capture high framerate video</h4>
<div class="paragraph">
<p>To minimise frame drops for high framerate (&gt; 60fps) video, try the following configuration tweaks:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Set the <a href="https://en.wikipedia.org/wiki/Advanced_Video_Coding#Levels">H.264 target level</a> to 4.2 with <code>--level 4.2</code>.</p>
</li>
<li>
<p>Disable software colour denoise processing by setting the <a href="#denoise"><code>denoise</code></a> option to <code>cdn_off</code>.</p>
</li>
<li>
<p>Disable the display window with <a href="#nopreview"><code>nopreview</code></a> to free up some additional CPU cycles.</p>
</li>
<li>
<p>Set <code>force_turbo=1</code> in <a href="../computers/config_txt.html#what-is-config-txt"><code>/boot/firmware/config.txt</code></a> to ensure that the CPU clock does not throttle during video capture. For more information, see <a href="config_txt.html#force_turbo">the <code>force_turbo</code> documentation</a>.</p>
</li>
<li>
<p>Adjust the ISP output resolution with <code>--width 1280 --height 720</code> or something even lower to achieve your framerate target.</p>
</li>
<li>
<p>On Raspberry Pi 4, you can overclock the GPU to improve performance by adding <code>gpu_freq=550</code> or higher in <code>/boot/firmware/config.txt</code>.  See <a href="config_txt.html#overclocking">the overclocking documentation</a> for further details.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following command demonstrates how you might achieve 1280×720 120fps video:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>rpicam-vid <span class="nt">--level</span> 4.2 <span class="nt">--framerate</span> 120 <span class="nt">--width</span> 1280 <span class="nt">--height</span> 720 <span class="nt">--save-pts</span> timestamp.pts <span class="nt">-o</span> video.264 <span class="nt">-t</span> 10000 <span class="nt">--denoise</span> cdn_off <span class="nt">-n</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="libav-integration-with-rpicam-vid">
<a class="anchor" href="#libav-integration-with-rpicam-vid"></a><code>libav</code> integration with <code>rpicam-vid</code>
</h4>
<div class="paragraph">
<p><code>rpicam-vid</code> can use the <code>ffmpeg</code>/<code>libav</code> codec backend to encode audio and video streams. You can either save these streams to a file or stream them over the network. <code>libav</code> uses hardware H.264 video encoding when present.</p>
</div>
<div class="paragraph">
<p>To enable the <code>libav</code> backend, pass <code>libav</code> to the <a href="#codec"><code>codec</code></a> option:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>rpicam-vid <span class="nt">--codec</span> libav <span class="nt">--libav-format</span> avi <span class="nt">--libav-audio</span> <span class="nt">--output</span> example.avi</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="rpicam-raw">
<a class="anchor" href="#rpicam-raw"></a><code>rpicam-raw</code>
</h3>
<div class="paragraph edit-link">
<p>Edit this <a href="https://github.com/raspberrypi/documentation/blob/develop/documentation/asciidoc/computers/camera/rpicam_raw.adoc">on GitHub</a></p>
</div>
<div class="paragraph">
<p><code>rpicam-raw</code> records video as raw Bayer frames directly from the sensor. It does not show a preview window. To record a two second raw clip to a file named <code>test.raw</code>, run the following command:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>rpicam-raw <span class="nt">-t</span> 2000 <span class="nt">-o</span> test.raw</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>rpicam-raw</code> outputs raw frames with no formatting information at all, one directly after another. The application prints the pixel format and image dimensions to the terminal window to help the user interpret the pixel data.</p>
</div>
<div class="paragraph">
<p>By default, <code>rpicam-raw</code> outputs raw frames in a single, potentially very large, file. Use the <a href="#segment"><code>segment</code></a> option to direct each raw frame to a separate file, using the <code>%05d</code> <a href="#output">directive</a> to make each frame filename unique:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>rpicam-raw <span class="nt">-t</span> 2000 <span class="nt">--segment</span> 1 <span class="nt">-o</span> <span class="nb">test</span>%05d.raw</code></pre>
</div>
</div>
<div class="paragraph">
<p>With a fast storage device, <code>rpicam-raw</code> can write 18MB 12-megapixel HQ camera frames to disk at 10fps. <code>rpicam-raw</code> has no capability to format output frames as DNG files; for that functionality, use <a href="#rpicam-still"><code>rpicam-still</code></a>. Use the <a href="#framerate"><code>framerate</code></a> option at a level beneath 10 to avoid dropping frames:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>rpicam-raw <span class="nt">-t</span> 5000 <span class="nt">--width</span> 4056 <span class="nt">--height</span> 3040 <span class="nt">-o</span> test.raw <span class="nt">--framerate</span> 8</code></pre>
</div>
</div>
<div class="paragraph">
<p>For more information on the raw formats, see the <a href="#mode"><code>mode</code> documentation</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="rpicam-detect">
<a class="anchor" href="#rpicam-detect"></a><code>rpicam-detect</code>
</h3>
<div class="paragraph edit-link">
<p>Edit this <a href="https://github.com/raspberrypi/documentation/blob/develop/documentation/asciidoc/computers/camera/rpicam_detect.adoc">on GitHub</a></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Raspberry Pi OS does not include <code>rpicam-detect</code>. However, you can build <code>rpicam-detect</code> if you have <a href="#post-processing-with-tensorflow-lite">installed TensorFlow Lite</a>. For more information, see the <a href="#build-libcamera-and-rpicam-apps"><code>rpicam-apps</code> build instructions</a>. Don’t forget to pass <code>-Denable_tflite=enabled</code> when you run <code>meson</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><code>rpicam-detect</code> displays a preview window and monitors the contents using a Google MobileNet v1 SSD (Single Shot Detector) neural network trained to identify about 80 classes of objects using the Coco dataset. <code>rpicam-detect</code> recognises people, cars, cats and many other objects.</p>
</div>
<div class="paragraph">
<p>Whenever <code>rpicam-detect</code> detects a target object, it captures a full-resolution JPEG. Then it returns to monitoring preview mode.</p>
</div>
<div class="paragraph">
<p>See the <a href="#object_detect_tf-stage">TensorFlow Lite object detector</a> section for general information on model usage. For example, you might spy secretly on your cats while you are away with:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>rpicam-detect <span class="nt">-t</span> 0 <span class="nt">-o</span> <span class="nb">cat</span>%04d.jpg <span class="nt">--lores-width</span> 400 <span class="nt">--lores-height</span> 300 <span class="nt">--post-process-file</span> object_detect_tf.json <span class="nt">--object</span> <span class="nb">cat</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configuration">
<a class="anchor" href="#configuration"></a>Configuration</h3>
<div class="paragraph edit-link">
<p>Edit this <a href="https://github.com/raspberrypi/documentation/blob/develop/documentation/asciidoc/computers/camera/rpicam_configuration.adoc">on GitHub</a></p>
</div>
<div class="paragraph">
<p>Most use cases work automatically with no need to alter the camera configuration. However, some common use cases do require configuration tweaks, including:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Third-party cameras (the manufacturer’s instructions should explain necessary configuration changes, if any)</p>
</li>
<li>
<p>Using a non-standard driver or overlay with an official Raspberry Pi camera</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Raspberry Pi OS recognises the following overlays in <code>/boot/firmware/config.txt</code>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Camera Module</th>
<th class="tableblock halign-left valign-top">In <code>/boot/firmware/config.txt</code>
</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">V1 camera (OV5647)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dtoverlay=ov5647</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">V2 camera (IMX219)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dtoverlay=imx219</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">HQ camera (IMX477)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dtoverlay=imx477</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GS camera (IMX296)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dtoverlay=imx296</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Camera Module 3 (IMX708)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dtoverlay=imx708</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IMX290 and IMX327</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dtoverlay=imx290,clock-frequency=74250000</code> or <code>dtoverlay=imx290,clock-frequency=37125000</code> (both modules share the imx290 kernel driver; refer to instructions from the module vendor for the correct frequency)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IMX378</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dtoverlay=imx378</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OV9281</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dtoverlay=ov9281</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>To use one of these overlays, you must disable automatic camera detection. To disable automatic detection, set <code>camera_auto_detect=0</code> in <code>/boot/firmware/config.txt</code>. If <code>config.txt</code> already contains a line assigning an <code>camera_auto_detect</code> value, change the value to <code>0</code>. Reboot your Raspberry Pi with <code>sudo reboot</code> to load your changes.</p>
</div>
<div class="sect3">
<h4 id="tuning-files">
<a class="anchor" href="#tuning-files"></a>Tweak camera behaviour with tuning files</h4>
<div class="paragraph">
<p>Raspberry Pi’s <code>libcamera</code> implementation includes a <strong>tuning file</strong> for each camera. This file controls algorithms and hardware to produce the best image quality. <code>libcamera</code> can only determine the sensor in use, not the module. As a result, some modules require a tuning file override. Use the <a href="#tuning-file"><code>tuning-file</code></a> option to specify an override. You can also copy and alter existing tuning files to customise camera behaviour.</p>
</div>
<div class="paragraph">
<p>For example, the no-IR-filter (NoIR) versions of sensors use Auto White Balance (AWB) settings different from the standard versions. On a Raspberry Pi 5 or later, you can specify the the NoIR tuning file for the IMX219 sensor with the following command:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>rpicam-hello <span class="nt">--tuning-file</span> /usr/share/libcamera/ipa/rpi/pisp/imx219_noir.json</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Raspberry Pi models prior to Raspberry Pi 5 use different tuning files. On those devices, use the files stored in <code>/usr/share/libcamera/ipa/rpi/vc4/</code> instead.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><code>libcamera</code> maintains tuning files for a number of cameras, including third-party models. For instance, you can find the tuning file for the Soho Enterprises SE327M12 in <code>se327m12.json</code>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="use-multiple-cameras">
<a class="anchor" href="#use-multiple-cameras"></a>Use multiple cameras</h3>
<div class="paragraph edit-link">
<p>Edit this <a href="https://github.com/raspberrypi/documentation/blob/develop/documentation/asciidoc/computers/camera/rpicam_apps_multicam.adoc">on GitHub</a></p>
</div>
<div class="paragraph">
<p><code>rpicam-apps</code> has basic support for multiple cameras. You can attach multiple cameras to a Raspberry Pi in the following ways:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For Raspberry Pi Compute Modules, you can connect two cameras directly to a Raspberry Pi Compute Module I/O board. See the <a href="../computers/compute-module.html#attach-a-camera-module">Compute Module documentation</a> for further details. With this method, you can <em>use both cameras simultaneously</em>.</p>
</li>
<li>
<p>For Raspberry Pi 5, you can connect two cameras directly to the board using the dual MIPI connectors.</p>
</li>
<li>
<p>For other Raspberry Pi devices with a camera port, you can attach two or more cameras with a Video Mux board such as <a href="https://www.arducam.com/product/multi-camera-v2-1-adapter-raspberry-pi/">this third-party product</a>. Since both cameras are attached to a single Unicam port, <em>only one camera may be used at a time</em>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To list all the cameras available on your platform, use the <a href="#list-cameras"><code>list-cameras</code></a> option. To choose which camera to use, pass the camera index to the <a href="#camera"><code>camera</code></a> option.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<code>libcamera</code> does not yet provide stereoscopic camera support. When running two cameras simultaneously, they must be run in separate processes. This means there is no way to synchronise sensor framing or 3A operation between them.  As a workaround, you could synchronise the cameras through an external sync signal for the HQ (IMX477) camera, and switch the 3A to manual mode if necessary.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="install-libcamera-and-rpicam-apps">
<a class="anchor" href="#install-libcamera-and-rpicam-apps"></a>Install <code>libcamera</code> and <code>rpicam-apps</code>
</h3>
<div class="paragraph edit-link">
<p>Edit this <a href="https://github.com/raspberrypi/documentation/blob/develop/documentation/asciidoc/computers/camera/rpicam_apps_packages.adoc">on GitHub</a></p>
</div>
<div class="paragraph">
<p>Raspberry Pi provides two <code>rpicam-apps</code> packages:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>rpicam-apps</code> contains full applications with support for previews using a desktop environment. This package is pre-installed in Raspberry Pi OS.</p>
</li>
<li>
<p><code>rpicam-apps-lite</code> omits desktop environment support, and only makes the DRM preview available. This package is pre-installed in Raspberry Pi OS Lite.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="dependencies">
<a class="anchor" href="#dependencies"></a>Dependencies</h4>
<div class="paragraph">
<p><code>rpicam-apps</code> depends on library packages named <code>library-name&lt;n&gt;</code>, where <code>&lt;n&gt;</code> is the ABI version. Your package manager should install these automatically.</p>
</div>
</div>
<div class="sect3">
<h4 id="dev-packages">
<a class="anchor" href="#dev-packages"></a>Dev packages</h4>
<div class="paragraph">
<p>You can rebuild <code>rpicam-apps</code> without building <code>libcamera</code> and <code>libepoxy</code> from scratch. For more information, see <a href="#building-rpicam-apps-without-building-libcamera">Building <code>rpicam-apps</code> without rebuilding <code>libcamera</code></a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stream-video-over-a-network-with-rpicam-apps">
<a class="anchor" href="#stream-video-over-a-network-with-rpicam-apps"></a>Stream video over a network with <code>rpicam-apps</code>
</h2>
<div class="sectionbody"></div>
<div class="paragraph edit-link">
<p>Edit this <a href="https://github.com/raspberrypi/documentation/blob/develop/documentation/asciidoc/computers/camera/streaming.adoc">on GitHub</a></p>
</div>
<div class="paragraph">
<p>This section describes native streaming from <code>rpicam-vid</code>. You can also use the <a href="#libav-integration-with-rpicam-vid"><code>libav</code></a> backend for network streaming.</p>
</div>
<div class="sect2">
<h3 id="udp">
<a class="anchor" href="#udp"></a>UDP</h3>
<div class="paragraph">
<p>To stream video over UDP using a Raspberry Pi as a server, use the following command, replacing the <code>&lt;ip-addr&gt;</code> placeholder with the IP address of the client or multicast address and replacing the <code>&lt;port&gt;</code> placeholder with the port you would like to use for streaming:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>rpicam-vid <span class="nt">-t</span> 0 <span class="nt">--inline</span> <span class="nt">-o</span> udp://&lt;ip-addr&gt;:&lt;port&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>To view video streamed over UDP using a Raspberry Pi as a client, use the following command, replacing the <code>&lt;port&gt;</code> placeholder with the port you would like to stream from:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>vlc udp://@:&lt;port&gt; :demux<span class="o">=</span>h264</code></pre>
</div>
</div>
<div class="paragraph">
<p>Alternatively, use the following command on a client to stream using <code>ffplay</code>:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>ffplay udp://&lt;ip-addr-of-server&gt;:&lt;port&gt; <span class="nt">-fflags</span> nobuffer <span class="nt">-flags</span> low_delay <span class="nt">-framedrop</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="tcp">
<a class="anchor" href="#tcp"></a>TCP</h3>
<div class="paragraph">
<p>You can also stream video over TCP. To use a Raspberry Pi as a server:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>rpicam-vid <span class="nt">-t</span> 0 <span class="nt">--inline</span> <span class="nt">--listen</span> <span class="nt">-o</span> tcp://0.0.0.0:&lt;port&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>To view video streamed over TCP using a Raspberry Pi as a client, use the following command:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>vlc tcp/h264://&lt;ip-addr-of-server&gt;:&lt;port&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Alternatively, use the following command on a client to stream using <code>ffplay</code> at 30 frames per second:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>ffplay tcp://&lt;ip-addr-of-server&gt;:&lt;port&gt; <span class="nt">-vf</span> <span class="s2">"setpts=N/30"</span> <span class="nt">-fflags</span> nobuffer <span class="nt">-flags</span> low_delay <span class="nt">-framedrop</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="rtsp">
<a class="anchor" href="#rtsp"></a>RTSP</h3>
<div class="paragraph">
<p>To use VLC to stream video over RTSP using a Raspberry Pi as a server, use the following command:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>rpicam-vid <span class="nt">-t</span> 0 <span class="nt">--inline</span> <span class="nt">-o</span> - | cvlc stream:///dev/stdin <span class="nt">--sout</span> <span class="s1">'#rtp{sdp=rtsp://:8554/stream1}'</span> :demux<span class="o">=</span>h264</code></pre>
</div>
</div>
<div class="paragraph">
<p>To view video streamed over RTSP using a Raspberry Pi as a client, use the following command:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>ffplay rtsp://&lt;ip-addr-of-server&gt;:8554/stream1 <span class="nt">-vf</span> <span class="s2">"setpts=N/30"</span> <span class="nt">-fflags</span> nobuffer <span class="nt">-flags</span> low_delay <span class="nt">-framedrop</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Alternatively, use the following command on a client to stream using VLC:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>vlc rtsp://&lt;ip-addr-of-server&gt;:8554/stream1</code></pre>
</div>
</div>
<div class="paragraph">
<p>To suppress the preview window on the server, use <a href="#nopreview"><code>nopreview</code></a>.</p>
</div>
<div class="paragraph">
<p>Use the <a href="#inline"><code>inline</code></a> flag to force stream header information into every intra frame, which helps clients understand the stream if they miss the beginning.</p>
</div>
</div>
<div class="sect2">
<h3 id="libav">
<a class="anchor" href="#libav"></a><code>libav</code>
</h3>
<div class="paragraph">
<p>You can use the <code>libav</code> backend as a network streaming source for audio/video.
To stream video over TCP using a Raspberry Pi as a server, use the following command, replacing the <code>&lt;ip-addr&gt;</code> placeholder with the IP address of the client or multicast address and replacing the <code>&lt;port&gt;</code> placeholder with the port you would like to use for streaming:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>rpicam-vid <span class="nt">-t</span> 0 <span class="nt">--codec</span> libav <span class="nt">--libav-format</span> mpegts <span class="nt">--libav-audio</span> <span class="nt">-o</span> <span class="s2">"tcp://&lt;ip-addr&gt;:&lt;port&gt;?listen=1"</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>You can stream over UDP with a similar command:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>rpicam-vid <span class="nt">-t</span> 0 <span class="nt">--codec</span> libav <span class="nt">--libav-format</span> mpegts <span class="nt">--libav-audio</span>  <span class="nt">-o</span> <span class="s2">"udp://&lt;ip-addr&gt;:&lt;port&gt;"</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="gstreamer">
<a class="anchor" href="#gstreamer"></a>GStreamer</h3>
<div class="paragraph">
<p><a href="https://gstreamer.freedesktop.org/">GStreamer</a> is a Linux framework for reading, processing and playing multimedia files. This section shows how to use <code>rpicam-vid</code> to stream video over a network.</p>
</div>
<div class="paragraph">
<p>This setup uses <code>rpicam-vid</code> to output an encoded h.264 bitstream to stdout. Then, we use the GStreamer <code>fdsrc</code> element to receive the bitstream, and extra GStreamer elements to send it over the network. On the server, run the following command to start the stream, replacing the <code>&lt;ip-addr&gt;</code> placeholder with the IP address of the client or multicast address and replacing the <code>&lt;port&gt;</code> placeholder with the port you would like to use for streaming:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>rpicam-vid <span class="nt">-t</span> 0 <span class="nt">-n</span> <span class="nt">--inline</span> <span class="nt">-o</span> - | gst-launch-1.0 fdsrc <span class="nv">fd</span><span class="o">=</span>0 <span class="o">!</span> udpsink <span class="nv">host</span><span class="o">=</span>&lt;ip-addr&gt; <span class="nv">port</span><span class="o">=</span>&lt;port&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>On the client, run the following command to receive the stream, replacing the <code>&lt;ip-addr&gt;</code> placeholder with the IP address of the client or multicast address and replacing the <code>&lt;port&gt;</code> placeholder with the port you would like to use for streaming:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>gst-launch-1.0 udpsrc <span class="nv">address</span><span class="o">=</span>&lt;ip-addr&gt; <span class="nv">port</span><span class="o">=</span>&lt;port&gt; <span class="o">!</span> h264parse <span class="o">!</span> v4l2h264dec <span class="o">!</span> autovideosink</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
To test this configuration, run the server and client commands in separate terminals on the same device, using <code>localhost</code> as the address.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="rtp">
<a class="anchor" href="#rtp"></a>RTP</h4>
<div class="paragraph">
<p>To stream using RTP, run the following command on the server, replacing the <code>&lt;ip-addr&gt;</code> placeholder with the IP address of the client or multicast address and replacing the <code>&lt;port&gt;</code> placeholder with the port you would like to use for streaming:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>rpicam-vid <span class="nt">-t</span> 0 <span class="nt">-n</span> <span class="nt">--inline</span> <span class="nt">-o</span> - | gst-launch-1.0 fdsrc <span class="nv">fd</span><span class="o">=</span>0 <span class="o">!</span> h264parse <span class="o">!</span> rtph264pay <span class="o">!</span> udpsink <span class="nv">host</span><span class="o">=</span>&lt;ip-addr&gt; <span class="nv">port</span><span class="o">=</span>&lt;port&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>To receive over RTP, run the following command on the client, replacing the <code>&lt;ip-addr&gt;</code> placeholder with the IP address of the client or multicast address and replacing the <code>&lt;port&gt;</code> placeholder with the port you would like to use for streaming:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>gst-launch-1.0 udpsrc <span class="nv">address</span><span class="o">=</span>&lt;ip-addr&gt; <span class="nv">port</span><span class="o">=</span>&lt;port&gt; <span class="nv">caps</span><span class="o">=</span>application/x-rtp <span class="o">!</span> rtph264depay <span class="o">!</span> h264parse <span class="o">!</span> v4l2h264dec <span class="o">!</span> autovideosink</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the client is not a Raspberry Pi it may have different GStreamer elements available. On an x86 device running Linux, you might run the following command instead:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>gst-launch-1.0 udpsrc <span class="nv">address</span><span class="o">=</span>&lt;ip-addr&gt; <span class="nv">port</span><span class="o">=</span>&lt;port&gt; <span class="nv">caps</span><span class="o">=</span>application/x-rtp <span class="o">!</span> rtph264depay <span class="o">!</span> h264parse <span class="o">!</span> avdec_h264 <span class="o">!</span> autovideosink</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="libcamerasrc-gstreamer-element">
<a class="anchor" href="#libcamerasrc-gstreamer-element"></a><code>libcamerasrc</code> GStreamer element</h4>
<div class="paragraph">
<p><code>libcamera</code> provides a <code>libcamerasrc</code> GStreamer element which can be used directly instead of <code>rpicam-vid</code>. To use this element, run the following command on the server, replacing the <code>&lt;ip-addr&gt;</code> placeholder with the IP address of the client or multicast address and replacing the <code>&lt;port&gt;</code> placeholder with the port you would like to use for streaming:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>gst-launch-1.0 libcamerasrc <span class="o">!</span> capsfilter <span class="nv">caps</span><span class="o">=</span>video/x-raw,width<span class="o">=</span>1280,height<span class="o">=</span>720,format<span class="o">=</span>NV12 <span class="o">!</span> v4l2convert <span class="o">!</span> v4l2h264enc extra-controls<span class="o">=</span><span class="s2">"controls,repeat_sequence_header=1"</span> <span class="o">!</span> <span class="s1">'video/x-h264,level=(string)4.1'</span> <span class="o">!</span> h264parse <span class="o">!</span> rtph264pay <span class="o">!</span> udpsink <span class="nv">host</span><span class="o">=</span>&lt;ip-addr&gt; <span class="nv">port</span><span class="o">=</span>&lt;port&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>and on the client we use the same playback pipeline as previously.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="rpicam-apps-options-reference">
<a class="anchor" href="#rpicam-apps-options-reference"></a><code>rpicam-apps</code> options reference</h2>
<div class="sectionbody"></div>
<div class="paragraph edit-link">
<p>Edit this <a href="https://github.com/raspberrypi/documentation/blob/develop/documentation/asciidoc/computers/camera/rpicam_options_common.adoc">on GitHub</a></p>
</div>
<div class="sect2">
<h3 id="common-options">
<a class="anchor" href="#common-options"></a>Common options</h3>
<div class="paragraph">
<p>The following options apply across all the <code>rpicam-apps</code> with similar or identical semantics, unless otherwise noted.</p>
</div>
<div class="paragraph">
<p>To pass one of the following options to an application, prefix the option name with <code>--</code>. If the option requires a value, pass the value immediately after the option name, separated by a single space. If the value contains a space, surround the value in quotes.</p>
</div>
<div class="paragraph">
<p>Some options have shorthand aliases, for example <code>-h</code> instead of <code>--help</code>. Use these shorthand aliases instead of the full option name to save space and time at the expense of readability.</p>
</div>
<div class="sect3">
<h4 id="help">
<a class="anchor" href="#help"></a><code>help</code>
</h4>
<div class="paragraph">
<p>Alias: <code>-h</code></p>
</div>
<div class="paragraph">
<p>Prints the full set of options, along with a brief synopsis of each option. Does not accept a value.</p>
</div>
</div>
<div class="sect3">
<h4 id="version">
<a class="anchor" href="#version"></a><code>version</code>
</h4>
<div class="paragraph">
<p>Prints out version strings for <code>libcamera</code> and <code>rpicam-apps</code>. Does not accept a value.</p>
</div>
<div class="paragraph">
<p>Example output:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>rpicam-apps build: ca559f46a97a 27-09-2021 (14:10:24)
libcamera build: v0.0.0+3058-c29143f7</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="list-cameras">
<a class="anchor" href="#list-cameras"></a><code>list-cameras</code>
</h4>
<div class="paragraph">
<p>Lists the detected cameras attached to your Raspberry Pi and their available sensor modes. Does not accept a value.</p>
</div>
<div class="paragraph">
<p>Sensor mode identifiers have the following form: <code>S&lt;Bayer order&gt;&lt;Bit-depth&gt;_&lt;Optional packing&gt; : &lt;Resolution list&gt;</code></p>
</div>
<div class="paragraph">
<p>Crop is specified in native sensor pixels (even in pixel binning mode) as <code>(&lt;x&gt;, &lt;y&gt;)/&lt;Width&gt;×&lt;Height&gt;</code>. <code>(x, y)</code> specifies the location of the crop window of size <code>width × height</code> in the sensor array.</p>
</div>
<div class="paragraph">
<p>For example, the following output displays information about an <code>IMX219</code> sensor at index 0 and an <code>IMX477</code> sensor at index 1:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>Available cameras
-----------------
0 : imx219 [3280x2464] (/base/soc/i2c0mux/i2c@1/imx219@10)
    Modes: 'SRGGB10_CSI2P' : 640x480 [206.65 fps - (1000, 752)/1280x960 crop]
                             1640x1232 [41.85 fps - (0, 0)/3280x2464 crop]
                             1920x1080 [47.57 fps - (680, 692)/1920x1080 crop]
                             3280x2464 [21.19 fps - (0, 0)/3280x2464 crop]
           'SRGGB8' : 640x480 [206.65 fps - (1000, 752)/1280x960 crop]
                      1640x1232 [41.85 fps - (0, 0)/3280x2464 crop]
                      1920x1080 [47.57 fps - (680, 692)/1920x1080 crop]
                      3280x2464 [21.19 fps - (0, 0)/3280x2464 crop]
1 : imx477 [4056x3040] (/base/soc/i2c0mux/i2c@1/imx477@1a)
    Modes: 'SRGGB10_CSI2P' : 1332x990 [120.05 fps - (696, 528)/2664x1980 crop]
           'SRGGB12_CSI2P' : 2028x1080 [50.03 fps - (0, 440)/4056x2160 crop]
                             2028x1520 [40.01 fps - (0, 0)/4056x3040 crop]
                             4056x3040 [10.00 fps - (0, 0)/4056x3040 crop]</pre>
</div>
</div>
<div class="paragraph">
<p>For the IMX219 sensor in the above example:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>all modes have an <code>RGGB</code> Bayer ordering</p>
</li>
<li>
<p>all modes provide either 8-bit or 10-bit CSI2 packed readout at the listed resolutions</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="camera">
<a class="anchor" href="#camera"></a><code>camera</code>
</h4>
<div class="paragraph">
<p>Selects the camera to use. Specify an index from the <a href="#list-cameras">list of available cameras</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="config">
<a class="anchor" href="#config"></a><code>config</code>
</h4>
<div class="paragraph">
<p>Alias: <code>-c</code></p>
</div>
<div class="paragraph">
<p>Specify a file containing CLI options and values. Consider a file named <code>example_configuration.txt</code> that contains the following text, specifying options and values as key-value pairs, one option per line, long (non-alias) option names only:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>timeout=99000
verbose=</pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
Omit the leading <code>--</code> that you normally pass on the command line. For flags that lack a value, such as <code>verbose</code> in the above example, you must include a trailing <code>=</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You could then run the following command to specify a timeout of 99000 milliseconds and verbose output:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>rpicam-hello <span class="nt">--config</span> example_configuration.txt</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="timeout">
<a class="anchor" href="#timeout"></a><code>timeout</code>
</h4>
<div class="paragraph">
<p>Alias: <code>-t</code></p>
</div>
<div class="paragraph">
<p>Default value: 5000 milliseconds (5 seconds)</p>
</div>
<div class="paragraph">
<p>Specify how long the application runs before closing. This applies to both video recording and preview windows. When capturing a still image, the application shows a preview window for <code>timeout</code> milliseconds before capturing the output image.</p>
</div>
<div class="paragraph">
<p>To run the application indefinitely, specify a value of <code>0</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="preview">
<a class="anchor" href="#preview"></a><code>preview</code>
</h4>
<div class="paragraph">
<p>Alias: <code>-p</code></p>
</div>
<div class="paragraph">
<p>Sets the location (x,y coordinates) and size (w,h dimensions) of the desktop or DRM preview window. Does not affect the resolution or aspect ratio of images requested from the camera. Scales image size and pillar or letterboxes image aspect ratio to fit within the preview window.</p>
</div>
<div class="paragraph">
<p>Pass the preview window dimensions in the following comma-separated form: <code>x,y,w,h</code></p>
</div>
<div class="paragraph">
<p>Example: <code>rpicam-hello --preview 100,100,500,500</code></p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/preview_window.jpg?hash=c2a66e99a4fb6abdb13198db9abdff19" alt="Letterboxed preview image">
</div>
</div>
</div>
<div class="sect3">
<h4 id="fullscreen">
<a class="anchor" href="#fullscreen"></a><code>fullscreen</code>
</h4>
<div class="paragraph">
<p>Alias: <code>-f</code></p>
</div>
<div class="paragraph">
<p>Forces the preview window to use the entire screen with no border or title bar. Scales image size and pillar or letterboxes image aspect ratio to fit within the entire screen. Does not accept a value.</p>
</div>
</div>
<div class="sect3">
<h4 id="qt-preview">
<a class="anchor" href="#qt-preview"></a><code>qt-preview</code>
</h4>
<div class="paragraph">
<p>Uses the Qt preview window, which consumes more resources than the alternatives, but supports X window forwarding. Incompatible with the <a href="#fullscreen"><code>fullscreen</code></a> flag. Does not accept a value.</p>
</div>
</div>
<div class="sect3">
<h4 id="nopreview">
<a class="anchor" href="#nopreview"></a><code>nopreview</code>
</h4>
<div class="paragraph">
<p>Alias: <code>-n</code></p>
</div>
<div class="paragraph">
<p>Causes the application to <em>not</em> display a preview window at all. Does not accept a value.</p>
</div>
</div>
<div class="sect3">
<h4 id="info-text">
<a class="anchor" href="#info-text"></a><code>info-text</code>
</h4>
<div class="paragraph">
<p>Default value: <code>"#%frame (%fps fps) exp %exp ag %ag dg %dg"</code></p>
</div>
<div class="paragraph">
<p>Sets the supplied string as the title of the preview window when running in a desktop environment. Supports the following image metadata substitutions:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Directive</th>
<th class="tableblock halign-left valign-top">Substitution</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%frame</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sequence number of the frame.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%fps</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Instantaneous frame rate.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%exp</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Shutter speed used to capture the image, in microseconds.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%ag</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Analogue gain applied to the image in the sensor.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%dg</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Digital gain applied to the image by the ISP.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%rg</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gain applied to the red component of each pixel.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%bg</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gain applied to the blue component of each pixel.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%focus</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Focus metric for the image, where a larger value implies a sharper image.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%lp</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Current lens position in dioptres (1 / distance in metres).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%afstate</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Autofocus algorithm state (<code>idle</code>, <code>scanning</code>, <code>focused</code> or <code>failed</code>).</p></td>
</tr>
</tbody>
</table>
<div class="imageblock">
<div class="content">
<img src="images/focus.jpg?hash=a84033283df6d58bb5ef309270648ac2" alt="Image showing focus measure">
</div>
</div>
</div>
<div class="sect3">
<h4 id="width-and-height">
<a class="anchor" href="#width-and-height"></a><code>width</code> and <code>height</code>
</h4>
<div class="paragraph">
<p>Each accepts a single number defining the dimensions, in pixels, of the captured image.</p>
</div>
<div class="paragraph">
<p>For <code>rpicam-still</code>, <code>rpicam-jpeg</code> and <code>rpicam-vid</code>, specifies output resolution.</p>
</div>
<div class="paragraph">
<p>For <code>rpicam-raw</code>, specifies raw frame resolution. For cameras with a 2×2 binned readout mode, specifying a resolution equal to or smaller than the binned mode captures 2×2 binned raw frames.</p>
</div>
<div class="paragraph">
<p>For <code>rpicam-hello</code>, has no effect.</p>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>rpicam-vid -o test.h264 --width 1920 --height 1080</code> captures 1080p video.</p>
</li>
<li>
<p><code>rpicam-still -r -o test.jpg --width 2028 --height 1520</code> captures a 2028×1520 resolution JPEG. If used with the HQ camera, uses 2×2 binned mode, so the raw file (<code>test.dng</code>) contains a 2028×1520 raw Bayer image.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="viewfinder-width-and-viewfinder-height">
<a class="anchor" href="#viewfinder-width-and-viewfinder-height"></a><code>viewfinder-width</code> and <code>viewfinder-height</code>
</h4>
<div class="paragraph">
<p>Each accepts a single number defining the dimensions, in pixels, of the image displayed in the preview window. Does not effect the preview window dimensions, since images are resized to fit. Does not affect captured still images or videos.</p>
</div>
</div>
<div class="sect3">
<h4 id="mode">
<a class="anchor" href="#mode"></a><code>mode</code>
</h4>
<div class="paragraph">
<p>Allows you to specify a camera mode in the following colon-separated format: <code>&lt;width&gt;:&lt;height&gt;:&lt;bit-depth&gt;:&lt;packing&gt;</code>. The system selects the closest available option for the sensor if there is not an exact match for a provided value. You can use the packed (<code>P</code>) or unpacked (<code>U</code>) packing formats. Impacts the format of stored videos and stills, but not the format of frames passed to the preview window.</p>
</div>
<div class="paragraph">
<p>Bit-depth and packing are optional.
Bit-depth defaults to 12.
Packing defaults to <code>P</code> (packed).</p>
</div>
<div class="paragraph">
<p>For information about the bit-depth, resolution, and packing options available for your sensor, see <a href="#list-cameras"><code>list-cameras</code></a>.</p>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>4056:3040:12:P</code> - 4056×3040 resolution, 12 bits per pixel, packed.</p>
</li>
<li>
<p><code>1632:1224:10</code> - 1632×1224 resolution, 10 bits per pixel.</p>
</li>
<li>
<p><code>2592:1944:10:U</code> - 2592×1944 resolution, 10 bits per pixel, unpacked.</p>
</li>
<li>
<p><code>3264:2448</code> - 3264×2448 resolution.</p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="packed-format-details">
<a class="anchor" href="#packed-format-details"></a>Packed format details</h5>
<div class="paragraph">
<p>The packed format uses less storage for pixel data.</p>
</div>
<div class="paragraph">
<p><em>On Raspberry Pi 4 and earlier devices</em>, the packed format packs pixels using the MIPI CSI-2 standard. This means:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>10-bit camera modes pack 4 pixels into 5 bytes. The first 4 bytes contain the 8 most significant bits (MSBs) of each pixel, and the final byte contains the 4 pairs of least significant bits (LSBs).</p>
</li>
<li>
<p>12-bit camera modes pack 2 pixels into 3 bytes. The first 2 bytes contain the 8 most significant bits (MSBs) of each pixel, and the final byte contains the 4 least significant bits (LSBs) of both pixels.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><em>On Raspberry Pi 5 and later devices</em>, the packed format compresses pixel values with a visually lossless compression scheme into 8 bits (1 byte) per pixel.</p>
</div>
</div>
<div class="sect4">
<h5 id="unpacked-format-details">
<a class="anchor" href="#unpacked-format-details"></a>Unpacked format details</h5>
<div class="paragraph">
<p>The unpacked format provides pixel values that are much easier to manually manipulate, at the expense of using more storage for pixel data.</p>
</div>
<div class="paragraph">
<p>On all devices, the unpacked format uses 2 bytes per pixel.</p>
</div>
<div class="paragraph">
<p><em>On Raspberry Pi 4 and earlier devices</em>, applications apply zero padding at the <strong>most significant end</strong>. In the unpacked format, a pixel from a 10-bit camera mode cannot exceed the value 1023.</p>
</div>
<div class="paragraph">
<p><em>On Raspberry Pi 5 and later devices</em>, applications apply zero padding at the <strong>least significant end</strong>, so images use the full 16-bit dynamic range of the pixel depth delivered by the sensor.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="viewfinder-mode">
<a class="anchor" href="#viewfinder-mode"></a><code>viewfinder-mode</code>
</h4>
<div class="paragraph">
<p>Identical to the <code>mode</code> option, but it applies to the data passed to the preview window. For more information, see the <a href="#mode"><code>mode</code> documentation</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="lores-width-and-lores-height">
<a class="anchor" href="#lores-width-and-lores-height"></a><code>lores-width</code> and <code>lores-height</code>
</h4>
<div class="paragraph">
<p>Delivers a second, lower-resolution image stream from the camera, scaled down to the specified dimensions.</p>
</div>
<div class="paragraph">
<p>Each accepts a single number defining the dimensions, in pixels, of the lower-resolution stream.</p>
</div>
<div class="paragraph">
<p>Available for preview and video modes. Not available for still captures. If you specify a aspect ratio different from the normal resolution stream, generates non-square pixels.</p>
</div>
<div class="paragraph">
<p>For <code>rpicam-vid</code>, disables extra colour-denoise processing.</p>
</div>
<div class="paragraph">
<p>Useful for image analysis when combined with <a href="#post-processing-with-rpicam-apps">image post-processing</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="hflip">
<a class="anchor" href="#hflip"></a><code>hflip</code>
</h4>
<div class="paragraph">
<p>Flips the image horizontally. Does not accept a value.</p>
</div>
</div>
<div class="sect3">
<h4 id="vflip">
<a class="anchor" href="#vflip"></a><code>vflip</code>
</h4>
<div class="paragraph">
<p>Flips the image vertically. Does not accept a value.</p>
</div>
</div>
<div class="sect3">
<h4 id="rotation">
<a class="anchor" href="#rotation"></a><code>rotation</code>
</h4>
<div class="paragraph">
<p>Rotates the image extracted from the sensor. Accepts only the values 0 or 180.</p>
</div>
</div>
<div class="sect3">
<h4 id="roi">
<a class="anchor" href="#roi"></a><code>roi</code>
</h4>
<div class="paragraph">
<p>Crops the image extracted from the full field of the sensor. Accepts four decimal values, <em>ranged 0 to 1</em>, in the following format: <code>&lt;x&gt;,&lt;y&gt;,&lt;w&gt;,h&gt;</code>. Each of these values represents a percentage of the available width and heights as a decimal between 0 and 1.</p>
</div>
<div class="paragraph">
<p>These values define the following proportions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>&lt;x&gt;</code>: X coordinates to skip before extracting an image</p>
</li>
<li>
<p><code>&lt;y&gt;</code>: Y coordinates to skip before extracting an image</p>
</li>
<li>
<p><code>&lt;w&gt;</code>: image width to extract</p>
</li>
<li>
<p><code>&lt;h&gt;</code>: image height to extract</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Defaults to <code>0,0,1,1</code> (starts at the first X coordinate and the first Y coordinate, uses 100% of the image width, uses 100% of the image height).</p>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>rpicam-hello --roi 0.25,0.25,0.5,0.5</code> selects exactly a half of the total number of pixels cropped from the centre of the image (skips the first 25% of X coordinates, skips the first 25% of Y coordinates, uses 50% of the total image width, uses 50% of the total image height).</p>
</li>
<li>
<p><code>rpicam-hello --roi 0,0,0.25,0.25</code> selects exactly a quarter of the total number of pixels cropped from the top left of the image (skips the first 0% of X coordinates, skips the first 0% of Y coordinates, uses 25% of the image width, uses 25% of the image height).</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="hdr">
<a class="anchor" href="#hdr"></a><code>hdr</code>
</h4>
<div class="paragraph">
<p>Default value: <code>off</code></p>
</div>
<div class="paragraph">
<p>Runs the camera in HDR mode. If passed without a value, assumes <code>auto</code>. Accepts one of the following values:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>off</code> - Disables HDR.</p>
</li>
<li>
<p><code>auto</code> - Enables HDR on supported devices. Uses the sensor’s built-in HDR mode if available. If the sensor lacks a built-in HDR mode, uses on-board HDR mode, if available.</p>
</li>
<li>
<p><code>single-exp</code> - Uses on-board HDR mode, if available, even if the sensor has a built-in HDR mode. If on-board HDR mode is not available, disables HDR.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Raspberry Pi 5 and later devices have an on-board HDR mode.</p>
</div>
<div class="paragraph">
<p>To check for built-in HDR modes in a sensor, pass this option in addition to <a href="#list-cameras"><code>list-cameras</code></a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="camera-control-options">
<a class="anchor" href="#camera-control-options"></a>Camera control options</h3>
<div class="paragraph">
<p>The following options control image processing and algorithms that affect camera image quality.</p>
</div>
<div class="sect3">
<h4 id="sharpness">
<a class="anchor" href="#sharpness"></a><code>sharpness</code>
</h4>
<div class="paragraph">
<p>Sets image sharpness. Accepts a numeric value along the following spectrum:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>0.0</code> applies no sharpening</p>
</li>
<li>
<p>values greater than <code>0.0</code>, but less than <code>1.0</code> apply less than the default amount of sharpening</p>
</li>
<li>
<p><code>1.0</code> applies the default amount of sharpening</p>
</li>
<li>
<p>values greater than <code>1.0</code> apply extra sharpening</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="contrast">
<a class="anchor" href="#contrast"></a><code>contrast</code>
</h4>
<div class="paragraph">
<p>Specifies the image contrast. Accepts a numeric value along the following spectrum:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>0.0</code> applies minimum contrast</p>
</li>
<li>
<p>values greater than <code>0.0</code>, but less than <code>1.0</code> apply less than the default amount of contrast</p>
</li>
<li>
<p><code>1.0</code> applies the default amount of contrast</p>
</li>
<li>
<p>values greater than <code>1.0</code> apply extra contrast</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="brightness">
<a class="anchor" href="#brightness"></a><code>brightness</code>
</h4>
<div class="paragraph">
<p>Specifies the image brightness, added as an offset to all pixels in the output image. Accepts a numeric value along the following spectrum:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>-1.0</code> applies minimum brightness (black)</p>
</li>
<li>
<p><code>0.0</code> applies standard brightness</p>
</li>
<li>
<p><code>1.0</code> applies maximum brightness (white)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For many use cases, prefer <a href="#ev"><code>ev</code></a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="saturation">
<a class="anchor" href="#saturation"></a><code>saturation</code>
</h4>
<div class="paragraph">
<p>Specifies the image colour saturation. Accepts a numeric value along the following spectrum:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>0.0</code> applies minimum saturation (grayscale)</p>
</li>
<li>
<p>values greater than <code>0.0</code>, but less than <code>1.0</code> apply less than the default amount of saturation</p>
</li>
<li>
<p><code>1.0</code> applies the default amount of saturation</p>
</li>
<li>
<p>values greater than <code>1.0</code> apply extra saturation</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="ev">
<a class="anchor" href="#ev"></a><code>ev</code>
</h4>
<div class="paragraph">
<p>Specifies the <a href="https://en.wikipedia.org/wiki/Exposure_value">exposure value (EV)</a> compensation of the image in stops. Accepts a numeric value that controls target values passed to the Automatic Exposure/Gain Control (AEC/AGC) processing algorithm along the following spectrum:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>-10.0</code> applies minimum target values</p>
</li>
<li>
<p><code>0.0</code> applies standard target values</p>
</li>
<li>
<p><code>10.0</code> applies maximum target values</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="shutter">
<a class="anchor" href="#shutter"></a><code>shutter</code>
</h4>
<div class="paragraph">
<p>Specifies the exposure time, using the shutter, in <em>microseconds</em>. Gain can still vary when you use this option. If the camera runs at a framerate so fast it does not allow for the specified exposure time (for instance, a framerate of 1fps and an exposure time of 10000 microseconds), the sensor will use the maximum exposure time allowed by the framerate.</p>
</div>
<div class="paragraph">
<p>For a list of minimum and maximum shutter times for official cameras, see the <a href="../accessories/camera.html#hardware-specification">camera hardware documentation</a>. Values above the maximum result in undefined behaviour.</p>
</div>
</div>
<div class="sect3">
<h4 id="gain">
<a class="anchor" href="#gain"></a><code>gain</code>
</h4>
<div class="paragraph">
<p>Alias: <code>--analoggain</code></p>
</div>
<div class="paragraph">
<p>Sets the combined analogue and digital gain. When the sensor driver can provide the requested gain, only uses analogue gain. When analogue gain reaches the maximum value, the ISP applies digital gain. Accepts a numeric value.</p>
</div>
<div class="paragraph">
<p>For a list of analogue gain limits, for official cameras, see the <a href="../accessories/camera.html#hardware-specification">camera hardware documentation</a>.</p>
</div>
<div class="paragraph">
<p>Sometimes, digital gain can exceed 1.0 even when the analogue gain limit is not exceeded. This can occur in the following situations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Either of the colour gains drops below 1.0, which will cause the digital gain to settle to 1.0/min(red_gain,blue_gain). This keeps the total digital gain applied to any colour channel above 1.0 to avoid discolouration artefacts.</p>
</li>
<li>
<p>Slight variances during Automatic Exposure/Gain Control (AEC/AGC) changes.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="metering">
<a class="anchor" href="#metering"></a><code>metering</code>
</h4>
<div class="paragraph">
<p>Default value: <code>centre</code></p>
</div>
<div class="paragraph">
<p>Sets the metering mode of the Automatic Exposure/Gain Control (AEC/AGC) algorithm. Accepts the following values:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>centre</code> - centre weighted metering</p>
</li>
<li>
<p><code>spot</code> - spot metering</p>
</li>
<li>
<p><code>average</code> - average or whole frame metering</p>
</li>
<li>
<p><code>custom</code> - custom metering mode defined in the camera tuning file</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more information on defining a custom metering mode, and adjusting region weights in existing metering modes, see the <a href="https://datasheets.raspberrypi.com/camera/raspberry-pi-camera-guide.pdf">Tuning guide for the Raspberry Pi cameras and libcamera</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="exposure">
<a class="anchor" href="#exposure"></a><code>exposure</code>
</h4>
<div class="paragraph">
<p>Sets the exposure profile. Changing the exposure profile should not affect the image exposure. Instead, different modes adjust gain settings to achieve the same net result. Accepts the following values:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sport</code>: short exposure, larger gains</p>
</li>
<li>
<p><code>normal</code>: normal exposure, normal gains</p>
</li>
<li>
<p><code>long</code>: long exposure, smaller gains</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can edit exposure profiles using tuning files. For more information, see the <a href="https://datasheets.raspberrypi.com/camera/raspberry-pi-camera-guide.pdf">Tuning guide for the Raspberry Pi cameras and libcamera</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="awb">
<a class="anchor" href="#awb"></a><code>awb</code>
</h4>
<div class="paragraph">
<p>Sets the Auto White Balance (AWB) mode. Accepts the following values:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Mode name</th>
<th class="tableblock halign-left valign-top">Colour temperature range</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>auto</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2500K to 8000K</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>incandescent</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2500K to 3000K</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>tungsten</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3000K to 3500K</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fluorescent</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4000K to 4700K</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>indoor</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3000K to 5000K</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>daylight</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5500K to 6500K</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cloudy</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7000K to 8500K</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>custom</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A custom range defined in the tuning file.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>These values are only approximate: values could vary according to the camera tuning.</p>
</div>
<div class="paragraph">
<p>No mode fully disables AWB. Instead, you can fix colour gains with <a href="#awbgains"><code>awbgains</code></a>.</p>
</div>
<div class="paragraph">
<p>For more information on AWB modes, including how to define a custom one, see the <a href="https://datasheets.raspberrypi.com/camera/raspberry-pi-camera-guide.pdf">Tuning guide for the Raspberry Pi cameras and libcamera</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="awbgains">
<a class="anchor" href="#awbgains"></a><code>awbgains</code>
</h4>
<div class="paragraph">
<p>Sets a fixed red and blue gain value to be used instead of an Auto White Balance (AWB) algorithm. Set non-zero values to disable AWB. Accepts comma-separated numeric input in the following format: <code>&lt;red_gain&gt;,&lt;blue_gain&gt;</code></p>
</div>
</div>
<div class="sect3">
<h4 id="denoise">
<a class="anchor" href="#denoise"></a><code>denoise</code>
</h4>
<div class="paragraph">
<p>Default value: <code>auto</code></p>
</div>
<div class="paragraph">
<p>Sets the denoising mode. Accepts the following values:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>auto</code>: Enables standard spatial denoise. Uses extra-fast colour denoise for video, and high-quality colour denoise for images. Enables no extra colour denoise in the preview window.</p>
</li>
<li>
<p><code>off</code>: Disables spatial and colour denoise.</p>
</li>
<li>
<p><code>cdn_off</code>: Disables colour denoise.</p>
</li>
<li>
<p><code>cdn_fast</code>: Uses fast colour denoise.</p>
</li>
<li>
<p><code>cdn_hq</code>: Uses high-quality colour denoise. Not appropriate for video/viewfinder due to reduced throughput.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Even fast colour denoise can lower framerates. High quality colour denoise <em>significantly</em> lowers framerates.</p>
</div>
</div>
<div class="sect3">
<h4 id="tuning-file">
<a class="anchor" href="#tuning-file"></a><code>tuning-file</code>
</h4>
<div class="paragraph">
<p>Specifies the camera tuning file. The tuning file allows you to control many aspects of image processing, including the  Automatic Exposure/Gain Control (AEC/AGC), Auto White Balance (AWB), colour shading correction, colour processing, denoising and more. Accepts a tuning file path as input.</p>
</div>
<div class="paragraph">
<p>For more information about tuning files, see <a href="#tuning-files">Tuning Files</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="autofocus-mode">
<a class="anchor" href="#autofocus-mode"></a><code>autofocus-mode</code>
</h4>
<div class="paragraph">
<p>Default value: <code>default</code></p>
</div>
<div class="paragraph">
<p>Specifies the autofocus mode. Accepts the following values:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>default</code>: puts the camera into continuous autofocus mode unless <a href="#lens-position"><code>lens-position</code></a> or <a href="#autofocus-on-capture"><code>autofocus-on-capture</code></a> override the mode to manual</p>
</li>
<li>
<p><code>manual</code>: does not move the lens at all unless manually configured with <a href="#lens-position"><code>lens-position</code></a></p>
</li>
<li>
<p><code>auto</code>: only moves the lens for an autofocus sweep when the camera starts or just before capture if <a href="#autofocus-on-capture"><code>autofocus-on-capture</code></a> is also used</p>
</li>
<li>
<p><code>continuous</code>: adjusts the lens position automatically as the scene changes</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This option is only supported for certain camera modules.</p>
</div>
</div>
<div class="sect3">
<h4 id="autofocus-range">
<a class="anchor" href="#autofocus-range"></a><code>autofocus-range</code>
</h4>
<div class="paragraph">
<p>Default value: <code>normal</code></p>
</div>
<div class="paragraph">
<p>Specifies the autofocus range. Accepts the following values:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>normal</code>: focuses from reasonably close to infinity</p>
</li>
<li>
<p><code>macro</code>: focuses only on close objects, including the closest focal distances supported by the camera</p>
</li>
<li>
<p><code>full</code>: focus on the entire range, from the very closest objects to infinity</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This option is only supported for certain camera modules.</p>
</div>
</div>
<div class="sect3">
<h4 id="autofocus-speed">
<a class="anchor" href="#autofocus-speed"></a><code>autofocus-speed</code>
</h4>
<div class="paragraph">
<p>Default value: <code>normal</code></p>
</div>
<div class="paragraph">
<p>Specifies the autofocus speed. Accepts the following values:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>normal</code>: changes the lens position at normal speed</p>
</li>
<li>
<p><code>fast</code>: changes the lens position quickly</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This option is only supported for certain camera modules.</p>
</div>
</div>
<div class="sect3">
<h4 id="autofocus-window">
<a class="anchor" href="#autofocus-window"></a><code>autofocus-window</code>
</h4>
<div class="paragraph">
<p>Specifies the autofocus window within the full field of the sensor. Accepts four decimal values, <em>ranged 0 to 1</em>, in the following format: <code>&lt;x&gt;,&lt;y&gt;,&lt;w&gt;,h&gt;</code>. Each of these values represents a percentage of the available width and heights as a decimal between 0 and 1.</p>
</div>
<div class="paragraph">
<p>These values define the following proportions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>&lt;x&gt;</code>: X coordinates to skip before applying autofocus</p>
</li>
<li>
<p><code>&lt;y&gt;</code>: Y coordinates to skip before applying autofocus</p>
</li>
<li>
<p><code>&lt;w&gt;</code>: autofocus area width</p>
</li>
<li>
<p><code>&lt;h&gt;</code>: autofocus area height</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The default value uses the middle third of the output image in both dimensions (1/9 of the total image area).</p>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>rpicam-hello --autofocus-window 0.25,0.25,0.5,0.5</code> selects exactly half of the total number of pixels cropped from the centre of the image (skips the first 25% of X coordinates, skips the first 25% of Y coordinates, uses 50% of the total image width, uses 50% of the total image height).</p>
</li>
<li>
<p><code>rpicam-hello --autofocus-window 0,0,0.25,0.25</code> selects exactly a quarter of the total number of pixels cropped from the top left of the image (skips the first 0% of X coordinates, skips the first 0% of Y coordinates, uses 25% of the image width, uses 25% of the image height).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This option is only supported for certain camera modules.</p>
</div>
</div>
<div class="sect3">
<h4 id="lens-position">
<a class="anchor" href="#lens-position"></a><code>lens-position</code>
</h4>
<div class="paragraph">
<p>Default value: <code>default</code></p>
</div>
<div class="paragraph">
<p>Moves the lens to a fixed focal distance, normally given in dioptres (units of 1 / <em>distance in metres</em>). Accepts the following spectrum of values:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>0.0</code>: moves the lens to the "infinity" position</p>
</li>
<li>
<p>Any other <code>number</code>: moves the lens to the 1 / <code>number</code> position. For example, the value <code>2.0</code> would focus at approximately 0.5m</p>
</li>
<li>
<p><code>default</code>: move the lens to a default position which corresponds to the hyperfocal position of the lens</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Lens calibration is imperfect, so different camera modules of the same model may vary.</p>
</div>
</div>
<div class="sect3">
<h4 id="verbose">
<a class="anchor" href="#verbose"></a><code>verbose</code>
</h4>
<div class="paragraph">
<p>Alias: <code>-v</code></p>
</div>
<div class="paragraph">
<p>Default value: <code>1</code></p>
</div>
<div class="paragraph">
<p>Sets the verbosity level. Accepts the following values:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>0</code>: no output</p>
</li>
<li>
<p><code>1</code>: normal output</p>
</li>
<li>
<p><code>2</code>: verbose output</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="output-file-options">
<a class="anchor" href="#output-file-options"></a>Output file options</h3>
<div class="sect3">
<h4 id="output">
<a class="anchor" href="#output"></a><code>output</code>
</h4>
<div class="paragraph">
<p>Alias: <code>-o</code></p>
</div>
<div class="paragraph">
<p>Sets the name of the file used to record images or video. Besides plaintext file names, accepts the following special values:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>-</code>: write to stdout.</p>
</li>
<li>
<p><code>udp://</code> (prefix): a network address for UDP streaming.</p>
</li>
<li>
<p><code>tcp://</code> (prefix): a network address for TCP streaming.</p>
</li>
<li>
<p>Include the <code>%d</code> directive in the file name to replace the directive with a count that increments for each opened file. This directive supports standard C format directive modifiers.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>rpicam-vid -t 100000 --segment 10000 -o chunk%04d.h264</code> records a 100 second file in 10 second segments, where each file includes an incrementing four-digit counter padded with leading zeros: e.g. <code>chunk0001.h264</code>, <code>chunk0002.h264</code>, etc.</p>
</li>
<li>
<p><code>rpicam-vid -t 0 --inline -o udp://192.168.1.13:5000</code> streams H.264 video to network address 192.168.1.13 using UDP on port 5000.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="wrap">
<a class="anchor" href="#wrap"></a><code>wrap</code>
</h4>
<div class="paragraph">
<p>Sets a maximum value for the counter used by the <a href="#output"><code>output</code></a> <code>%d</code> directive. The counter resets to zero after reaching this value. Accepts a numeric value.</p>
</div>
</div>
<div class="sect3">
<h4 id="flush">
<a class="anchor" href="#flush"></a><code>flush</code>
</h4>
<div class="paragraph">
<p>Flushes output files to disk as soon as a frame finishes writing, instead of waiting for the system to handle it. Does not accept a value.</p>
</div>
</div>
<div class="sect3">
<h4 id="post-process-file">
<a class="anchor" href="#post-process-file"></a><code>post-process-file</code>
</h4>
<div class="paragraph">
<p>Specifies a JSON file that configures the post-processing applied by the imaging pipeline. This applies to camera images <em>before</em> they reach the application. This works similarly to the legacy <code>raspicam</code> "image effects". Accepts a file name path as input.</p>
</div>
<div class="paragraph">
<p>Post-processing is a large topic and admits the use of third-party software like OpenCV and TensorFlowLite to analyse and manipulate images. For more information, see <a href="#post-processing-with-rpicam-apps">post-processing</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="image-options">
<a class="anchor" href="#image-options"></a>Image options</h3>
<div class="paragraph edit-link">
<p>Edit this <a href="https://github.com/raspberrypi/documentation/blob/develop/documentation/asciidoc/computers/camera/rpicam_options_still.adoc">on GitHub</a></p>
</div>
<div class="paragraph">
<p>The command line options specified in this section apply only to still image output.</p>
</div>
<div class="paragraph">
<p>To pass one of the following options to an application, prefix the option name with <code>--</code>. If the option requires a value, pass the value immediately after the option name, separated by a single space. If the value contains a space, surround the value in quotes.</p>
</div>
<div class="paragraph">
<p>Some options have shorthand aliases, for example <code>-h</code> instead of <code>--help</code>. Use these shorthand aliases instead of the full option name to save space and time at the expense of readability.</p>
</div>
<div class="sect3">
<h4 id="quality">
<a class="anchor" href="#quality"></a><code>quality</code>
</h4>
<div class="paragraph">
<p>Alias: <code>-q</code></p>
</div>
<div class="paragraph">
<p>Default value: <code>93</code></p>
</div>
<div class="paragraph">
<p>Sets the JPEG quality. Accepts a value between <code>1</code> and <code>100</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="exif">
<a class="anchor" href="#exif"></a><code>exif</code>
</h4>
<div class="paragraph">
<p>Saves extra EXIF tags in the JPEG output file. Only applies to JPEG output. Because of limitations in the <code>libexif</code> library, many tags are currently (incorrectly) formatted as ASCII and print a warning in the terminal.</p>
</div>
<div class="paragraph">
<p>This option is necessary to add certain EXIF tags related to camera settings. You can add tags unrelated to camera settings to the output JPEG after recording with <a href="https://exiftool.org/">ExifTool</a>.</p>
</div>
<div class="paragraph">
<p>Example: <code>rpicam-still -o test.jpg --exif IDO0.Artist=Someone</code></p>
</div>
</div>
<div class="sect3">
<h4 id="timelapse">
<a class="anchor" href="#timelapse"></a><code>timelapse</code>
</h4>
<div class="paragraph">
<p>Records images at the specified interval. Accepts an interval in milliseconds. Combine this setting with <a href="#timeout"><code>timeout</code></a> to capture repeated images over time.</p>
</div>
<div class="paragraph">
<p>You can specify separate filenames for each output file using string formatting, e.g. <code>--output test%d.jpg</code>.</p>
</div>
<div class="paragraph">
<p>Example: <code>rpicam-still -t 100000 -o test%d.jpg --timelapse 10000</code> captures an image every 10 seconds for 100 seconds.</p>
</div>
</div>
<div class="sect3">
<h4 id="framestart">
<a class="anchor" href="#framestart"></a><code>framestart</code>
</h4>
<div class="paragraph">
<p>Configures a starting value for the frame counter accessed in output file names as <code>%d</code>. Accepts an integer starting value.</p>
</div>
</div>
<div class="sect3">
<h4 id="datetime">
<a class="anchor" href="#datetime"></a><code>datetime</code>
</h4>
<div class="paragraph">
<p>Uses the current date and time in the output file name, in the form <code>MMDDhhmmss.jpg</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>MM</code> = 2-digit month number</p>
</li>
<li>
<p><code>DD</code> = 2-digit day number</p>
</li>
<li>
<p><code>hh</code> = 2-digit 24-hour hour number</p>
</li>
<li>
<p><code>mm</code> = 2-digit minute number</p>
</li>
<li>
<p><code>ss</code> = 2-digit second number</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Does not accept a value.</p>
</div>
</div>
<div class="sect3">
<h4 id="timestamp">
<a class="anchor" href="#timestamp"></a><code>timestamp</code>
</h4>
<div class="paragraph">
<p>Uses the current system <a href="https://en.wikipedia.org/wiki/Unix_time">Unix time</a> as the output file name. Does not accept a value.</p>
</div>
</div>
<div class="sect3">
<h4 id="restart">
<a class="anchor" href="#restart"></a><code>restart</code>
</h4>
<div class="paragraph">
<p>Default value: <code>0</code></p>
</div>
<div class="paragraph">
<p>Configures the restart marker interval for JPEG output. JPEG restart markers can help limit the impact of corruption on JPEG images, and additionally enable the use of multi-threaded JPEG encoding and decoding. Accepts an integer value.</p>
</div>
</div>
<div class="sect3">
<h4 id="immediate">
<a class="anchor" href="#immediate"></a><code>immediate</code>
</h4>
<div class="paragraph">
<p>Captures the image immediately when the application runs.</p>
</div>
</div>
<div class="sect3">
<h4 id="keypress">
<a class="anchor" href="#keypress"></a><code>keypress</code>
</h4>
<div class="paragraph">
<p>Alias: <code>-k</code></p>
</div>
<div class="paragraph">
<p>Captures an image when the <a href="#timeout"><code>timeout</code></a> expires or on press of the <strong>Enter</strong> key, whichever comes first. Press the <code>x</code> key, then <strong>Enter</strong> to exit without capturing. Does not accept a value.</p>
</div>
</div>
<div class="sect3">
<h4 id="signal">
<a class="anchor" href="#signal"></a><code>signal</code>
</h4>
<div class="paragraph">
<p>Captures an image when the <a href="#timeout"><code>timeout</code></a> expires or when <code>SIGUSR1</code> is received. Use <code>SIGUSR2</code> to exit without capturing. Does not accept a value.</p>
</div>
</div>
<div class="sect3">
<h4 id="thumb">
<a class="anchor" href="#thumb"></a><code>thumb</code>
</h4>
<div class="paragraph">
<p>Default value: <code>320:240:70</code></p>
</div>
<div class="paragraph">
<p>Configure the dimensions and quality of the thumbnail with the following format: <code>&lt;w:h:q&gt;</code> (or <code>none</code>, which omits the thumbnail).</p>
</div>
</div>
<div class="sect3">
<h4 id="encoding">
<a class="anchor" href="#encoding"></a><code>encoding</code>
</h4>
<div class="paragraph">
<p>Alias: <code>-e</code></p>
</div>
<div class="paragraph">
<p>Default value: <code>jpg</code></p>
</div>
<div class="paragraph">
<p>Sets the encoder to use for image output. Accepts the following values:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>jpg</code> - JPEG</p>
</li>
<li>
<p><code>png</code> - PNG</p>
</li>
<li>
<p><code>bmp</code> - BMP</p>
</li>
<li>
<p><code>rgb</code> - binary dump of uncompressed RGB pixels</p>
</li>
<li>
<p><code>yuv420</code> - binary dump of uncompressed YUV420 pixels</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This option always determines the encoding, overriding the extension passed to <a href="#output"><code>output</code></a>.</p>
</div>
<div class="paragraph">
<p>When using the <a href="#datetime"><code>datetime</code></a> and <a href="#timestamp"><code>timestamp</code></a> options, this option determines the output file extension.</p>
</div>
</div>
<div class="sect3">
<h4 id="raw">
<a class="anchor" href="#raw"></a><code>raw</code>
</h4>
<div class="paragraph">
<p>Alias: <code>-r</code></p>
</div>
<div class="paragraph">
<p>Saves a raw Bayer file in DNG format in addition to the output image. Replaces the output file name extension with <code>.dng</code>. You can process these standard DNG files with tools like <em>dcraw</em> or <em>RawTherapee</em>. Does not accept a value.</p>
</div>
<div class="paragraph">
<p>The image data in the raw file is exactly what came out of the sensor, with no processing from the ISP or anything else. The EXIF data saved in the file, among other things, includes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>exposure time</p>
</li>
<li>
<p>analogue gain (the ISO tag is 100 times the analogue gain used)</p>
</li>
<li>
<p>white balance gains (which are the reciprocals of the "as shot neutral" values)</p>
</li>
<li>
<p>the colour matrix used by the ISP</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="latest">
<a class="anchor" href="#latest"></a><code>latest</code>
</h4>
<div class="paragraph">
<p>Creates a symbolic link to the most recently saved file. Accepts a symbolic link name as input.</p>
</div>
</div>
<div class="sect3">
<h4 id="autofocus-on-capture">
<a class="anchor" href="#autofocus-on-capture"></a><code>autofocus-on-capture</code>
</h4>
<div class="paragraph">
<p>If set, runs an autofocus cycle <em>just before</em> capturing an image. Interacts with the following <a href="#autofocus-mode"><code>autofocus_mode</code></a> values:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>default</code> or <code>manual</code>: only runs the capture-time autofocus cycle.</p>
</li>
<li>
<p><code>auto</code>: runs an additional autofocus cycle when the preview window loads.</p>
</li>
<li>
<p><code>continuous</code>: ignores this option, instead continually focusing throughout the preview.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Does not require a value, but you can pass <code>1</code> to enable and <code>0</code> to disable. Not passing a value is equivalent to passing <code>1</code>.</p>
</div>
<div class="paragraph">
<p>Only supported by some camera modules (such as the <em>Raspberry Pi Camera Module 3</em>).</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="video-options">
<a class="anchor" href="#video-options"></a>Video options</h3>
<div class="paragraph edit-link">
<p>Edit this <a href="https://github.com/raspberrypi/documentation/blob/develop/documentation/asciidoc/computers/camera/rpicam_options_vid.adoc">on GitHub</a></p>
</div>
<div class="paragraph">
<p>The command line options specified in this section apply only to video output.</p>
</div>
<div class="paragraph">
<p>To pass one of the following options to an application, prefix the option name with <code>--</code>. If the option requires a value, pass the value immediately after the option name, separated by a single space. If the value contains a space, surround the value in quotes.</p>
</div>
<div class="paragraph">
<p>Some options have shorthand aliases, for example <code>-h</code> instead of <code>--help</code>. Use these shorthand aliases instead of the full option name to save space and time at the expense of readability.</p>
</div>
<div class="sect3">
<h4 id="quality-2">
<a class="anchor" href="#quality-2"></a><code>quality</code>
</h4>
<div class="paragraph">
<p>Alias: <code>-q</code></p>
</div>
<div class="paragraph">
<p>Default value: <code>50</code></p>
</div>
<div class="paragraph">
<p>Accepts an MJPEG quality level between 1 and 100. Only applies to videos encoded in the MJPEG format.</p>
</div>
</div>
<div class="sect3">
<h4 id="bitrate">
<a class="anchor" href="#bitrate"></a><code>bitrate</code>
</h4>
<div class="paragraph">
<p>Alias: <code>-b</code></p>
</div>
<div class="paragraph">
<p>Controls the target bitrate used by the H.264 encoder in bits per second. Only applies to videos encoded in the H.264 format. Impacts the size of the output video.</p>
</div>
<div class="paragraph">
<p>Example: <code>rpicam-vid -b 10000000 --width 1920 --height 1080 -o test.h264</code></p>
</div>
</div>
<div class="sect3">
<h4 id="intra">
<a class="anchor" href="#intra"></a><code>intra</code>
</h4>
<div class="paragraph">
<p>Alias: <code>-g</code></p>
</div>
<div class="paragraph">
<p>Default value: <code>60</code></p>
</div>
<div class="paragraph">
<p>Sets the frequency of Iframes (intra frames) in the H.264 bitstream. Accepts a number of frames. Only applies to videos encoded in the H.264 format.</p>
</div>
</div>
<div class="sect3">
<h4 id="profile">
<a class="anchor" href="#profile"></a><code>profile</code>
</h4>
<div class="paragraph">
<p>Sets the H.264 profile. Accepts the following values:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>baseline</code></p>
</li>
<li>
<p><code>main</code></p>
</li>
<li>
<p><code>high</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Only applies to videos encoded in the H.264 format.</p>
</div>
</div>
<div class="sect3">
<h4 id="level">
<a class="anchor" href="#level"></a><code>level</code>
</h4>
<div class="paragraph">
<p>Sets the H.264 level. Accepts the following values:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>4</code></p>
</li>
<li>
<p><code>4.1</code></p>
</li>
<li>
<p><code>4.2</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Only applies to videos encoded in the H.264 format.</p>
</div>
</div>
<div class="sect3">
<h4 id="codec">
<a class="anchor" href="#codec"></a><code>codec</code>
</h4>
<div class="paragraph">
<p>Sets the encoder to use for video output. Accepts the following values:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>h264</code> - use H.264 encoder (the default)</p>
</li>
<li>
<p><code>mjpeg</code> - use MJPEG encoder</p>
</li>
<li>
<p><code>yuv420</code> - output uncompressed YUV420 frames.</p>
</li>
<li>
<p><code>libav</code> - use the libav backend to encode audio and video (for more information, see <a href="#libav-integration-with-rpicam-vid"><code>libav</code></a>)</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="save-pts">
<a class="anchor" href="#save-pts"></a><code>save-pts</code>
</h4>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
Raspberry Pi 5 does not support the <code>save-pts</code> option. Use <code>libav</code> to automatically generate timestamps for container formats instead.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Enables frame timestamp output, which allow you to convert the bitstream into a container format using a tool like <code>mkvmerge</code>. Accepts a plaintext file name for the timestamp output file.</p>
</div>
<div class="paragraph">
<p>Example: <code>rpicam-vid -o test.h264 --save-pts timestamps.txt</code></p>
</div>
<div class="paragraph">
<p>You can then use the following command to generate an MKV container file from the bitstream and timestamps file:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>mkvmerge <span class="nt">-o</span> test.mkv <span class="nt">--timecodes</span> 0:timestamps.txt test.h264</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="keypress-2">
<a class="anchor" href="#keypress-2"></a><code>keypress</code>
</h4>
<div class="paragraph">
<p>Alias: <code>-k</code></p>
</div>
<div class="paragraph">
<p>Allows the CLI to enable and disable video output using the <strong>Enter</strong> key. Always starts in the recording state unless specified otherwise with <a href="#initial"><code>initial</code></a>. Type the <code>x</code> key and press <strong>Enter</strong> to exit. Does not accept a value.</p>
</div>
</div>
<div class="sect3">
<h4 id="signal-2">
<a class="anchor" href="#signal-2"></a><code>signal</code>
</h4>
<div class="paragraph">
<p>Alias: <code>-s</code></p>
</div>
<div class="paragraph">
<p>Allows the CLI to enable and disable video output using <code>SIGUSR1</code>. Use <code>SIGUSR2</code> to exit. Always starts in the recording state unless specified otherwise with <a href="#initial"><code>initial</code></a>. Does not accept a value.</p>
</div>
</div>
<div class="sect3">
<h4 id="initial">
<a class="anchor" href="#initial"></a><code>initial</code>
</h4>
<div class="paragraph">
<p>Default value: <code>record</code></p>
</div>
<div class="paragraph">
<p>Specifies whether to start the application with video output enabled or disabled. Accepts the following values:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>record</code>: Starts with video output enabled.</p>
</li>
<li>
<p><code>pause</code>: Starts with video output disabled.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Use this option with either <a href="#keypress"><code>keypress</code></a> or <a href="#signal"><code>signal</code></a> to toggle between the two states.</p>
</div>
</div>
<div class="sect3">
<h4 id="split">
<a class="anchor" href="#split"></a><code>split</code>
</h4>
<div class="paragraph">
<p>When toggling recording with <a href="#keypress"><code>keypress</code></a> or <a href="#signal"><code>signal</code></a>, writes the video output from separate recording sessions into separate files. Does not accept a value. Unless combined with <a href="#output"><code>output</code></a> to specify unique names for each file, overwrites each time it writes a file.</p>
</div>
</div>
<div class="sect3">
<h4 id="segment">
<a class="anchor" href="#segment"></a><code>segment</code>
</h4>
<div class="paragraph">
<p>Cuts video output into multiple files of the passed duration. Accepts a duration in milliseconds. If passed a very small duration (for instance, <code>1</code>), records each frame to a separate output file to simulate burst capture.</p>
</div>
<div class="paragraph">
<p>You can specify separate filenames for each file using string formatting, e.g. <code>--output test%04d.h264</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="circular">
<a class="anchor" href="#circular"></a><code>circular</code>
</h4>
<div class="paragraph">
<p>Default value: <code>4</code></p>
</div>
<div class="paragraph">
<p>Writes video recording into a circular buffer in memory. When the application quits, records the circular buffer to disk. Accepts an optional size in megabytes.</p>
</div>
</div>
<div class="sect3">
<h4 id="inline">
<a class="anchor" href="#inline"></a><code>inline</code>
</h4>
<div class="paragraph">
<p>Writes a sequence header in every Iframe (intra frame). This can help clients decode the video sequence from any point in the video, instead of just the beginning. Recommended with <a href="#segment"><code>segment</code></a>, <a href="#split"><code>split</code></a>, <a href="#circular"><code>circular</code></a>, and streaming options.</p>
</div>
<div class="paragraph">
<p>Only applies to videos encoded in the H.264 format. Does not accept a value.</p>
</div>
</div>
<div class="sect3">
<h4 id="listen">
<a class="anchor" href="#listen"></a><code>listen</code>
</h4>
<div class="paragraph">
<p>Waits for an incoming client connection before encoding video. Intended for network streaming over TCP/IP. Does not accept a value.</p>
</div>
</div>
<div class="sect3">
<h4 id="frames">
<a class="anchor" href="#frames"></a><code>frames</code>
</h4>
<div class="paragraph">
<p>Records exactly the specified number of frames. Any non-zero value overrides <a href="#timeout"><code>timeout</code></a>. Accepts a nonzero integer.</p>
</div>
</div>
<div class="sect3">
<h4 id="framerate">
<a class="anchor" href="#framerate"></a><code>framerate</code>
</h4>
<div class="paragraph">
<p>Records exactly the specified framerate. Accepts a nonzero integer.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="libav-options">
<a class="anchor" href="#libav-options"></a><code>libav</code> options</h3>
<div class="paragraph edit-link">
<p>Edit this <a href="https://github.com/raspberrypi/documentation/blob/develop/documentation/asciidoc/computers/camera/rpicam_options_libav.adoc">on GitHub</a></p>
</div>
<div class="paragraph">
<p>The command line options specified in this section apply only to <code>libav</code> video backend.</p>
</div>
<div class="paragraph">
<p>To enable the <code>libav</code> backend, pass the <a href="#codec"><code>codec</code></a> option the value <code>libav</code>.</p>
</div>
<div class="paragraph">
<p>To pass one of the following options to an application, prefix the option name with <code>--</code>. If the option requires a value, pass the value immediately after the option name, separated by a single space. If the value contains a space, surround the value in quotes.</p>
</div>
<div class="paragraph">
<p>Some options have shorthand aliases, for example <code>-h</code> instead of <code>--help</code>. Use these shorthand aliases instead of the full option name to save space and time at the expense of readability.</p>
</div>
<div class="sect3">
<h4 id="libav-format">
<a class="anchor" href="#libav-format"></a><code>libav-format</code>
</h4>
<div class="paragraph">
<p>Sets the <code>libav</code> output format. Accepts the following values:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>mkv</code> encoding</p>
</li>
<li>
<p><code>mp4</code> encoding</p>
</li>
<li>
<p><code>avi</code> encoding</p>
</li>
<li>
<p><code>h264</code> streaming</p>
</li>
<li>
<p><code>mpegts</code> streaming</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you do not provide this option, the file extension passed to the <a href="#output"><code>output</code></a> option determines the file format.</p>
</div>
</div>
<div class="sect3">
<h4 id="libav-audio">
<a class="anchor" href="#libav-audio"></a><code>libav-audio</code>
</h4>
<div class="paragraph">
<p>Enables audio recording. When enabled, you must also specify an <a href="#audio-codec"><code>audio-codec</code></a>. Does not accept a value.</p>
</div>
</div>
<div class="sect3">
<h4 id="audio-codec">
<a class="anchor" href="#audio-codec"></a><code>audio-codec</code>
</h4>
<div class="paragraph">
<p>Default value: <code>aac</code></p>
</div>
<div class="paragraph">
<p>Selects an audio codec for output. For a list of available codecs, run <code>ffmpeg -codecs</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="audio-bitrate">
<a class="anchor" href="#audio-bitrate"></a><code>audio-bitrate</code>
</h4>
<div class="paragraph">
<p>Sets the bitrate for audio encoding in bits per second. Accepts numeric input.</p>
</div>
<div class="paragraph">
<p>Example: <code>rpicam-vid --codec libav -o test.mp4 --audio_codec mp2 --audio-bitrate 16384</code> (Records audio at 16 kilobits/sec with the mp2 codec)</p>
</div>
</div>
<div class="sect3">
<h4 id="audio-samplerate">
<a class="anchor" href="#audio-samplerate"></a><code>audio-samplerate</code>
</h4>
<div class="paragraph">
<p>Default value: <code>0</code></p>
</div>
<div class="paragraph">
<p>Sets the audio sampling rate in Hz. Accepts numeric input. <code>0</code> uses the input sample rate.</p>
</div>
</div>
<div class="sect3">
<h4 id="audio-device">
<a class="anchor" href="#audio-device"></a><code>audio-device</code>
</h4>
<div class="paragraph">
<p>Select an ALSO input device for audio recording. For a list of available devices, run the following command:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>pactl list | <span class="nb">grep</span> <span class="nt">-A2</span> <span class="s1">'Source #'</span> | <span class="nb">grep</span> <span class="s1">'Name: '</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>You should see output similar to the following:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>Name: alsa_output.platform-bcm2835_audio.analog-stereo.monitor
Name: alsa_output.platform-fef00700.hdmi.hdmi-stereo.monitor
Name: alsa_output.usb-GN_Netcom_A_S_Jabra_EVOLVE_LINK_000736B1214E0A-00.analog-stereo.monitor
Name: alsa_input.usb-GN_Netcom_A_S_Jabra_EVOLVE_LINK_000736B1214E0A-00.mono-fallback</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="av-sync">
<a class="anchor" href="#av-sync"></a><code>av-sync</code>
</h4>
<div class="paragraph">
<p>Shifts the audio sample timestamp by a value in microseconds. Accepts positive and negative numeric values.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="detection-options">
<a class="anchor" href="#detection-options"></a>Detection options</h3>
<div class="paragraph edit-link">
<p>Edit this <a href="https://github.com/raspberrypi/documentation/blob/develop/documentation/asciidoc/computers/camera/rpicam_options_detect.adoc">on GitHub</a></p>
</div>
<div class="paragraph">
<p>The command line options specified in this section apply only to object detection using <code>rpicam-detect</code>.</p>
</div>
<div class="paragraph">
<p>To pass one of the following options to <code>rpicam-detect</code>, prefix the option name with <code>--</code>. If the option requires a value, pass the value immediately after the option name, separated by a single space. If the value contains a space, surround the value in quotes.</p>
</div>
<div class="paragraph">
<p>Some options have shorthand aliases, for example <code>-h</code> instead of <code>--help</code>. Use these shorthand aliases instead of the full option name to save space and time at the expense of readability.</p>
</div>
<div class="sect3">
<h4 id="object">
<a class="anchor" href="#object"></a><code>object</code>
</h4>
<div class="paragraph">
<p>Detects objects with the given name, sourced from the model’s label file. Accepts a plaintext file name as input.</p>
</div>
</div>
<div class="sect3">
<h4 id="gap">
<a class="anchor" href="#gap"></a><code>gap</code>
</h4>
<div class="paragraph">
<p>Wait at least this many frames between captures. Accepts numeric values.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="post-processing-with-rpicam-apps">
<a class="anchor" href="#post-processing-with-rpicam-apps"></a>Post-processing with <code>rpicam-apps</code>
</h2>
<div class="sectionbody"></div>
<div class="paragraph edit-link">
<p>Edit this <a href="https://github.com/raspberrypi/documentation/blob/develop/documentation/asciidoc/computers/camera/rpicam_apps_post_processing.adoc">on GitHub</a></p>
</div>
<div class="paragraph">
<p><code>rpicam-apps</code> share a common post-processing framework. This allows them to pass the images received from the camera system through a number of custom image-processing and image-analysis routines. Each such routine is known as a <em>stage</em>. To run post-processing stages, supply a JSON file instructing the application which stages and options to apply. You can find example JSON files that use the built-in post-processing stages in the <a href="https://github.com/raspberrypi/rpicam-apps/tree/main/assets"><code>assets</code> folder of the <code>rpicam-apps</code> repository</a>.</p>
</div>
<div class="paragraph">
<p>For example, the <strong>negate</strong> stage turns light pixels dark and dark pixels light. Because the negate stage is basic, requiring no configuration, <code>negate.json</code> just names the stage:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="json"><span class="p">{</span><span class="w">
    </span><span class="nl">"negate"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>To apply the negate stage to an image, pass <code>negate.json</code> to the <code>post-process-file</code> option:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>rpicam-hello <span class="nt">--post-process-file</span> negate.json</code></pre>
</div>
</div>
<div class="paragraph">
<p>To run multiple post-processing stages, create a JSON file that contains multiple stages as top-level keys. For example, to the following configuration runs the Sobel stage, then the negate stage:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="json"><span class="p">{</span><span class="w">
    </span><span class="nl">"sobel_cv"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ksize"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"negate"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <a href="#sobel_cv-stage">Sobel stage</a> uses OpenCV, hence the <code>cv</code> suffix. It has a user-configurable parameter, <code>ksize</code>, that specifies the kernel size of the filter to be used. In this case, the Sobel filter produces bright edges on a black background, and the negate stage turns this into dark edges on a white background.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/sobel_negate.jpg?hash=34ad8f345e820ee4539f138f6f201aca" alt="A negated Sobel filter">
</div>
<div class="title">A negated Sobel filter.</div>
</div>
<div class="paragraph">
<p>Some stages, such as <code>negate</code>, alter the image in some way. Other stages analyse the image to generate metadata. Post-processing stages can pass this metadata to other stages and even the application.</p>
</div>
<div class="paragraph">
<p>To improve performance, image analysis often uses reduced resolution. <code>rpicam-apps</code> provide a dedicated low-resolution feed directly from the ISP.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The <code>rpicam-apps</code> supplied with Raspberry Pi OS do not include OpenCV and TensorFlow Lite. As a result, certain post-processing stages that rely on them are disabled. To use these stages, <a href="#build-libcamera-and-rpicam-apps">re-compile <code>rpicam-apps</code></a>. On a Raspberry Pi 3 or 4 running a 32-bit kernel, compile with the <code>-DENABLE_COMPILE_FLAGS_FOR_TARGET=armv8-neon</code> flag to speed up certain stages.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="built-in-stages">
<a class="anchor" href="#built-in-stages"></a>Built-in stages</h3>
<div class="sect3">
<h4 id="negate-stage">
<a class="anchor" href="#negate-stage"></a><code>negate</code> stage</h4>
<div class="paragraph">
<p>This stage turns light pixels dark and dark pixels light.</p>
</div>
<div class="paragraph">
<p>The <code>negate</code> stage has no user-configurable parameters.</p>
</div>
<div class="paragraph">
<p>Default <code>negate.json</code> file:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="json"><span class="p">{</span><span class="w">
    </span><span class="nl">"negate"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Run the following command to use this stage file with <code>rpicam-hello</code>:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>rpicam-hello <span class="nt">--post-process-file</span> negate.json</code></pre>
</div>
</div>
<div class="paragraph">
<p>Example output:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/negate.jpg?hash=d78b83614158fc3a9b74f8b793e1334d" alt="A negated image">
</div>
<div class="title">A negated image.</div>
</div>
</div>
<div class="sect3">
<h4 id="hdr-stage">
<a class="anchor" href="#hdr-stage"></a><code>hdr</code> stage</h4>
<div class="paragraph">
<p>This stage emphasises details in images using High Dynamic Range (HDR) and Dynamic Range Compression (DRC). DRC uses a single image, while HDR combines multiple images for a similar result.</p>
</div>
<div class="paragraph">
<p>Parameters fall into three groups: the LP filter, global tonemapping, and local contrast.</p>
</div>
<div class="paragraph">
<p>This stage applies a smoothing filter to the fully-processed input images to generate a low pass (LP) image. It then generates the high pass (HP) image from the diff of the original and LP images. Then, it applies a global tonemap to the LP image and adds it back to the HP image. This process helps preserve local contrast.</p>
</div>
<div class="paragraph">
<p>You can configure this stage with the following parameters:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>num_frames</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The number of frames to accumulate; for DRC, use 1; for HDR, try 8</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>lp_filter_strength</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The coefficient of the low pass IIR filter.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>lp_filter_threshold</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>A piecewise linear function that relates pixel level to the threshold of meaningful detail</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>global_tonemap_points</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content">
<div class="paragraph">
<p>Points in the input image histogram mapped to targets in the output range where we wish to move them. Uses the following sub-configuration:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>an inter-quantile mean (<code>q</code> and <code>width</code>)</p>
</li>
<li>
<p>a target as a proportion of the full output range (<code>target</code>)</p>
</li>
<li>
<p>maximum (<code>max_up</code>) and minimum (<code>max_down</code>) gains to move the measured inter-quantile mean, to prevents the image from changing image too drastically</p>
</li>
</ul>
</div>
</div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>global_tonemap_strength</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Strength of application of the global tonemap</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>local_pos_strength</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>A piecewise linear function that defines the gain applied to local contrast when added back to the tonemapped LP image, for positive (bright) detail</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>local_neg_strength</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>A piecewise linear function that defines the gain applied to local contrast when added back to the tonemapped LP image, for negative (dark) detail</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>local_tonemap_strength</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An overall gain applied to all local contrast that is added back</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>local_colour_scale</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>A factor that allows the output colours to be affected more or less strongly</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>To control processing strength, changing the <code>global_tonemap_strength</code> and <code>local_tonemap_strength</code> parameters.</p>
</div>
<div class="paragraph">
<p>Processing a single image takes between two and three seconds for a 12MP image on a Raspberry Pi 4. When accumulating multiple frames, this stage sends only the processed image to the application.</p>
</div>
<div class="paragraph">
<p>Default <code>drc.json</code> file for DRC:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="json"><span class="p">{</span><span class="w">
    </span><span class="nl">"hdr"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
		</span><span class="nl">"num_frames"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
		</span><span class="nl">"lp_filter_strength"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">0.2</span><span class="p">,</span><span class="w">
		</span><span class="nl">"lp_filter_threshold"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mf">10.0</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="mi">2048</span><span class="p">,</span><span class="w"> </span><span class="mf">205.0</span><span class="p">,</span><span class="w"> </span><span class="mi">4095</span><span class="p">,</span><span class="w"> </span><span class="mf">205.0</span><span class="w"> </span><span class="p">],</span><span class="w">
		</span><span class="nl">"global_tonemap_points"</span><span class="w"> </span><span class="p">:</span><span class="w">
			</span><span class="p">[</span><span class="w">
			    </span><span class="p">{</span><span class="w"> </span><span class="nl">"q"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.1</span><span class="p">,</span><span class="w"> </span><span class="nl">"width"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.05</span><span class="p">,</span><span class="w"> </span><span class="nl">"target"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.15</span><span class="p">,</span><span class="w"> </span><span class="nl">"max_up"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.5</span><span class="p">,</span><span class="w"> </span><span class="nl">"max_down"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.7</span><span class="w"> </span><span class="p">},</span><span class="w">
			    </span><span class="p">{</span><span class="w"> </span><span class="nl">"q"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w"> </span><span class="nl">"width"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.05</span><span class="p">,</span><span class="w"> </span><span class="nl">"target"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w"> </span><span class="nl">"max_up"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.5</span><span class="p">,</span><span class="w"> </span><span class="nl">"max_down"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.7</span><span class="w"> </span><span class="p">},</span><span class="w">
			    </span><span class="p">{</span><span class="w"> </span><span class="nl">"q"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.8</span><span class="p">,</span><span class="w"> </span><span class="nl">"width"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.05</span><span class="p">,</span><span class="w"> </span><span class="nl">"target"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.8</span><span class="p">,</span><span class="w"> </span><span class="nl">"max_up"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.5</span><span class="p">,</span><span class="w"> </span><span class="nl">"max_down"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.7</span><span class="w"> </span><span class="p">}</span><span class="w">
			</span><span class="p">],</span><span class="w">
		</span><span class="nl">"global_tonemap_strength"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
		</span><span class="nl">"local_pos_strength"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mf">6.0</span><span class="p">,</span><span class="w"> </span><span class="mi">1024</span><span class="p">,</span><span class="w"> </span><span class="mf">2.0</span><span class="p">,</span><span class="w"> </span><span class="mi">4095</span><span class="p">,</span><span class="w"> </span><span class="mf">2.0</span><span class="w"> </span><span class="p">],</span><span class="w">
		</span><span class="nl">"local_neg_strength"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mf">4.0</span><span class="p">,</span><span class="w"> </span><span class="mi">1024</span><span class="p">,</span><span class="w"> </span><span class="mf">1.5</span><span class="p">,</span><span class="w"> </span><span class="mi">4095</span><span class="p">,</span><span class="w"> </span><span class="mf">1.5</span><span class="w"> </span><span class="p">],</span><span class="w">
		</span><span class="nl">"local_tonemap_strength"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
		</span><span class="nl">"local_colour_scale"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">0.9</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/nodrc.jpg?hash=f38684669f98e0c51cd229d6adcaedf9" alt="Image without DRC processing">
</div>
<div class="title">Image without DRC processing</div>
</div>
<div class="paragraph">
<p>Run the following command to use this stage file with <code>rpicam-still</code>:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>rpicam-still <span class="nt">-o</span> test.jpg <span class="nt">--post-process-file</span> drc.json</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/drc.jpg?hash=0af5620d20d0c6c1d41bcca3f5ab05a8" alt="Image with DRC processing">
</div>
<div class="title">Image with DRC processing</div>
</div>
<div class="paragraph">
<p>Default <code>hdr.json</code> file for HDR:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="json"><span class="p">{</span><span class="w">
    </span><span class="nl">"hdr"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
		</span><span class="nl">"num_frames"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
		</span><span class="nl">"lp_filter_strength"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">0.2</span><span class="p">,</span><span class="w">
		</span><span class="nl">"lp_filter_threshold"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mf">10.0</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="mi">2048</span><span class="p">,</span><span class="w"> </span><span class="mf">205.0</span><span class="p">,</span><span class="w"> </span><span class="mi">4095</span><span class="p">,</span><span class="w"> </span><span class="mf">205.0</span><span class="w"> </span><span class="p">],</span><span class="w">
		</span><span class="nl">"global_tonemap_points"</span><span class="w"> </span><span class="p">:</span><span class="w">
			</span><span class="p">[</span><span class="w">
			    </span><span class="p">{</span><span class="w"> </span><span class="nl">"q"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.1</span><span class="p">,</span><span class="w"> </span><span class="nl">"width"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.05</span><span class="p">,</span><span class="w"> </span><span class="nl">"target"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.15</span><span class="p">,</span><span class="w"> </span><span class="nl">"max_up"</span><span class="p">:</span><span class="w"> </span><span class="mf">5.0</span><span class="p">,</span><span class="w"> </span><span class="nl">"max_down"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="w"> </span><span class="p">},</span><span class="w">
			    </span><span class="p">{</span><span class="w"> </span><span class="nl">"q"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w"> </span><span class="nl">"width"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.05</span><span class="p">,</span><span class="w"> </span><span class="nl">"target"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.45</span><span class="p">,</span><span class="w"> </span><span class="nl">"max_up"</span><span class="p">:</span><span class="w"> </span><span class="mf">5.0</span><span class="p">,</span><span class="w"> </span><span class="nl">"max_down"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="w"> </span><span class="p">},</span><span class="w">
			    </span><span class="p">{</span><span class="w"> </span><span class="nl">"q"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.8</span><span class="p">,</span><span class="w"> </span><span class="nl">"width"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.05</span><span class="p">,</span><span class="w"> </span><span class="nl">"target"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.7</span><span class="p">,</span><span class="w"> </span><span class="nl">"max_up"</span><span class="p">:</span><span class="w"> </span><span class="mf">5.0</span><span class="p">,</span><span class="w"> </span><span class="nl">"max_down"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="w"> </span><span class="p">}</span><span class="w">
			</span><span class="p">],</span><span class="w">
		</span><span class="nl">"global_tonemap_strength"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
		</span><span class="nl">"local_pos_strength"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mf">6.0</span><span class="p">,</span><span class="w"> </span><span class="mi">1024</span><span class="p">,</span><span class="w"> </span><span class="mf">2.0</span><span class="p">,</span><span class="w"> </span><span class="mi">4095</span><span class="p">,</span><span class="w"> </span><span class="mf">2.0</span><span class="w"> </span><span class="p">],</span><span class="w">
		</span><span class="nl">"local_neg_strength"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mf">4.0</span><span class="p">,</span><span class="w"> </span><span class="mi">1024</span><span class="p">,</span><span class="w"> </span><span class="mf">1.5</span><span class="p">,</span><span class="w"> </span><span class="mi">4095</span><span class="p">,</span><span class="w"> </span><span class="mf">1.5</span><span class="w"> </span><span class="p">],</span><span class="w">
		</span><span class="nl">"local_tonemap_strength"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
		</span><span class="nl">"local_colour_scale"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">0.8</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/nohdr.jpg?hash=219372bcaee662b2e3d7c662ace84132" alt="Image without HDR processing">
</div>
<div class="title">Image without HDR processing</div>
</div>
<div class="paragraph">
<p>Run the following command to use this stage file with <code>rpicam-still</code>:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>rpicam-still <span class="nt">-o</span> test.jpg <span class="nt">--ev</span> <span class="nt">-2</span> <span class="nt">--denoise</span> cdn_off <span class="nt">--post-process-file</span> hdr.json</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/hdr.jpg?hash=e39c97c7fe2a85ac28a2116127892bac" alt="Image with DRC processing">
</div>
<div class="title">Image with HDR processing</div>
</div>
</div>
<div class="sect3">
<h4 id="motion_detect-stage">
<a class="anchor" href="#motion_detect-stage"></a><code>motion_detect</code> stage</h4>
<div class="paragraph">
<p>The <code>motion_detect</code> stage analyses frames from the low-resolution image stream. You must configure the low-resolution stream to use this stage. The stage detects motion by comparing a region of interest (ROI) in the frame to the corresponding part of a previous frame. If enough pixels change between frames, this stage indicates the motion in metadata under the <code>motion_detect.result</code> key.</p>
</div>
<div class="paragraph">
<p>This stage has no dependencies on third-party libraries.</p>
</div>
<div class="paragraph">
<p>You can configure this stage with the following parameters, passing dimensions as a proportion of the low-resolution image size between 0 and 1:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>roi_x</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x-offset of the region of interest for the comparison (proportion between 0 and 1)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>roi_y</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">y-offset of the region of interest for the comparison (proportion between 0 and 1)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>roi_width</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Width of the region of interest for the comparison (proportion between 0 and 1)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>roi_height</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Height of the region of interest for the comparison (proportion between 0 and 1)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>difference_m</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Linear coefficient used to construct the threshold for pixels being different</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>difference_c</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Constant coefficient used to construct the threshold for pixels being different according to <code>threshold = difference_m * pixel_value + difference_c</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>frame_period</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The motion detector will run only this many frames</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hskip</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The pixel subsampled by this amount horizontally</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>vksip</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The pixel subsampled by this amount vertically</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>region_threshold</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The proportion of pixels (regions) which must be categorised as different for them to count as motion</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>verbose</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Print messages to the console, including when the motion status changes</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Default <code>motion_detect.json</code> configuration file:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="json"><span class="p">{</span><span class="w">
    </span><span class="nl">"motion_detect"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
		</span><span class="nl">"roi_x"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">0.1</span><span class="p">,</span><span class="w">
		</span><span class="nl">"roi_y"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">0.1</span><span class="p">,</span><span class="w">
		</span><span class="nl">"roi_width"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">0.8</span><span class="p">,</span><span class="w">
		</span><span class="nl">"roi_height"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">0.8</span><span class="p">,</span><span class="w">
		</span><span class="nl">"difference_m"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">0.1</span><span class="p">,</span><span class="w">
		</span><span class="nl">"difference_c"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
		</span><span class="nl">"region_threshold"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">0.005</span><span class="p">,</span><span class="w">
		</span><span class="nl">"frame_period"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
		</span><span class="nl">"hskip"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
		</span><span class="nl">"vskip"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
		</span><span class="nl">"verbose"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Adjust the differences and the threshold to make the algorithm more or less sensitive. To improve performance, use the <code>hskip</code> and <code>vskip</code> parameters.</p>
</div>
<div class="paragraph">
<p>Run the following command to use this stage file with <code>rpicam-hello</code>:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>rpicam-hello <span class="nt">--lores-width</span> 128 <span class="nt">--lores-height</span> 96 <span class="nt">--post-process-file</span> motion_detect.json</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="post-processing-with-opencv">
<a class="anchor" href="#post-processing-with-opencv"></a>Post-processing with OpenCV</h3>
<div class="paragraph edit-link">
<p>Edit this <a href="https://github.com/raspberrypi/documentation/blob/develop/documentation/asciidoc/computers/camera/rpicam_apps_post_processing_opencv.adoc">on GitHub</a></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
These stages require an OpenCV installation. You may need to <a href="#build-libcamera-and-rpicam-apps">rebuild <code>rpicam-apps</code> with OpenCV support</a>.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="sobel_cv-stage">
<a class="anchor" href="#sobel_cv-stage"></a><code>sobel_cv</code> stage</h4>
<div class="paragraph">
<p>This stage applies a <a href="https://en.wikipedia.org/wiki/Sobel_operator">Sobel filter</a> to an image to emphasise edges.</p>
</div>
<div class="paragraph">
<p>You can configure this stage with the following parameters:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ksize</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kernel size of the Sobel filter</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Default <code>sobel_cv.json</code> file:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="json"><span class="p">{</span><span class="w">
    </span><span class="nl">"sobel_cv"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ksize"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/sobel.jpg?hash=c5c81d7d8a5f8c6f6c57de234bfd1b23" alt="Using a Sobel filter to emphasise edges">
</div>
<div class="title">Using a Sobel filter to emphasise edges.</div>
</div>
</div>
<div class="sect3">
<h4 id="face_detect_cv-stage">
<a class="anchor" href="#face_detect_cv-stage"></a><code>face_detect_cv</code> stage</h4>
<div class="paragraph">
<p>This stage uses the OpenCV Haar classifier to detect faces in an image. It returns face location metadata under the key <code>face_detect.results</code> and optionally draws the locations on the image.</p>
</div>
<div class="paragraph">
<p>You can configure this stage with the following parameters:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cascade_name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the file where the Haar cascade can be found</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>scaling_factor</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Determines range of scales at which the image is searched for faces</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>min_neighbors</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Minimum number of overlapping neighbours required to count as a face</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>min_size</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Minimum face size</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>max_size</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maximum face size</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>refresh_rate</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">How many frames to wait before trying to re-run the face detector</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>draw_features</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether to draw face locations on the returned image</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The <code>face_detect_cv</code> stage runs only during preview and video capture. It ignores still image capture. It runs on the low resolution stream with a resolution between 320×240 and 640×480 pixels.</p>
</div>
<div class="paragraph">
<p>Default <code>face_detect_cv.json</code> file:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="json"><span class="p">{</span><span class="w">
    </span><span class="nl">"face_detect_cv"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"cascade_name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"/usr/local/share/OpenCV/haarcascades/haarcascade_frontalface_alt.xml"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"scaling_factor"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">1.1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"min_neighbors"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"min_size"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">32</span><span class="p">,</span><span class="w">
        </span><span class="nl">"max_size"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">256</span><span class="p">,</span><span class="w">
        </span><span class="nl">"refresh_rate"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"draw_features"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/face_detect.jpg?hash=323be1b0e014a8a194cde54f38e53a18" alt="Drawing detected faces onto an image">
</div>
<div class="title">Drawing detected faces onto an image.</div>
</div>
</div>
<div class="sect3">
<h4 id="annotate_cv-stage">
<a class="anchor" href="#annotate_cv-stage"></a><code>annotate_cv</code> stage</h4>
<div class="paragraph">
<p>This stage writes text into the top corner of images using the same <code>%</code> substitutions as the <a href="#info-text"><code>info-text</code></a> option.</p>
</div>
<div class="paragraph">
<p>Interprets <a href="#info-text"><code>info-text</code> directives</a> first, then passes any remaining tokens to <a href="https://www.man7.org/linux/man-pages/man3/strftime.3.html"><code>strftime</code></a>.</p>
</div>
<div class="paragraph">
<p>For example, to achieve a datetime stamp on the video, pass <code>%F %T %z</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>%F</code> displays the ISO-8601 date (2023-03-07)</p>
</li>
<li>
<p><code>%T</code> displays 24h local time (e.g. "09:57:12")</p>
</li>
<li>
<p><code>%z</code> displays the timezone relative to UTC (e.g. "-0800")</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This stage does not output any metadata, but it writes metadata found in <code>annotate.text</code> in place of anything in the JSON configuration file. This allows other post-processing stages to write text onto images.</p>
</div>
<div class="paragraph">
<p>You can configure this stage with the following parameters:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>text</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The text string to be written</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fg</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Foreground colour</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bg</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Background colour</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>scale</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A number proportional to the size of the text</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>thickness</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A number that determines the thickness of the text</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>alpha</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The amount of alpha to apply when overwriting background pixels</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Default <code>annotate_cv.json</code> file:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="json"><span class="p">{</span><span class="w">
    </span><span class="nl">"annotate_cv"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"text"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Frame %frame exp %exp ag %ag dg %dg"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fg"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">255</span><span class="p">,</span><span class="w">
        </span><span class="nl">"bg"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"scale"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"thickness"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"alpha"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">0.3</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/annotate.jpg?hash=36987f3b2a1f552a10cce1071f3cef35" alt="Writing camera and date information onto an image with annotations">
</div>
<div class="title">Writing camera and date information onto an image with annotations.</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="post-processing-with-tensorflow-lite">
<a class="anchor" href="#post-processing-with-tensorflow-lite"></a>Post-Processing with TensorFlow Lite</h3>
<div class="paragraph edit-link">
<p>Edit this <a href="https://github.com/raspberrypi/documentation/blob/develop/documentation/asciidoc/computers/camera/rpicam_apps_post_processing_tflite.adoc">on GitHub</a></p>
</div>
<div class="sect3">
<h4 id="prerequisites">
<a class="anchor" href="#prerequisites"></a>Prerequisites</h4>
<div class="paragraph">
<p>These stages require TensorFlow Lite (TFLite) libraries that export the C++ API. TFLite doesn’t distribute libraries in this form, but you can download and install a version that exports the API from <a href="https://lindevs.com/install-precompiled-tensorflow-lite-on-raspberry-pi/">lindevs.com</a>.</p>
</div>
<div class="paragraph">
<p>After installing, you must <a href="#build-libcamera-and-rpicam-apps">recompile <code>rpicam-apps</code> with TensorFlow Lite support</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="object_classify_tf-stage">
<a class="anchor" href="#object_classify_tf-stage"></a><code>object_classify_tf</code> stage</h4>
<div class="paragraph">
<p>Download: <a href="https://storage.googleapis.com/download.tensorflow.org/models/mobilenet_v1_2018_08_02/mobilenet_v1_1.0_224_quant.tgz" class="bare">https://storage.googleapis.com/download.tensorflow.org/models/mobilenet_v1_2018_08_02/mobilenet_v1_1.0_224_quant.tgz</a></p>
</div>
<div class="paragraph">
<p><code>object_classify_tf</code> uses a Google MobileNet v1 model to classify objects in the camera image. This stage requires a <a href="https://storage.googleapis.com/download.tensorflow.org/models/mobilenet_v1_1.0_224_frozen.tgz"><code>labels.txt</code> file</a>.</p>
</div>
<div class="paragraph">
<p>You can configure this stage with the following parameters:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>top_n_results</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of results to show</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>refresh_rate</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of frames that must elapse between model runs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>threshold_high</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Confidence threshold (between 0 and 1) where objects are considered as being present</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>threshold_low</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Confidence threshold which objects must drop below before being discarded as matches</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>model_file</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filepath of the TFLite model file</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>labels_file</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filepath of the file containing the object labels</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>display_labels</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether to display the object labels on the image; inserts <code>annotate.text</code> metadata for the <code>annotate_cv</code> stage to render</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>verbose</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Output more information to the console</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example <code>object_classify_tf.json</code> file:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="json"><span class="p">{</span><span class="w">
    </span><span class="nl">"object_classify_tf"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"top_n_results"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"refresh_rate"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
        </span><span class="nl">"threshold_high"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">0.6</span><span class="p">,</span><span class="w">
        </span><span class="nl">"threshold_low"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">0.4</span><span class="p">,</span><span class="w">
        </span><span class="nl">"model_file"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"/home/&lt;username&gt;/models/mobilenet_v1_1.0_224_quant.tflite"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"labels_file"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"/home/&lt;username&gt;/models/labels.txt"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"display_labels"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"annotate_cv"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"text"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fg"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">255</span><span class="p">,</span><span class="w">
        </span><span class="nl">"bg"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"scale"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"thickness"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"alpha"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">0.3</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The stage operates on a low resolution stream image of size 224×224.
Run the following command to use this stage file with <code>rpicam-hello</code>:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>rpicam-hello <span class="nt">--post-process-file</span> object_classify_tf.json <span class="nt">--lores-width</span> 224 <span class="nt">--lores-height</span> 224</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/classify.jpg?hash=ae680694253ea2878e0fd37e49ef6322" alt="Object classification of a desktop computer and monitor">
</div>
<div class="title">Object classification of a desktop computer and monitor.</div>
</div>
</div>
<div class="sect3">
<h4 id="pose_estimation_tf-stage">
<a class="anchor" href="#pose_estimation_tf-stage"></a><code>pose_estimation_tf</code> stage</h4>
<div class="paragraph">
<p>Download: <a href="https://github.com/Qengineering/TensorFlow_Lite_Pose_RPi_32-bits" class="bare">https://github.com/Qengineering/TensorFlow_Lite_Pose_RPi_32-bits</a></p>
</div>
<div class="paragraph">
<p><code>pose_estimation_tf</code> uses a Google MobileNet v1 model to detect pose information.</p>
</div>
<div class="paragraph">
<p>You can configure this stage with the following parameters:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>refresh_rate</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of frames that must elapse between model runs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>model_file</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filepath of the TFLite model file</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>verbose</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Output extra information to the console</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Use the separate <code>plot_pose_cv</code> stage to draw the detected pose onto the main image.</p>
</div>
<div class="paragraph">
<p>You can configure the <code>plot_pose_cv</code> stage with the following parameters:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>confidence_threshold</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Confidence threshold determining how much to draw; can be less than zero</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example <code>pose_estimation_tf.json</code> file:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="json"><span class="p">{</span><span class="w">
    </span><span class="nl">"pose_estimation_tf"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"refresh_rate"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
        </span><span class="nl">"model_file"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"posenet_mobilenet_v1_100_257x257_multi_kpt_stripped.tflite"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"plot_pose_cv"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
       </span><span class="nl">"confidence_threshold"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">-0.5</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The stage operates on a low resolution stream image of size 257×257. <strong>Because YUV420 images must have even dimensions, round up to 258×258 for YUV420 images.</strong></p>
</div>
<div class="paragraph">
<p>Run the following command to use this stage file with <code>rpicam-hello</code>:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>rpicam-hello <span class="nt">--post-process-file</span> pose_estimation_tf.json <span class="nt">--lores-width</span> 258 <span class="nt">--lores-height</span> 258</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/pose.jpg?hash=00d46a61c128181ffa36e91f51e99b92" alt="Pose estimation of an adult human male">
</div>
<div class="title">Pose estimation of an adult human male.</div>
</div>
</div>
<div class="sect3">
<h4 id="object_detect_tf-stage">
<a class="anchor" href="#object_detect_tf-stage"></a><code>object_detect_tf</code> stage</h4>
<div class="paragraph">
<p>Download: <a href="https://storage.googleapis.com/download.tensorflow.org/models/tflite/coco_ssd_mobilenet_v1_1.0_quant_2018_06_29.zip" class="bare">https://storage.googleapis.com/download.tensorflow.org/models/tflite/coco_ssd_mobilenet_v1_1.0_quant_2018_06_29.zip</a></p>
</div>
<div class="paragraph">
<p><code>object_detect_tf</code> uses a Google MobileNet v1 SSD (Single Shot Detector) model to detect and label objects.</p>
</div>
<div class="paragraph">
<p>You can configure this stage with the following parameters:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>refresh_rate</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of frames that must elapse between model runs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>model_file</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filepath of the TFLite model file</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>labels_file</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filepath of the file containing the list of labels</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>confidence_threshold</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Confidence threshold before accepting a match</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>overlap_threshold</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Determines the amount of overlap between matches for them to be merged as a single match.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>verbose</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Output extra information to the console</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Use the separate <code>object_detect_draw_cv</code> stage to draw the detected objects onto the main image.</p>
</div>
<div class="paragraph">
<p>You can configure the <code>object_detect_draw_cv</code> stage with the following parameters:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>line_thickness</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Thickness of the bounding box lines</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>font_size</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Size of the font used for the label</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example <code>object_detect_tf.json</code> file:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="json"><span class="p">{</span><span class="w">
    </span><span class="nl">"object_detect_tf"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"number_of_threads"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"refresh_rate"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="nl">"confidence_threshold"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w">
        </span><span class="nl">"overlap_threshold"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w">
        </span><span class="nl">"model_file"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"/home/&lt;username&gt;/models/coco_ssd_mobilenet_v1_1.0_quant_2018_06_29/detect.tflite"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"labels_file"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"/home/&lt;username&gt;/models/coco_ssd_mobilenet_v1_1.0_quant_2018_06_29/labelmap.txt"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"verbose"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"object_detect_draw_cv"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
       </span><span class="nl">"line_thickness"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The stage operates on a low resolution stream image of size 300×300. Run the following command, which passes a 300×300 crop to the detector from the centre of the 400×300 low resolution image, to use this stage file with <code>rpicam-hello</code>:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>rpicam-hello <span class="nt">--post-process-file</span> object_detect_tf.json <span class="nt">--lores-width</span> 400 <span class="nt">--lores-height</span> 300</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/detection.jpg?hash=3cf269eab7f3347026a45fefd74e1b0d" alt="Detecting apple and cat objects">
</div>
<div class="title">Detecting apple and cat objects.</div>
</div>
</div>
<div class="sect3">
<h4 id="segmentation_tf-stage">
<a class="anchor" href="#segmentation_tf-stage"></a><code>segmentation_tf</code> stage</h4>
<div class="paragraph">
<p>Download: <a href="https://tfhub.dev/tensorflow/lite-model/deeplabv3/1/metadata/2?lite-format=tflite" class="bare">https://tfhub.dev/tensorflow/lite-model/deeplabv3/1/metadata/2?lite-format=tflite</a></p>
</div>
<div class="paragraph">
<p><code>segmentation_tf</code> uses a Google MobileNet v1 model. This stage requires a label file, found at the <code>assets/segmentation_labels.txt</code>.</p>
</div>
<div class="paragraph">
<p>This stage runs on an image of size 257×257. Because YUV420 images must have even dimensions, the low resolution image should be at least 258 pixels in both width and height. The stage adds a vector of 257×257 values to the image metadata where each value indicates the categories a pixel belongs to. You can optionally draw a representation of the segmentation into the bottom right corner of the image.</p>
</div>
<div class="paragraph">
<p>You can configure this stage with the following parameters:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>refresh_rate</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of frames that must elapse between model runs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>model_file</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filepath of the TFLite model file</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>labels_file</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filepath of the file containing the list of labels</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>threshold</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When verbose is set, prints when the number of pixels with any label exceeds this number</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>draw</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Draws the segmentation map into the bottom right hand corner of the image</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>verbose</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Output extra information to the console</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example <code>segmentation_tf.json</code> file:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="json"><span class="p">{</span><span class="w">
    </span><span class="nl">"segmentation_tf"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"number_of_threads"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"refresh_rate"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="nl">"model_file"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"/home/&lt;username&gt;/models/lite-model_deeplabv3_1_metadata_2.tflite"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"labels_file"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"/home/&lt;username&gt;/models/segmentation_labels.txt"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"draw"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"verbose"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This example takes a camera image and reduces it to 258×258 pixels in size. This stage even works when squashing a non-square image without cropping. This example enables the segmentation map in the bottom right hand corner.</p>
</div>
<div class="paragraph">
<p>Run the following command to use this stage file with <code>rpicam-hello</code>:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>rpicam-hello <span class="nt">--post-process-file</span> segmentation_tf.json <span class="nt">--lores-width</span> 258 <span class="nt">--lores-height</span> 258 <span class="nt">--viewfinder-width</span> 1024 <span class="nt">--viewfinder-height</span> 1024</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/segmentation.jpg?hash=3d098ed0957720084843a26da71e7ce3" alt="Running segmentation and displaying the results on a map in the bottom right">
</div>
<div class="title">Running segmentation and displaying the results on a map in the bottom right.</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="write-your-own-post-processing-stages">
<a class="anchor" href="#write-your-own-post-processing-stages"></a>Write your own post-processing stages</h3>
<div class="paragraph edit-link">
<p>Edit this <a href="https://github.com/raspberrypi/documentation/blob/develop/documentation/asciidoc/computers/camera/rpicam_apps_post_processing_writing.adoc">on GitHub</a></p>
</div>
<div class="paragraph">
<p>With the <code>rpicam-apps</code> post-processing framework, users can create their own custom post-processing stages. You can even include algorithms and routines from OpenCV and TensorFlow Lite.</p>
</div>
<div class="sect3">
<h4 id="basic-post-processing-stages">
<a class="anchor" href="#basic-post-processing-stages"></a>Basic post-processing stages</h4>
<div class="paragraph">
<p>To create your own post-processing stage, derive a new class from the <code>PostProcessingStage</code> class.
All post-processing stages must implement the following member functions:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>char const *Name() const</code></dt>
<dd>
<p>Returns the name of the stage. Matched against stages listed in the JSON post-processing configuration file.</p>
</dd>
<dt class="hdlist1"><code>void Read(boost::property_tree::ptree const &amp;params)</code></dt>
<dd>
<p>Reads the stage’s configuration parameters from a provided JSON file.</p>
</dd>
<dt class="hdlist1"><code>void AdjustConfig(std::string const &amp;use_case, StreamConfiguration *config)</code></dt>
<dd>
<p>Gives stages a chance to influence the configuration of the camera. Frequently empty for stages with no need to configure the camera.</p>
</dd>
<dt class="hdlist1"><code>void Configure()</code></dt>
<dd>
<p>Called just after the camera has been configured to allocate resources and check that the stage has access to necessary streams.</p>
</dd>
<dt class="hdlist1"><code>void Start()</code></dt>
<dd>
<p>Called when the camera starts. Frequently empty for stages with no need to configure the camera.</p>
</dd>
<dt class="hdlist1"><code>bool Process(CompletedRequest &amp;completed_request)</code></dt>
<dd>
<p>Presents completed camera requests for post-processing. This is where you’ll implement pixel manipulations and image analysis. Returns <code>true</code> if the post-processing framework should <strong>not</strong> deliver this request to the application.</p>
</dd>
<dt class="hdlist1"><code>void Stop()</code></dt>
<dd>
<p>Called when the camera stops. Used to shut down any active processing on asynchronous threads.</p>
</dd>
<dt class="hdlist1"><code>void Teardown()</code></dt>
<dd>
<p>Called when the camera configuration is destroyed. Use this as a deconstructor where you can de-allocate resources set up in the <code>Configure</code> method.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>In any stage implementation, call <code>RegisterStage</code> to register your stage with the system.</p>
</div>
<div class="paragraph">
<p>Don’t forget to add your stage to <code>meson.build</code> in the post-processing folder.
When writing your own stages, keep these tips in mind:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>Process</code> method blocks the imaging pipeline. If it takes too long, the pipeline will stutter. <strong>Always delegate time-consuming algorithms to an asynchronous thread.</strong></p>
</li>
<li>
<p>When delegating work to another thread, you must copy the image buffers. For applications like image analysis that don’t require full resolution, try using a low-resolution image stream.</p>
</li>
<li>
<p>The post-processing framework <em>uses parallelism to process every frame</em>. This improves throughput. However, some OpenCV and TensorFlow Lite functions introduce another layer of parallelism <em>within</em> each frame. Consider serialising calls within each frame since post-processing already takes advantage of multiple threads.</p>
</li>
<li>
<p>Most streams, including the low resolution stream, use the YUV420 format. You may need to convert this to another format for certain OpenCV or TFLite functions.</p>
</li>
<li>
<p>For the best performance, always alter images in-place.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For a basic example, see <a href="https://github.com/raspberrypi/rpicam-apps/blob/main/post_processing_stages/negate_stage.cpp"><code>negate_stage.cpp</code></a>. This stage negates an image by turning light pixels dark and dark pixels light. This stage is mostly derived class boiler-plate, achieving the negation logic in barely half a dozen lines of code.</p>
</div>
<div class="paragraph">
<p>For another example, see <a href="https://github.com/raspberrypi/rpicam-apps/blob/main/post_processing_stages/sobel_cv_stage.cpp"><code>sobel_cv_stage.cpp</code></a>, which implements a Sobel filter in just a few lines of OpenCV functions.</p>
</div>
</div>
<div class="sect3">
<h4 id="tensorflow-lite-stages">
<a class="anchor" href="#tensorflow-lite-stages"></a>TensorFlow Lite stages</h4>
<div class="paragraph">
<p>For stages that use TensorFlow Lite (TFLite), derive a new class from the <code>TfStage</code> class.
This class delegates model execution to a separate thread to prevent camera stuttering.</p>
</div>
<div class="paragraph">
<p>The <code>TfStage</code> class implements all the <code>PostProcessingStage</code> member functions post-processing stages must normally implement, <em>except for</em> <code>Name</code>.
All <code>TfStage</code>-derived stages must implement the <code>Name</code> function, and should implement some or all of the following virtual member functions:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>void readExtras()</code></dt>
<dd>
<p>The base class reads the named model and certain other parameters like the <code>refresh_rate</code>. Use this function this to read extra parameters for the derived stage and check that the loaded model is correct (e.g. has right input and output dimensions).</p>
</dd>
<dt class="hdlist1"><code>void checkConfiguration()</code></dt>
<dd>
<p>The base class fetches the low resolution stream that TFLite operates on and the full resolution stream in case the derived stage needs it. Use this function to check for the streams required by your stage. If your stage can’t access one of the required streams, you might skip processing or throw an error.</p>
</dd>
<dt class="hdlist1"><code>void interpretOutputs()</code></dt>
<dd>
<p>Use this function to read and interpret the model output. <em>Runs in the same thread as the model when the model completes</em>.</p>
</dd>
<dt class="hdlist1"><code>void applyResults()</code></dt>
<dd>
<p>Use this function to apply results of the model (could be several frames old) to the current frame. Typically involves attaching metadata or drawing. <em>Runs in the main thread, before frames are delivered</em>.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>For an example implementation, see the <a href="https://github.com/raspberrypi/rpicam-apps/blob/main/post_processing_stages/object_classify_tf_stage.cpp"><code>object_classify_tf_stage.cpp</code></a> and <a href="https://github.com/raspberrypi/rpicam-apps/blob/main/post_processing_stages/pose_estimation_tf_stage.cpp"><code>pose_estimation_tf_stage.cpp</code></a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="advanced-rpicam-apps">
<a class="anchor" href="#advanced-rpicam-apps"></a>Advanced <code>rpicam-apps</code>
</h2>
<div class="sectionbody"></div>
<div class="paragraph edit-link">
<p>Edit this <a href="https://github.com/raspberrypi/documentation/blob/develop/documentation/asciidoc/computers/camera/rpicam_apps_building.adoc">on GitHub</a></p>
</div>
<div class="sect2">
<h3 id="build-libcamera-and-rpicam-apps">
<a class="anchor" href="#build-libcamera-and-rpicam-apps"></a>Build <code>libcamera</code> and <code>rpicam-apps</code>
</h3>
<div class="paragraph">
<p>Build <code>libcamera</code> and <code>rpicam-apps</code> for yourself for the following benefits:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You can pick up the latest enhancements and features.</p>
</li>
<li>
<p><code>rpicam-apps</code> can be compiled with extra optimisation for Raspberry Pi 3 and Raspberry Pi 4 devices running a 32-bit OS.</p>
</li>
<li>
<p>You can include optional OpenCV and/or TFLite post-processing stages, or add your own.</p>
</li>
<li>
<p>You can customise or add your own applications derived from <code>rpicam-apps</code></p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="remove-pre-installed-rpicam-apps">
<a class="anchor" href="#remove-pre-installed-rpicam-apps"></a>Remove pre-installed <code>rpicam-apps</code>
</h4>
<div class="paragraph">
<p>Raspberry Pi OS includes a pre-installed copy of <code>rpicam-apps</code>. Before building and installing your own version of <code>rpicam-apps</code>, you must first remove the pre-installed version. Run the following command to remove the <code>rpicam-apps</code> package from your Raspberry Pi:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>apt remove <span class="nt">--purge</span> rpicam-apps</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="building-rpicam-apps-without-building-libcamera">
<a class="anchor" href="#building-rpicam-apps-without-building-libcamera"></a>Building <code>rpicam-apps</code> without building <code>libcamera</code>
</h4>
<div class="paragraph">
<p>To build <code>rpicam-apps</code> without first rebuilding <code>libcamera</code> and <code>libepoxy</code>, install <code>libcamera</code>, <code>libepoxy</code> and their dependencies with <code>apt</code>:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>apt <span class="nb">install</span> <span class="nt">-y</span> libcamera-dev libepoxy-dev libjpeg-dev libtiff5-dev libpng-dev</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
If you do not need support for the GLES/EGL preview window, omit <code>libepoxy-dev</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To use the Qt preview window, install the following additional dependencies:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>apt <span class="nb">install</span> <span class="nt">-y</span> qtbase5-dev libqt5core5a libqt5gui5 libqt5widgets5</code></pre>
</div>
</div>
<div class="paragraph">
<p>For <a href="#libav-integration-with-rpicam-vid"><code>libav</code></a> support in <code>rpicam-vid</code>, install the following additional dependencies:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>apt <span class="nb">install </span>libavcodec-dev libavdevice-dev libavformat-dev libswresample-dev</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you run Raspberry Pi OS Lite, install <code>git</code>:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>apt <span class="nb">install</span> <span class="nt">-y</span> git</code></pre>
</div>
</div>
<div class="paragraph">
<p>Next, <a href="#building-rpicam-apps">build <code>rpicam-apps</code></a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="building-libcamera">
<a class="anchor" href="#building-libcamera"></a>Building <code>libcamera</code>
</h4>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Only build <code>libcamera</code> from scratch if you need custom behaviour or the latest features that have not yet reached <code>apt</code> repositories.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>If you run Raspberry Pi OS Lite, begin by installing the following packages:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>apt <span class="nb">install</span> <span class="nt">-y</span> python3-pip git python3-jinja2</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>First, install the following <code>libcamera</code> dependencies:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>apt <span class="nb">install</span> <span class="nt">-y</span> libboost-dev
<span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>apt <span class="nb">install</span> <span class="nt">-y</span> libgnutls28-dev openssl libtiff5-dev pybind11-dev
<span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>apt <span class="nb">install</span> <span class="nt">-y</span> qtbase5-dev libqt5core5a libqt5gui5 libqt5widgets5
<span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>apt <span class="nb">install</span> <span class="nt">-y</span> meson cmake
<span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>apt <span class="nb">install</span> <span class="nt">-y</span> python3-yaml python3-ply
<span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>apt <span class="nb">install</span> <span class="nt">-y</span> libglib2.0-dev libgstreamer-plugins-base1.0-dev</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now we’re ready to build <code>libcamera</code> itself.</p>
</div>
<div class="paragraph">
<p>Download a local copy of Raspberry Pi’s fork of <code>libcamera</code> from GitHub:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>git clone https://github.com/raspberrypi/libcamera.git</code></pre>
</div>
</div>
<div class="paragraph">
<p>Navigate into the root directory of the repository:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span><span class="nb">cd </span>libcamera</code></pre>
</div>
</div>
<div class="paragraph">
<p>Next, run <code>meson</code> to configure the build environment:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>meson setup build <span class="nt">--buildtype</span><span class="o">=</span>release <span class="nt">-Dpipelines</span><span class="o">=</span>rpi/vc4,rpi/pisp <span class="nt">-Dipas</span><span class="o">=</span>rpi/vc4,rpi/pisp <span class="nt">-Dv4l2</span><span class="o">=</span><span class="nb">true</span> <span class="nt">-Dgstreamer</span><span class="o">=</span>enabled <span class="nt">-Dtest</span><span class="o">=</span><span class="nb">false</span> <span class="nt">-Dlc-compliance</span><span class="o">=</span>disabled <span class="nt">-Dcam</span><span class="o">=</span>disabled <span class="nt">-Dqcam</span><span class="o">=</span>disabled <span class="nt">-Ddocumentation</span><span class="o">=</span>disabled <span class="nt">-Dpycamera</span><span class="o">=</span>enabled</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
You can disable the <code>gstreamer</code> plugin by replacing <code>-Dgstreamer=enabled</code> with <code>-Dgstreamer=disabled</code> during the <code>meson</code> build configuration. If you disable <code>gstreamer</code>, there is no need to install the <code>libglib2.0-dev</code> and <code>libgstreamer-plugins-base1.0-dev</code> dependencies.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Now, you can build <code>libcamera</code> with <code>ninja</code>:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>ninja <span class="nt">-C</span> build</code></pre>
</div>
</div>
<div class="paragraph">
<p>Finally, run the following command to install your freshly-built <code>libcamera</code> binary:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>ninja <span class="nt">-C</span> build <span class="nb">install</span></code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
On devices with 1GB of memory or less, the build may exceed available memory. Append the <code>-j 1</code> flag to <code>ninja</code> commands to limit the build to a single process. This should prevent the build from exceeding available memory on devices like the Raspberry Pi Zero and the Raspberry Pi 3.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><code>libcamera</code> does not yet have a stable binary interface. Always build <code>rpicam-apps</code> after you build <code>libcamera</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="building-rpicam-apps">
<a class="anchor" href="#building-rpicam-apps"></a>Building <code>rpicam-apps</code>
</h4>
<div class="paragraph">
<p>First fetch the necessary dependencies for <code>rpicam-apps</code>.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>apt <span class="nb">install</span> <span class="nt">-y</span> cmake libboost-program-options-dev libdrm-dev libexif-dev
<span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>apt <span class="nb">install</span> <span class="nt">-y</span> meson ninja-build</code></pre>
</div>
</div>
<div class="paragraph">
<p>Download a local copy of Raspberry Pi’s <code>rpicam-apps</code> GitHub repository:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>git clone https://github.com/raspberrypi/rpicam-apps.git</code></pre>
</div>
</div>
<div class="paragraph">
<p>Navigate into the root directory of the repository:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span><span class="nb">cd </span>rpicam-apps</code></pre>
</div>
</div>
<div class="paragraph">
<p>For desktop-based operating systems like Raspberry Pi OS, configure the <code>rpicam-apps</code> build with the following <code>meson</code> command:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>meson setup build <span class="nt">-Denable_libav</span><span class="o">=</span>enabled <span class="nt">-Denable_drm</span><span class="o">=</span>enabled <span class="nt">-Denable_egl</span><span class="o">=</span>enabled <span class="nt">-Denable_qt</span><span class="o">=</span>enabled <span class="nt">-Denable_opencv</span><span class="o">=</span>disabled <span class="nt">-Denable_tflite</span><span class="o">=</span>disabled</code></pre>
</div>
</div>
<div class="paragraph">
<p>For headless operating systems like Raspberry Pi OS Lite, configure the <code>rpicam-apps</code> build with the following <code>meson</code> command:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>meson setup build <span class="nt">-Denable_libav</span><span class="o">=</span>disabled <span class="nt">-Denable_drm</span><span class="o">=</span>enabled <span class="nt">-Denable_egl</span><span class="o">=</span>disabled <span class="nt">-Denable_qt</span><span class="o">=</span>disabled <span class="nt">-Denable_opencv</span><span class="o">=</span>disabled <span class="nt">-Denable_tflite</span><span class="o">=</span>disabled</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>Use <code>-Dneon_flags=armv8-neon</code> to enable optimisations for 32-bit OSes on Raspberry Pi 3 or Raspberry Pi 4.</p>
</li>
<li>
<p>Use <code>-Denable_opencv=enabled</code> if you have installed OpenCV and wish to use OpenCV-based post-processing stages.</p>
</li>
<li>
<p>Use <code>-Denable_tflite=enabled</code> if you have installed TensorFlow Lite and wish to use it in post-processing stages.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can now build <code>rpicam-apps</code> with the following command:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>meson compile <span class="nt">-C</span> build</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
On devices with 1GB of memory or less, the build may exceed available memory. Append the <code>-j 1</code> flag to <code>meson</code> commands to limit the build to a single process. This should prevent the build from exceeding available memory on devices like the Raspberry Pi Zero and the Raspberry Pi 3.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Finally, run the following command to install your freshly-built <code>rpicam-apps</code> binary:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>meson <span class="nb">install</span> <span class="nt">-C</span> build</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph">
<p>The command above should automatically update the <code>ldconfig</code> cache. If you have trouble accessing your new <code>rpicam-apps</code> build, run the following command to update the cache:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>ldconfig</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Run the following command to check that your device uses the new binary:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>rpicam-still <span class="nt">--version</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The output should include the date and time of your local <code>rpicam-apps</code> build.</p>
</div>
<div class="paragraph">
<p>Finally, follow the <code>dtoverlay</code> and display driver instructions in the  <a href="#configuration">Configuration section</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="rpicam-apps-meson-flag-reference">
<a class="anchor" href="#rpicam-apps-meson-flag-reference"></a><code>rpicam-apps</code> meson flag reference</h4>
<div class="paragraph">
<p>The <code>meson</code> build configuration for <code>rpicam-apps</code> supports the following flags:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>-Dneon_flags=armv8-neon</code></dt>
<dd>
<p>Speeds up certain post-processing features on Raspberry Pi 3 or Raspberry Pi 4 devices running a 32-bit OS.</p>
</dd>
<dt class="hdlist1"><code>-Denable_libav=enabled</code></dt>
<dd>
<p>Enables or disables <code>libav</code> encoder integration.</p>
</dd>
<dt class="hdlist1"><code>-Denable_drm=enabled</code></dt>
<dd>
<p>Enables or disables <strong>DRM/KMS preview rendering</strong>, a preview window used in the absence of a desktop environment.</p>
</dd>
<dt class="hdlist1"><code>-Denable_egl=enabled</code></dt>
<dd>
<p>Enables or disables the non-Qt desktop environment-based preview. Disable if your system lacks a desktop environment.</p>
</dd>
<dt class="hdlist1"><code>-Denable_qt=enabled</code></dt>
<dd>
<p>Enables or disables support for the Qt-based implementation of the preview window. Disable if you do not have a desktop environment installed or if you have no intention of using the Qt-based preview window. The Qt-based preview is normally not recommended because it is computationally very expensive, however it does work with X display forwarding.</p>
</dd>
<dt class="hdlist1"><code>-Denable_opencv=enabled</code></dt>
<dd>
<p>Forces OpenCV-based post-processing stages to link or not link. Requires OpenCV to enable. Defaults to <code>disabled</code>.</p>
</dd>
<dt class="hdlist1"><code>-Denable_tflite=enabled</code></dt>
<dd>
<p>Enables or disables TensorFlow Lite post-processing stages. Disabled by default. Requires Tensorflow Lite to enable. Depending on how you have built and/or installed TFLite, you may need to tweak the <code>meson.build</code> file in the <code>post_processing_stages</code> directory.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Each of the above options (except for <code>neon_flags</code>) supports the following values:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>enabled</code>: enables the option, fails the build if dependencies are not available</p>
</li>
<li>
<p><code>disabled</code>: disables the option</p>
</li>
<li>
<p><code>auto</code>: enables the option if dependencies are available</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="building-libepoxy">
<a class="anchor" href="#building-libepoxy"></a>Building <code>libepoxy</code>
</h4>
<div class="paragraph">
<p>Rebuilding <code>libepoxy</code> should not normally be necessary as this library changes only very rarely. If you do want to build it from scratch, however, please follow the instructions below.</p>
</div>
<div class="paragraph">
<p>Start by installing the necessary dependencies.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>apt <span class="nb">install</span> <span class="nt">-y</span> libegl1-mesa-dev</code></pre>
</div>
</div>
<div class="paragraph">
<p>Next, download a local copy of the <code>libepoxy</code> repository from GitHub:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>git clone https://github.com/anholt/libepoxy.git</code></pre>
</div>
</div>
<div class="paragraph">
<p>Navigate into the root directory of the repository:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span><span class="nb">cd </span>libepoxy</code></pre>
</div>
</div>
<div class="paragraph">
<p>Create a build directory at the root level of the repository, then navigate into that directory:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span><span class="nb">mkdir </span>_build
<span class="gp">$</span><span class="w"> </span><span class="nb">cd </span>_build</code></pre>
</div>
</div>
<div class="paragraph">
<p>Next, run <code>meson</code> to configure the build environment:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>meson</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now, you can build <code>libexpoxy</code> with <code>ninja</code>:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>ninja</code></pre>
</div>
</div>
<div class="paragraph">
<p>Finally, run the following command to install your freshly-built <code>libepoxy</code> binary:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>ninja <span class="nb">install</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="write-your-own-rpicam-apps">
<a class="anchor" href="#write-your-own-rpicam-apps"></a>Write your own <code>rpicam</code> apps</h3>
<div class="paragraph edit-link">
<p>Edit this <a href="https://github.com/raspberrypi/documentation/blob/develop/documentation/asciidoc/computers/camera/rpicam_apps_writing.adoc">on GitHub</a></p>
</div>
<div class="paragraph">
<p><code>rpicam-apps</code> does not provide all of the camera-related features that anyone could ever need. Instead, these applications are small and flexible. Users who require different behaviour can implement it themselves.</p>
</div>
<div class="paragraph">
<p>All of the <code>rpicam-apps</code> use an event loop that receives messages when a new set of frames arrives from the camera system. This set of frames is called a <code>CompletedRequest</code>. The <code>CompletedRequest</code> contains:
* all images derived from that single camera frame: often a low-resolution image and a full-size output
* metadata from the camera and post-processing systems</p>
</div>
<div class="sect3">
<h4 id="rpicam-hello-2">
<a class="anchor" href="#rpicam-hello-2"></a><code>rpicam-hello</code>
</h4>
<div class="paragraph">
<p><code>rpicam-hello</code> is the smallest application, and the best place to start understanding <code>rpicam-apps</code> design. It extracts the <code>CompletedRequestPtr</code>, a shared pointer to the <code>CompletedRequest</code>, from the message, and forwards it to the preview window:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>CompletedRequestPtr &amp;completed_request = std::get&lt;CompletedRequestPtr&gt;(msg.payload);
app.ShowPreview(completed_request, app.ViewfinderStream());</pre>
</div>
</div>
<div class="paragraph">
<p>Every <code>CompletedRequest</code> must be recycled back to the camera system so that the buffers can be reused. Otherwise, the camera runs out of buffers for new camera frames. This recycling process happens automatically when no references to the <code>CompletedRequest</code> remain using C++'s <em>shared pointer</em> and <em>custom deleter</em> mechanisms.</p>
</div>
<div class="paragraph">
<p>As a result, <code>rpicam-hello</code> must complete the following actions to recycle the buffer space:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The event loop must finish a cycle so the message (<code>msg</code> in the code), which holds a reference to <code>CompletedRequest</code>, can be replaced with the next message. This discards the reference to the previous message.</p>
</li>
<li>
<p>When the event thread calls <code>ShowPreview</code>, it passes the preview thread a reference to the <code>CompletedRequest</code>. The preview thread discards the last <code>CompletedRequest</code> instance each time <code>ShowPreview</code> is called.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="rpicam-vid-2">
<a class="anchor" href="#rpicam-vid-2"></a><code>rpicam-vid</code>
</h4>
<div class="paragraph">
<p><code>rpicam-vid</code> is similar to <code>rpicam-hello</code> with encoding added to the event loop. Before the event loop starts, <code>rpicam-vid</code> configures the encoder with a callback. The callback handles the buffer containing the encoded image data. In the code below, we send the buffer to the <code>Output</code> object. <code>Output</code> could write it to a file or stream it, depending on the options specified.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>app.SetEncodeOutputReadyCallback(std::bind(&amp;Output::OutputReady, output.get(), _1, _2, _3, _4));</pre>
</div>
</div>
<div class="paragraph">
<p>Because this code passes the encoder a reference to the <code>CompletedRequest</code>, <code>rpicam-vid</code> can’t recycle buffer data until the event loop, preview window, <em>and</em> encoder all discard their references.</p>
</div>
</div>
<div class="sect3">
<h4 id="rpicam-raw-2">
<a class="anchor" href="#rpicam-raw-2"></a><code>rpicam-raw</code>
</h4>
<div class="paragraph">
<p><code>rpicam-raw</code> is similar to <code>rpicam-vid</code>. It also encodes during the event loop. However, <code>rpicam-raw</code> uses a dummy encoder called the <code>NullEncoder</code>. This uses the input image as the output buffer instead of encoding it with a codec. <code>NullEncoder</code> only discards its reference to the buffer once the output callback completes. This guarantees that the buffer isn’t recycled before the callback processes the image.</p>
</div>
<div class="paragraph">
<p><code>rpicam-raw</code> doesn’t forward anything to the preview window.</p>
</div>
<div class="paragraph">
<p><code>NullEncoder</code> is possibly overkill in <code>rpicam-raw</code>. We could probably send images straight to the <code>Output</code> object, instead. However, <code>rpicam-apps</code> need to limit work in the event loop. <code>NullEncoder</code> demonstrates how you can handle most processes (even holding onto a reference) in other threads.</p>
</div>
</div>
<div class="sect3">
<h4 id="rpicam-jpeg-2">
<a class="anchor" href="#rpicam-jpeg-2"></a><code>rpicam-jpeg</code>
</h4>
<div class="paragraph">
<p><code>rpicam-jpeg</code> starts the camera in preview mode in the usual way. When the timer completes, it stops the preview and switches to still capture:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>app.StopCamera();
app.Teardown();
app.ConfigureStill();
app.StartCamera();</pre>
</div>
</div>
<div class="paragraph">
<p>The event loop grabs the first frame returned from still mode and saves this as a JPEG.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="use-libcamera-with-qt">
<a class="anchor" href="#use-libcamera-with-qt"></a>Use <code>libcamera</code> with Qt</h3>
<div class="paragraph edit-link">
<p>Edit this <a href="https://github.com/raspberrypi/documentation/blob/develop/documentation/asciidoc/computers/camera/qt.adoc">on GitHub</a></p>
</div>
<div class="paragraph">
<p>Qt is a popular application framework and GUI toolkit. <code>rpicam-apps</code> includes an option to use Qt for a camera preview window.</p>
</div>
<div class="paragraph">
<p>Unfortunately, Qt defines certain symbols (such as <code>slot</code> and <code>emit</code>) as macros in the global namespace. This causes errors when including <code>libcamera</code> files. The problem is common to all platforms that use both Qt and <code>libcamera</code>. Try the following workarounds to avoid these errors:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>List <code>libcamera</code> include files, or files that include <code>libcamera</code> files (such as <code>rpicam-apps</code> files), <em>before</em> any Qt header files whenever possible.</p>
</li>
<li>
<p>If you do need to mix your Qt application files with <code>libcamera</code> includes, replace <code>signals:</code> with <code>Q_SIGNALS:</code>, <code>slots:</code> with <code>Q_SLOTS:</code>, <code>emit</code> with <code>Q_EMIT</code> and <code>foreach</code> with <code>Q_FOREACH</code>.</p>
</li>
<li>
<p>Add the following at the top of any <code>libcamera</code> include files:</p>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="cpp"><span class="cp">#undef signals
#undef slots
#undef emit
#undef foreach</span></code></pre>
</div>
</div>
</li>
<li>
<p>If your project uses <code>qmake</code>, add <code>CONFIG += no_keywords</code> to the project file.</p>
</li>
<li>
<p>If your project uses <code>cmake</code>, add <code>SET(QT_NO_KEYWORDS ON)</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="use-libcamera-from-python-with-picamera2">
<a class="anchor" href="#use-libcamera-from-python-with-picamera2"></a>Use <code>libcamera</code> from Python with Picamera2</h3>
<div class="paragraph edit-link">
<p>Edit this <a href="https://github.com/raspberrypi/documentation/blob/develop/documentation/asciidoc/computers/camera/libcamera_python.adoc">on GitHub</a></p>
</div>
<div class="paragraph">
<p>The <a href="https://github.com/raspberrypi/picamera2">Picamera2 library</a> is a <code>rpicam</code>-based replacement for Picamera, which was a Python interface to Raspberry Pi’s legacy camera stack. Picamera2 presents an easy-to-use Python API.</p>
</div>
<div class="paragraph">
<p>Documentation about Picamera2 is available <a href="https://github.com/raspberrypi/picamera2">on GitHub</a> and in the <a href="https://datasheets.raspberrypi.com/camera/picamera2-manual.pdf">Picamera2 manual</a>.</p>
</div>
<div class="sect3">
<h4 id="installation">
<a class="anchor" href="#installation"></a>Installation</h4>
<div class="paragraph">
<p>Recent Raspberry Pi OS images include Picamera2 with all the GUI (Qt and OpenGL) dependencies. Recent Raspberry Pi OS Lite images include Picamera2 without the GUI dependencies, although preview images can still be displayed using DRM/KMS.</p>
</div>
<div class="paragraph">
<p>If your image did not include Picamera2, run the following command to install Picamera2 with all of the GUI dependencies:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>apt <span class="nb">install</span> <span class="nt">-y</span> python3-picamera2</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you don’t want the GUI dependencies, you can run the following command to install Picamera2 without the GUI dependencies:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>apt <span class="nb">install</span> <span class="nt">-y</span> python3-picamera2 <span class="nt">--no-install-recommends</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If you previously installed Picamera2 with <code>pip</code>, uninstall it with: <code>pip3 uninstall picamera2</code>.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="use-a-usb-webcam">
<a class="anchor" href="#use-a-usb-webcam"></a>Use a USB webcam</h2>
<div class="sectionbody"></div>
<div class="paragraph edit-link">
<p>Edit this <a href="https://github.com/raspberrypi/documentation/blob/develop/documentation/asciidoc/computers/camera/webcams.adoc">on GitHub</a></p>
</div>
<div class="paragraph">
<p>Most Raspberry Pi devices have dedicated ports for camera modules. Camera modules are high-quality, highly-configurable cameras popular with Raspberry Pi users.</p>
</div>
<div class="paragraph">
<p>However, for many purposes a USB webcam has everything you need to record pictures and videos from your Raspberry Pi. This section explains how to use a USB webcam with your Raspberry Pi.</p>
</div>
<div class="sect2">
<h3 id="install-dependencies">
<a class="anchor" href="#install-dependencies"></a>Install dependencies</h3>
<div class="paragraph">
<p>First, install the <code>fswebcam</code> package:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>apt <span class="nb">install </span>fswebcam</code></pre>
</div>
</div>
<div class="paragraph">
<p>Next, add your username to the <code>video</code> group, otherwise you may see 'permission denied' errors:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>usermod <span class="nt">-a</span> <span class="nt">-G</span> video &lt;username&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>To check that the user has been added to the group correctly, use the <code>groups</code> command.</p>
</div>
</div>
<div class="sect2">
<h3 id="take-a-photo">
<a class="anchor" href="#take-a-photo"></a>Take a photo</h3>
<div class="paragraph">
<p>Run the following command to take a picture using the webcam and save the image to a filename named <code>image.jpg</code>:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>fswebcam image.jpg</code></pre>
</div>
</div>
<div class="paragraph">
<p>You should see output similar to the following:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>--- Opening /dev/video0...
Trying source module v4l2...
/dev/video0 opened.
No input was specified, using the first.
Adjusting resolution from 384x288 to 352x288.
--- Capturing frame...
Corrupt JPEG data: 2 extraneous bytes before marker 0xd4
Captured frame in 0.00 seconds.
--- Processing captured image...
Writing JPEG image to 'image.jpg'.</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/webcam-image.jpg?hash=b30bd5edf4147480744470696026206b" alt="By default" width="`fswebcam` uses a low resolution and adds a banner displaying a timestamp">
</div>
<div class="title">By default, <code>fswebcam</code> uses a low resolution and adds a banner displaying a timestamp.</div>
</div>
<div class="paragraph">
<p>To specify a different resolution for the captured image, use the <code>-r</code> flag, passing a width and height as two numbers separated by an <code>x</code>:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>fswebcam <span class="nt">-r</span> 1280x720 image2.jpg</code></pre>
</div>
</div>
<div class="paragraph">
<p>You should see output similar to the following:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>--- Opening /dev/video0...
Trying source module v4l2...
/dev/video0 opened.
No input was specified, using the first.
--- Capturing frame...
Corrupt JPEG data: 1 extraneous bytes before marker 0xd5
Captured frame in 0.00 seconds.
--- Processing captured image...
Writing JPEG image to 'image2.jpg'.</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/webcam-image-high-resolution.jpg?hash=41262728d2f0fe0e2c30275eb1c03325" alt="Specify a resolution to capture a higher quality image">
</div>
<div class="title">Specify a resolution to capture a higher quality image.</div>
</div>
<div class="sect3">
<h4 id="remove-the-banner">
<a class="anchor" href="#remove-the-banner"></a>Remove the banner</h4>
<div class="paragraph">
<p>To remove the banner from the captured image, use the <code>--no-banner</code> flag:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>fswebcam <span class="nt">--no-banner</span> image3.jpg</code></pre>
</div>
</div>
<div class="paragraph">
<p>You should see output similar to the following:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>--- Opening /dev/video0...
Trying source module v4l2...
/dev/video0 opened.
No input was specified, using the first.
--- Capturing frame...
Corrupt JPEG data: 2 extraneous bytes before marker 0xd6
Captured frame in 0.00 seconds.
--- Processing captured image...
Disabling banner.
Writing JPEG image to 'image3.jpg'.</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/webcam-image-no-banner.jpg?hash=9a8f005fc1085d6a48b76cd049e644af" alt="Specify `--no-banner` to save the image without the timestamp banner">
</div>
<div class="title">Specify <code>--no-banner</code> to save the image without the timestamp banner.</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="automate-image-capture">
<a class="anchor" href="#automate-image-capture"></a>Automate image capture</h3>
<div class="paragraph">
<p>Unlike <a href="#rpicam-apps"><code>rpicam-apps</code></a>, <code>fswebcam</code> doesn’t have any built-in functionality to substitute timestamps and numbers in output image names. This can be useful when capturing multiple images, since manually editing the file name every time you record an image can be tedious. Instead, use a Bash script to implement this functionality yourself.</p>
</div>
<div class="paragraph">
<p>Create a new file named <code>webcam.sh</code> in your home folder. Add the following example code, which uses the <code>bash</code> programming language to save images to files with a file name containing the year, month, day, hour, minute, and second:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="bash"><span class="c">#!/bin/bash</span>

<span class="nv">DATE</span><span class="o">=</span><span class="si">$(</span><span class="nb">date</span> +<span class="s2">"%Y-%m-%d_%H-%M-%S"</span><span class="si">)</span>

fswebcam <span class="nt">-r</span> 1280x720 <span class="nt">--no-banner</span> <span class="nv">$DATE</span>.jpg</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then, make the bash script executable by running the following command:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span><span class="nb">chmod</span> +x webcam.sh</code></pre>
</div>
</div>
<div class="paragraph">
<p>Run the script with the following command to capture an image and save it to a file with a timestamp for a name, similar to <code>2024-05-10_12-06-33.jpg</code>:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>./webcam.sh</code></pre>
</div>
</div>
<div class="paragraph">
<p>You should see output similar to the following:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>--- Opening /dev/video0...
Trying source module v4l2...
/dev/video0 opened.
No input was specified, using the first.
--- Capturing frame...
Corrupt JPEG data: 2 extraneous bytes before marker 0xd6
Captured frame in 0.00 seconds.
--- Processing captured image...
Disabling banner.
Writing JPEG image to '2024-05-10_12-06-33.jpg'.</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="capture-a-time-lapse">
<a class="anchor" href="#capture-a-time-lapse"></a>Capture a time lapse</h3>
<div class="paragraph">
<p>Use <code>cron</code> to schedule photo capture at a given interval. With the right interval, such as once a minute, you can capture a time lapse.</p>
</div>
<div class="paragraph">
<p>First, open the cron table for editing:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>crontab <span class="nt">-e</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Once you have the file open in an editor, add the following line to the schedule to take a picture every minute, replacing <code>&lt;username&gt;</code> with your username:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="bash"><span class="k">*</span> <span class="k">*</span> <span class="k">*</span> <span class="k">*</span> <span class="k">*</span> /home/&lt;username&gt;/webcam.sh 2&gt;&amp;1</code></pre>
</div>
</div>
<div class="paragraph">
<p>Save and exit, and you should see the following message:</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>crontab: installing new crontab</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="v4l2-drivers">
<a class="anchor" href="#v4l2-drivers"></a>V4L2 drivers</h2>
<div class="sectionbody"></div>
<div class="paragraph edit-link">
<p>Edit this <a href="https://github.com/raspberrypi/documentation/blob/develop/documentation/asciidoc/computers/camera/v4l2.adoc">on GitHub</a></p>
</div>
<div class="paragraph">
<p>V4L2 drivers provide a standard Linux interface for accessing camera and codec features. Normally, Linux loads drivers automatically during boot. But in some situations you may need to <a href="#configuration">load camera drivers explicitly</a>.</p>
</div>
<div class="sect2">
<h3 id="device-nodes-when-using-libcamera">
<a class="anchor" href="#device-nodes-when-using-libcamera"></a>Device nodes when using <code>libcamera</code>
</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">/dev/videoX</th>
<th class="tableblock halign-center valign-top">Default action</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>video0</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Unicam driver for the first CSI-2 receiver</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>video1</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Unicam driver for the second CSI-2 receiver</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>video10</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Video decode</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>video11</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Video encode</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>video12</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Simple ISP, can perform conversion and resizing between RGB/YUV formats in addition to Bayer to RGB/YUV conversion</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>video13</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Input to fully programmable ISP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>video14</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">High resolution output from fully programmable ISP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>video15</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Low result output from fully programmable ISP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>video16</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Image statistics from fully programmable ISP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>video19</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">HEVC decode</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="use-the-v4l2-drivers">
<a class="anchor" href="#use-the-v4l2-drivers"></a>Use the V4L2 drivers</h3>
<div class="paragraph">
<p>For more information on how to use the V4L2 drivers, see the <a href="https://www.kernel.org/doc/html/latest/userspace-api/media/v4l/v4l2.html">V4L2 documentation</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="unicam">
<a class="anchor" href="#unicam"></a>Unicam</h2>
<div class="sectionbody"></div>
<div class="paragraph edit-link">
<p>Edit this <a href="https://github.com/raspberrypi/documentation/blob/develop/documentation/asciidoc/computers/camera/csi-2-usage.adoc">on GitHub</a></p>
</div>
<div class="paragraph">
<p>Raspberry Pi SoCs all have two camera interfaces that support either CSI-2 D-PHY 1.1 or Compact Camera Port 2 (CCP2) sources. This interface is known by the codename Unicam. The first instance of Unicam supports two CSI-2 data lanes, while the second supports four. Each lane can run at up to 1Gbit/s (DDR, so the max link frequency is 500MHz).</p>
</div>
<div class="paragraph">
<p>Compute Modules and Raspberry Pi 5 route out all lanes from both peripherals. Other models prior to Raspberry Pi 5 only expose the second instance, routing out only two of the data lanes to the camera connector.</p>
</div>
<div class="sect2">
<h3 id="software-interfaces">
<a class="anchor" href="#software-interfaces"></a>Software interfaces</h3>
<div class="paragraph">
<p>The V4L2 software interface is the only means of communicating with the Unicam peripheral. There used to also be firmware and MMAL rawcam component interfaces, but these are no longer supported.</p>
</div>
<div class="sect3">
<h4 id="v4l2">
<a class="anchor" href="#v4l2"></a>V4L2</h4>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The V4L2 interface for Unicam is available only when using <code>libcamera</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>There is a fully open-source kernel driver available for the Unicam block; this kernel module, called <code>bcm2835-unicam</code>, interfaces with V4L2 subdevice drivers to deliver raw frames. This <code>bcm2835-unicam</code> driver controls the sensor and configures the Camera Serial Interface 2 (CSI-2) receiver. Peripherals write raw frames (after Debayer) to SDRAM for V4L2 to deliver to applications. There is no image processing between the camera sensor capturing the image and the <code>bcm2835-unicam</code> driver placing the image data in SDRAM except for Bayer unpacking to 16bits/pixel.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>|------------------------|
|     bcm2835-unicam     |
|------------------------|
     ^             |
     |      |-------------|
 img |      |  Subdevice  |
     |      |-------------|
     v   -SW/HW-   |
|---------|   |-----------|
| Unicam  |   | I2C or SPI|
|---------|   |-----------|
csi2/ ^             |
ccp2  |             |
    |-----------------|
    |     sensor      |
    |-----------------|</pre>
</div>
</div>
<div class="paragraph">
<p>Mainline Linux contains a range of existing drivers. The Raspberry Pi kernel tree has some additional drivers and Device Tree overlays to configure them:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Device</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Omnivision OV5647</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5MP Camera</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Original Raspberry Pi Camera</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sony IMX219</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8MP Camera</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Revision 2 Raspberry Pi camera</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sony IMX477</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12MP Camera</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Raspberry Pi HQ camera</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sony IMX708</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12MP Camera</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Raspberry Pi Camera Module 3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sony IMX296</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.6MP Camera</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Raspberry Pi Global Shutter Camera Module</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Toshiba TC358743</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HDMI to CSI-2 bridge</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Analog Devices ADV728x-M</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Analog video to CSI-2 bridge</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No interlaced support</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Infineon IRS1125</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time-of-flight depth sensor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Supported by a third party</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>As the subdevice driver is also a kernel driver with a standardised API, third parties are free to write their own for any source of their choosing.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="write-a-third-party-driver">
<a class="anchor" href="#write-a-third-party-driver"></a>Write a third-party driver</h3>
<div class="paragraph">
<p>This is the recommended approach to interfacing via Unicam.</p>
</div>
<div class="paragraph">
<p>When developing a driver for a new device intended to be used with the <code>bcm2835-unicam</code> module, you need the driver and corresponding device tree overlays. Ideally, the driver should be submitted to the <a href="http://vger.kernel.org/vger-lists.html#linux-media">linux-media</a> mailing list for code review and merging into mainline, then moved to the <a href="https://github.com/raspberrypi/linux">Raspberry Pi kernel tree</a>; but exceptions may be made for the driver to be reviewed and merged directly to the Raspberry Pi kernel.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
All kernel drivers are licensed under the GPLv2 licence, therefore source code must be available. Shipping of binary modules only is a violation of the GPLv2 licence under which the Linux kernel is licensed.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <code>bcm2835-unicam</code> module has been written to try and accommodate all types of CSI-2 source driver that are currently found in the mainline Linux kernel. These can be split broadly into camera sensors and bridge chips. Bridge chips allow for conversion between some other format and CSI-2.</p>
</div>
<div class="sect3">
<h4 id="camera-sensors">
<a class="anchor" href="#camera-sensors"></a>Camera sensors</h4>
<div class="paragraph">
<p>The sensor driver for a camera sensor is responsible for all configuration of the device, usually via I2C or SPI. Rather than writing a driver from scratch, it is often easier to take an existing driver as a basis and modify it as appropriate.</p>
</div>
<div class="paragraph">
<p>The <a href="https://github.com/raspberrypi/linux/blob/rpi-6.1.y/drivers/media/i2c/imx219.c">IMX219 driver</a> is a good starting point. This driver supports both 8bit and 10bit Bayer readout, so enumerating frame formats and frame sizes is slightly more involved.</p>
</div>
<div class="paragraph">
<p>Sensors generally support <a href="https://www.kernel.org/doc/html/latest/userspace-api/media/v4l/control.html">V4L2 user controls</a>. Not all these controls need to be implemented in a driver. The IMX219 driver only implements a small subset, listed below, the implementation of which is handled by the <code>imx219_set_ctrl</code> function.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>V4L2_CID_PIXEL_RATE</code> / <code>V4L2_CID_VBLANK</code> / <code>V4L2_CID_HBLANK</code>: allows the application to set the frame rate</p>
</li>
<li>
<p><code>V4L2_CID_EXPOSURE</code>: sets the exposure time in lines; the application needs to use <code>V4L2_CID_PIXEL_RATE</code>, <code>V4L2_CID_HBLANK</code>, and the frame width to compute the line time</p>
</li>
<li>
<p><code>V4L2_CID_ANALOGUE_GAIN</code>: analogue gain in sensor specific units</p>
</li>
<li>
<p><code>V4L2_CID_DIGITAL_GAIN</code>: optional digital gain in sensor specific units</p>
</li>
<li>
<p><code>V4L2_CID_HFLIP / V4L2_CID_VFLIP</code>: flips the image either horizontally or vertically; this operation may change the Bayer order of the data in the frame, as is the case on the IMX219.</p>
</li>
<li>
<p><code>V4L2_CID_TEST_PATTERN</code> / <code>V4L2_CID_TEST_PATTERN_*</code>: enables output of various test patterns from the sensor; useful for debugging</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In the case of the IMX219, many of these controls map directly onto register writes to the sensor itself.</p>
</div>
<div class="paragraph">
<p>Further guidance can be found in the <code>libcamera</code> <a href="https://git.linuxtv.org/libcamera.git/tree/Documentation/sensor_driver_requirements.rst">sensor driver requirements</a>, and in chapter 3 of the <a href="https://datasheets.raspberrypi.com/camera/raspberry-pi-camera-guide.pdf">Raspberry Pi Camera tuning guide</a>.</p>
</div>
<div class="sect4">
<h5 id="device-tree">
<a class="anchor" href="#device-tree"></a>Device Tree</h5>
<div class="paragraph">
<p>Device Tree is used to select the sensor driver and configure parameters such as number of CSI-2 lanes, continuous clock lane operation, and link frequency (often only one is supported).</p>
</div>
<div class="paragraph">
<p>The IMX219 <a href="https://github.com/raspberrypi/linux/blob/rpi-6.1.y/arch/arm/boot/dts/overlays/imx219-overlay.dts">Device Tree overlay</a> for the 6.1 kernel is available on GitHub.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="bridge-chips">
<a class="anchor" href="#bridge-chips"></a>Bridge chips</h4>
<div class="paragraph">
<p>These are devices that convert an incoming video stream, for example HDMI or composite, into a CSI-2 stream that can be accepted by the Raspberry Pi CSI-2 receiver.</p>
</div>
<div class="paragraph">
<p>Handling bridge chips is more complicated. Unlike camera sensors, they have to respond to the incoming signal and report that to the application.</p>
</div>
<div class="paragraph">
<p>The mechanisms for handling bridge chips can be split into two categories: either analogue or digital.</p>
</div>
<div class="paragraph">
<p>When using <code>ioctls</code> in the sections below, an <code><em>S</em></code> in the <code>ioctl</code> name means it is a set function, while <code><em>G</em></code> is a get function and <code><em>ENUM</em></code> enumerates a set of permitted values.</p>
</div>
<div class="sect4">
<h5 id="analogue-video-sources">
<a class="anchor" href="#analogue-video-sources"></a>Analogue video sources</h5>
<div class="paragraph">
<p>Analogue video sources use the standard <code>ioctls</code> for detecting and setting video standards. <a href="https://www.kernel.org/doc/html/latest/userspace-api/media/v4l/vidioc-g-std.html"><code>VIDIOC_G_STD</code></a>, <a href="https://www.kernel.org/doc/html/latest/userspace-api/media/v4l/vidioc-g-std.html"><code>VIDIOC_S_STD</code></a>, <a href="https://www.kernel.org/doc/html/latest/userspace-api/media/v4l/vidioc-enumstd.html"><code>VIDIOC_ENUMSTD</code></a>, and <a href="https://www.kernel.org/doc/html/latest/userspace-api/media/v4l/vidioc-querystd.html"><code>VIDIOC_QUERYSTD</code></a> are available.</p>
</div>
<div class="paragraph">
<p>Selecting the wrong standard will generally result in corrupt images. Setting the standard will typically also set the resolution on the V4L2 CAPTURE queue. It can not be set via <code>VIDIOC_S_FMT</code>. Generally, requesting the detected standard via <code>VIDIOC_QUERYSTD</code> and then setting it with <code>VIDIOC_S_STD</code> before streaming is a good idea.</p>
</div>
</div>
<div class="sect4">
<h5 id="digital-video-sources">
<a class="anchor" href="#digital-video-sources"></a>Digital video sources</h5>
<div class="paragraph">
<p>For digital video sources, such as HDMI, there is an alternate set of calls that allow specifying of all the digital timing parameters: <a href="https://www.kernel.org/doc/html/latest/userspace-api/media/v4l/vidioc-g-dv-timings.html"><code>VIDIOC_G_DV_TIMINGS</code></a>, <a href="https://www.kernel.org/doc/html/latest/userspace-api/media/v4l/vidioc-g-dv-timings.html"><code>VIDIOC_S_DV_TIMINGS</code></a>, <a href="https://www.kernel.org/doc/html/latest/userspace-api/media/v4l/vidioc-enum-dv-timings.html"><code>VIDIOC_ENUM_DV_TIMINGS</code></a>, and <a href="https://www.kernel.org/doc/html/latest/userspace-api/media/v4l/vidioc-query-dv-timings.html"><code>VIDIOC_QUERY_DV_TIMINGS</code></a>.</p>
</div>
<div class="paragraph">
<p>As with analogue bridges, the timings typically fix the V4L2 CAPTURE queue resolution, and calling <code>VIDIOC_S_DV_TIMINGS</code> with the result of <code>VIDIOC_QUERY_DV_TIMINGS</code> before streaming should ensure the format is correct.</p>
</div>
<div class="paragraph">
<p>Depending on the bridge chip and the driver, it may be possible for changes in the input source to be reported to the application via <code>VIDIOC_SUBSCRIBE_EVENT</code> and <code>V4L2_EVENT_SOURCE_CHANGE</code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="currently-supported-devices">
<a class="anchor" href="#currently-supported-devices"></a>Currently supported devices</h5>
<div class="paragraph">
<p>There are two bridge chips which are currently supported by the Raspberry Pi Linux kernel: the Analog Devices ADV728x-M for analogue video sources, and the Toshiba TC358743 for HDMI sources.</p>
</div>
<div class="paragraph">
<p>Analog Devices ADV728x(A)-M analogue video to CSI2 bridge chips convert composite S-video (Y/C), or component (YPrPb) video into a single lane CSI-2 interface, and are supported by the <a href="https://github.com/raspberrypi/linux/blob/rpi-6.1.y/drivers/media/i2c/adv7180.c">ADV7180 kernel driver</a>.</p>
</div>
<div class="paragraph">
<p>Product details for the various versions of this chip can be found on the Analog Devices website: <a href="https://www.analog.com/en/products/adv7280a.html">ADV7280A</a>, <a href="https://www.analog.com/en/products/adv7281a.html">ADV7281A</a>, and <a href="https://www.analog.com/en/products/adv7282a.html">ADV7282A</a>.</p>
</div>
<div class="paragraph">
<p>Because of some missing code in the current core V4L2 implementation, selecting the source fails, so the Raspberry Pi kernel version adds a kernel module parameter called <code>dbg_input</code> to the ADV7180 kernel driver which sets the input source every time VIDIOC_S_STD is called. At some point mainstream will fix the underlying issue (a disjoin between the kernel API call s_routing, and the userspace call <code>VIDIOC_S_INPUT</code>) and this modification will be removed.</p>
</div>
<div class="paragraph">
<p>Receiving interlaced video is not supported, therefore the ADV7281(A)-M version of the chip is of limited use as it doesn’t have the necessary I2P deinterlacing block. Also ensure when selecting a device to specify the -M option. Without that you will get a parallel output bus which can not be interfaced to the Raspberry Pi.</p>
</div>
<div class="paragraph">
<p>There are no known commercially available boards using these chips, but this driver has been tested via the Analog Devices <a href="https://www.analog.com/en/design-center/evaluation-hardware-and-software/evaluation-boards-kits/EVAL-ADV7282A-M.html">EVAL-ADV7282-M evaluation board</a>.</p>
</div>
<div class="paragraph">
<p>This driver can be loaded using the <code>config.txt</code> dtoverlay <code>adv7282m</code> if you are using the <code>ADV7282-M</code> chip variant; or <code>adv728x-m</code> with a parameter of either <code>adv7280m=1</code>, <code>adv7281m=1</code>, or <code>adv7281ma=1</code> if you are using a different variant.</p>
</div>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre>dtoverlay=adv728x-m,adv7280m=1</pre>
</div>
</div>
<div class="paragraph">
<p>The Toshiba TC358743 is an HDMI to CSI-2 bridge chip, capable of converting video data at up to 1080p60.</p>
</div>
<div class="paragraph">
<p>Information on this bridge chip can be found on the <a href="https://toshiba.semicon-storage.com/ap-en/semiconductor/product/interface-bridge-ics-for-mobile-peripheral-devices/hdmir-interface-bridge-ics/detail.TC358743XBG.html">Toshiba website</a>.</p>
</div>
<div class="paragraph">
<p>The TC358743 interfaces HDMI into CSI-2 and I2S outputs. It is supported by the <a href="https://github.com/raspberrypi/linux/blob/rpi-6.1.y/drivers/media/i2c/tc358743.c">TC358743 kernel module</a>.</p>
</div>
<div class="paragraph">
<p>The chip supports incoming HDMI signals as either RGB888, YUV444, or YUV422, at up to 1080p60. It can forward RGB888, or convert it to YUV444 or YUV422, and convert either way between YUV444 and YUV422. Only RGB888 and YUV422 support has been tested. When using two CSI-2 lanes, the maximum rates that can be supported are 1080p30 as RGB888, or 1080p50 as YUV422. When using four lanes on a Compute Module, 1080p60 can be received in either format.</p>
</div>
<div class="paragraph">
<p>HDMI negotiates the resolution by a receiving device advertising an <a href="https://en.wikipedia.org/wiki/Extended_Display_Identification_Data">EDID</a> of all the modes that it can support. The kernel driver has no knowledge of the resolutions, frame rates, or formats that you wish to receive, so it is up to the user to provide a suitable file via the VIDIOC_S_EDID ioctl, or more easily using <code>v4l2-ctl --fix-edid-checksums --set-edid=file=filename.txt</code> (adding the --fix-edid-checksums option means that you don’t have to get the checksum values correct in the source file). Generating the required EDID file (a textual hexdump of a binary EDID file) is not too onerous, and there are tools available to generate them, but it is beyond the scope of this page.</p>
</div>
<div class="paragraph">
<p>As described above, use the <code>DV_TIMINGS</code> ioctls to configure the driver to match the incoming video. The easiest approach for this is to use the command <code>v4l2-ctl --set-dv-bt-timings query</code>. The driver does support generating the <code>SOURCE_CHANGED</code> events, should you wish to write an application to handle a changing source. Changing the output pixel format is achieved by setting it via <code>VIDIOC_S_FMT</code>, but only the pixel format field will be updated as the resolution is configured by the DV timings.</p>
</div>
<div class="paragraph">
<p>There are a couple of commercially available boards that connect this chip to the Raspberry Pi. The Auvidea B101 and B102 are the most widely obtainable, but other equivalent boards are available.</p>
</div>
<div class="paragraph">
<p>This driver is loaded using the <code>config.txt</code> dtoverlay <code>tc358743</code>.</p>
</div>
<div class="paragraph">
<p>The chip also supports capturing stereo HDMI audio via I2S. The Auvidea boards break the relevant signals out onto a header, which can be connected to the Raspberry Pi’s 40-pin header. The required wiring is:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Signal</th>
<th class="tableblock halign-center valign-top">B101 header</th>
<th class="tableblock halign-center valign-top">40-pin header</th>
<th class="tableblock halign-center valign-top">BCM GPIO</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LRCK/WFS</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">35</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">19</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BCK/SCK</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">18</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DATA/SD</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">38</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">20</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GND</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">39</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">N/A</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The <code>tc358743-audio</code> overlay is required <em>in addition to</em> the <code>tc358743</code> overlay. This should create an ALSA recording device for the HDMI audio.</p>
</div>
<div class="paragraph">
<p>There is no resampling of the audio. The presence of audio is reflected in the V4L2 control <code>TC358743_CID_AUDIO_PRESENT</code> (audio-present), and the sample rate of the incoming audio is reflected in the V4L2 control <code>TC358743_CID_AUDIO_SAMPLING_RATE</code> (audio sampling-frequency). Recording when no audio is present or at a sample rate different from that reported emits a warning.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="differences-between-rpicam-and-raspicam">
<a class="anchor" href="#differences-between-rpicam-and-raspicam"></a>Differences between <code>rpicam</code> and <code>raspicam</code>
</h3>
<div class="paragraph edit-link">
<p>Edit this <a href="https://github.com/raspberrypi/documentation/blob/develop/documentation/asciidoc/computers/camera/libcamera_differences.adoc">on GitHub</a></p>
</div>
<div class="paragraph">
<p>The <code>rpicam-apps</code> emulate most features of the legacy <code>raspicam</code> applications. However, users may notice the following differences:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Boost <code>program_options</code> don’t allow multi-character short versions of options, so where these were present they have had to be dropped. The long form options are named the same way, and any single-character short forms are preserved.</p>
</li>
<li>
<p><code>rpicam-still</code> and <code>rpicam-jpeg</code> do not show the captured image in the preview window.</p>
</li>
<li>
<p><code>rpicam-apps</code> removed the following <code>raspicam</code> features:</p>
<div class="ulist">
<ul>
<li>
<p>opacity (<code>--opacity</code>)</p>
</li>
<li>
<p>image effects (<code>--imxfx</code>)</p>
</li>
<li>
<p>colour effects (<code>--colfx</code>)</p>
</li>
<li>
<p>annotation (<code>--annotate</code>, <code>--annotateex</code>)</p>
</li>
<li>
<p>dynamic range compression, or DRC (<code>--drc</code>)</p>
</li>
<li>
<p>stereo (<code>--stereo</code>, <code>--decimate</code> and <code>--3dswap</code>)</p>
</li>
<li>
<p>image stabilisation (<code>--vstab</code>)</p>
</li>
<li>
<p>demo modes (<code>--demo</code>)</p>
<div class="paragraph">
<p><a href="#post-processing-with-rpicam-apps">Post-processing</a> replaced many of these features.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><code>rpicam-apps</code> removed <a href="#rotation"><code>rotation</code></a> option support for 90° and 270° rotations.</p>
</li>
<li>
<p><code>raspicam</code> conflated metering and exposure; <code>rpicam-apps</code> separates these options.</p>
</li>
<li>
<p>To disable Auto White Balance (AWB) in <code>rpicam-apps</code>, set a pair of colour gains with <a href="#awbgains"><code>awbgains</code></a> (e.g. <code>1.0,1.0</code>).</p>
</li>
<li>
<p><code>rpicam-apps</code> cannot set Auto White Balance (AWB) into greyworld mode for NoIR camera modules. Instead, pass the <a href="#tuning-file"><code>tuning-file</code></a> option a NoIR-specific tuning file like <code>imx219_noir.json</code>.</p>
</li>
<li>
<p><code>rpicam-apps</code> does not provide explicit control of digital gain. Instead, the <a href="#gain"><code>gain</code></a> option sets it implicitly.</p>
</li>
<li>
<p><code>rpicam-apps</code> removed the <code>--ISO</code> option. Instead, calculate the gain corresponding to the ISO value required. Vendors can provide mappings of gain to ISO.</p>
</li>
<li>
<p><code>rpicam-apps</code> does not support setting a flicker period.</p>
</li>
<li>
<p><code>rpicam-still</code> does not support burst capture. Instead, consider using <code>rpicam-vid</code> in MJPEG mode with <code>--segment 1</code> to force each frame into a separate file.</p>
</li>
<li>
<p><code>rpicam-apps</code> uses open source drivers for all image sensors, so the mechanism for enabling or disabling on-sensor Defective Pixel Correction (DPC) is different. The imx477 driver on the Raspberry Pi HQ Camera enables on-sensor DPC by default. To disable on-sensor DPC on the HQ Camera, run the following command:</p>
<div class="listingblock">
<button class="copy-button hidden" aria-label="copy code to clipboard" type="button" aria-hidden="true"><div class="copy-button-inner">
<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 12 12"><rect x="1" y="6" width="5" height="1"></rect><path d="M10,1H8A1,1,0,0,0,7,0H6A1,1,0,0,0,5,1H3A1,1,0,0,0,2,2V5H3V2H4V3H9V2h1v9H3V8H2v3a1,1,0,0,0,1,1h7a1,1,0,0,0,1-1V2A1,1,0,0,0,10,1ZM6.5,2.25a.75.75,0,1,1,.75-.75A.76.76,0,0,1,6.5,2.25Z"></path><path d="M6.32,6.32,4.43,4.43A.25.25,0,0,0,4,4.6V8.4a.25.25,0,0,0,.43.17L6.32,6.68A.25.25,0,0,0,6.32,6.32Z"></path></svg><strong class="copy-button-label"></strong><span class="tooltip hidden"> Copy to Clipboard</span>
</div></button>
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo echo </span>0 <span class="o">&gt;</span> /sys/module/imx477/parameters/dpc_enable</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="troubleshooting">
<a class="anchor" href="#troubleshooting"></a>Troubleshooting</h2>
<div class="sectionbody"></div>
<div class="paragraph edit-link">
<p>Edit this <a href="https://github.com/raspberrypi/documentation/blob/develop/documentation/asciidoc/computers/camera/troubleshooting.adoc">on GitHub</a></p>
</div>
<div class="paragraph">
<p>If your Camera Module doesn’t work like you expect, try some of the following fixes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>On Raspberry Pi 3 and earlier devices running Raspberry Pi OS <em>Bullseye</em> or earlier:</p>
<div class="ulist">
<ul>
<li>
<p>To enable hardware-accelerated camera previews, enable <strong>Glamor</strong>. To enable Glamor, enter <code>sudo raspi-config</code> in a terminal, select <code>Advanced Options</code> &gt; <code>Glamor</code> &gt; <code>Yes</code>. Then reboot your Raspberry Pi with <code>sudo reboot</code>.</p>
</li>
<li>
<p>If you see an error related to the display driver, add <code>dtoverlay=vc4-fkms-v3d</code> or <code>dtoverlay=vc4-kms-v3d</code> to <code>/boot/config.txt</code>. Then reboot your Raspberry Pi with <code>sudo reboot</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>On Raspberry Pi 3 and earlier, the graphics hardware can only support images up to 2048×2048 pixels, which places a limit on the camera images that can be resized into the preview window. As a result, video encoding of images larger than 2048 pixels wide produces corrupted or missing preview images.</p>
</li>
<li>
<p>On Raspberry Pi 4, the graphics hardware can only support images up to 4096×4096 pixels, which places a limit on the camera images that can be resized into the preview window. As a result, video encoding of images larger than 4096 pixels wide produces corrupted or missing preview images.</p>
</li>
<li>
<p>The preview window may show display tearing in a desktop environment. This is a known, unfixable issue.</p>
</li>
<li>
<p>Check that the FFC (Flat Flexible Cable) is firmly seated, fully inserted, and that the contacts face the correct direction. The FFC should be evenly inserted, not angled.</p>
</li>
<li>
<p>If you use a connector between the camera and your Raspberry Pi, check that the ports on the connector are firmly seated, fully inserted, and that the contacts face the correct direction.</p>
</li>
<li>
<p>Check to make sure that the FFC (Flat Flexible Cable) is attached to the CSI (Camera Serial Interface), <em>not</em> the DSI (Display Serial Interface). The connector fits into either port, but only the CSI port powers and controls the camera. Look for the <code>CSI</code> label printed on the board near the port.</p>
</li>
<li>
<p><a href="os.html#update-software">Update to the latest software.</a></p>
</li>
<li>
<p>Try a different power supply. The Camera Module adds about 200-250mA to the power requirements of your Raspberry Pi. If your power supply is low quality, your Raspberry Pi may not be able to power the Camera module.</p>
</li>
<li>
<p>If you’ve checked all the above issues and your Camera Module still doesn’t work like you expect, try posting on our forums for more help.</p>
</li>
</ul>
</div>
</div>
<div class="sect1">
<h2 id="getting-help">
<a class="anchor" href="#getting-help"></a>Getting help</h2>
<div class="sectionbody"></div>
<div class="paragraph edit-link">
<p>Edit this <a href="https://github.com/raspberrypi/documentation/blob/develop/documentation/asciidoc/computers/camera/rpicam_apps_getting_help.adoc">on GitHub</a></p>
</div>
<div class="paragraph">
<p>For further help with <code>libcamera</code> and the <code>rpicam-apps</code>, check the <a href="https://forums.raspberrypi.com/viewforum.php?f=43">Raspberry Pi Camera forum</a>. Before posting:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Make a note of your operating system version (<code>uname -a</code>).</p>
</li>
<li>
<p>Make a note of your <code>libcamera</code> and <code>rpicam-apps</code> versions (<code>rpicam-hello --version</code>).</p>
</li>
<li>
<p>Report the make and model of the camera module you are using.</p>
</li>
<li>
<p>Report the software you are trying to use. We don’t support third-party camera module vendor software.</p>
</li>
<li>
<p>Report your Raspberry Pi model, including memory size.</p>
</li>
<li>
<p>Include any relevant excerpts from the application’s console output.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If there are specific problems in the camera software (such as crashes), consider <a href="https://github.com/raspberrypi/rpicam-apps">creating an issue in the <code>rpicam-apps</code> GitHub repository</a>, including the same details listed above.</p>
</div>
</div>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'8bb5f39b3ac53685',t:'MTcyNTAzMzE4NC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body></html>

      </section>
    </div>

    <div class="legal">
  <div class="legal-inner">
    <p id="copyright">Raspberry Pi documentation is copyright &copy; 2012-2024 Raspberry Pi Ltd and is licensed under a <a href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International</a> (CC BY-SA) licence.</p>
    <p id="copyright">Some content originates from the <a href="http://elinux.org/">eLinux wiki</a>, and is licensed under a <a href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 Unported</a> licence.</p>
    <p id="copyright">The terms HDMI, HDMI High-Definition Multimedia Interface, HDMI trade dress and the HDMI Logos are trademarks or registered trademarks of HDMI Licensing Administrator, Inc</p>
  </div>
</div>
 
    <style>
#__rptl-footer .__rptl-footer-link, #__rptl-footer .__rptl-footer-link--with-icon, #__rptl-footer .__rptl-footer-item, #__rptl-footer .__rptl-footer-list, #__rptl-footer .__rptl-footer-heading, #__rptl-footer .__rptl-footer-column, #__rptl-footer .__rptl-footer-row, #__rptl-footer .__rptl-footer-container, #__rptl-footer {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  border: 0;
  font: inherit;
  font-size: 100%;
  vertical-align: baseline;
}

#__rptl-footer {
  display: block;
  font-family: "Roboto", sans-serif;
  font-size: medium;
  font-weight: 400;
  line-height: 1.5;
  text-rendering: optimizeLegibility;
  -webkit-text-size-adjust: 100%;
     -moz-text-size-adjust: 100%;
          text-size-adjust: 100%;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background: #f5f6f9;
  overflow: hidden;
}
#__rptl-footer .__rptl-footer-container {
  width: 100%;
  max-width: 1300px;
  padding-left: 16px;
  padding-right: 16px;
  margin: auto;
  margin-top: 32px;
}
@media (min-width: 800px) {
  #__rptl-footer .__rptl-footer-container {
    padding: 0 76px;
  }
}
@media (min-width: 1200px) {
  #__rptl-footer .__rptl-footer-container {
    padding: 0 84px;
  }
}
#__rptl-footer .__rptl-footer-row {
  display: flex;
  flex-wrap: wrap;
}
#__rptl-footer .__rptl-footer-column {
  flex-basis: 1;
  width: 100%;
  padding-right: 8px;
}
@media (min-width: 640px) {
  #__rptl-footer .__rptl-footer-column {
    width: 50%;
  }
}
@media (min-width: 1024px) {
  #__rptl-footer .__rptl-footer-column {
    width: 25%;
  }
}
#__rptl-footer .__rptl-footer-heading {
  font-weight: 700;
  color: #333333;
  margin-bottom: 8px;
}
#__rptl-footer .__rptl-footer-list {
  list-style: none;
  margin-bottom: 32px;
}
#__rptl-footer .__rptl-footer-item {
  margin-bottom: 8px;
}
#__rptl-footer .__rptl-footer-icon {
  margin-right: 0.5em;
  fill: #333;
}
#__rptl-footer .__rptl-footer-link, #__rptl-footer .__rptl-footer-link--with-icon {
  font-weight: 400;
  color: #333;
  text-decoration: none;
}
#__rptl-footer .__rptl-footer-link--with-icon {
  display: inline-flex;
  align-items: center;
}
#__rptl-footer .__rptl-footer-link:hover, #__rptl-footer .__rptl-footer-link--with-icon:hover {
  text-decoration: underline;
}
</style>
<footer id="__rptl-footer">
  <div class="__rptl-footer-container">
    <div class="__rptl-footer-row">
      <div class="__rptl-footer-column">
        <div class="__rptl-footer-heading">Follow us</div>
        <ul class="__rptl-footer-list">
          <li class="__rptl-footer-item">
            <a href="/weekly/" class="__rptl-footer-link--with-icon">
              <svg class="__rptl-footer-icon" aria-hidden="true" focusable="false" width="1.25em" height="1.25em" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M1 6v12a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H3a2 2 0 0 0-2 2Zm19.707 10.293a1 1 0 1 1-1.414 1.414L15 13.414l-.515.515a3.518 3.518 0 0 1-4.97 0L9 13.414l-4.293 4.293a1 1 0 0 1-1.414-1.414L7.586 12 3.293 7.707a1 1 0 0 1 1.414-1.414l5 5 1.222 1.222a1.516 1.516 0 0 0 2.142 0l1.222-1.222 5-5a1 1 0 0 1 1.414 1.414L16.414 12Z"/></svg>
              Sign up to newsletter
            </a>
          </li>
          <li class="__rptl-footer-item">
            <a href="https://x.com/Raspberry_Pi" class="__rptl-footer-link--with-icon">
              <svg class="__rptl-footer-icon" aria-hidden="true" focusable="false" width="1.25em" height="1.25em" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1227 1227">
                <path d="m714.16 519.28 446.73-519.28h-105.86l-387.89 450.89-309.81-450.89h-357.33l468.49 681.82-468.49 544.55h105.87l409.62-476.15 327.18 476.15h357.33l-485.86-707.09zm-145 168.55-47.46-67.9-377.69-540.24h162.6l304.8 435.99 47.47 67.9 396.2 566.72h-162.6l-323.32-462.45z" />
              </svg>
              X
            </a>
          </li>
          <li class="__rptl-footer-item">
            <a href="https://www.threads.net/@raspberrypi" class="__rptl-footer-link--with-icon">
              <svg class="__rptl-footer-icon" aria-hidden="true" focusable="false" width="1.25em" height="1.25em" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 192 192"><path d="M141.537 88.988a66.667 66.667 0 0 0-2.518-1.143c-1.482-27.307-16.403-42.94-41.457-43.1h-.34c-14.986 0-27.449 6.396-35.12 18.036l13.779 9.452c5.73-8.695 14.724-10.548 21.348-10.548h.229c8.249.053 14.474 2.452 18.503 7.129 2.932 3.405 4.893 8.111 5.864 14.05-7.314-1.243-15.224-1.626-23.68-1.14-23.82 1.371-39.134 15.264-38.105 34.568.522 9.792 5.4 18.216 13.735 23.719 7.047 4.652 16.124 6.927 25.557 6.412 12.458-.683 22.231-5.436 29.049-14.127 5.178-6.6 8.453-15.153 9.899-25.93 5.937 3.583 10.337 8.298 12.767 13.966 4.132 9.635 4.373 25.468-8.546 38.376-11.319 11.308-24.925 16.2-45.488 16.351-22.809-.169-40.06-7.484-51.275-21.742C35.236 139.966 29.808 120.682 29.605 96c.203-24.682 5.63-43.966 16.133-57.317C56.954 24.425 74.204 17.11 97.013 16.94c22.975.17 40.526 7.52 52.171 21.847 5.71 7.026 10.015 15.86 12.853 26.162l16.147-4.308c-3.44-12.68-8.853-23.606-16.219-32.668C147.036 9.607 125.202.195 97.07 0h-.113C68.882.194 47.292 9.642 32.788 28.08 19.882 44.485 13.224 67.315 13.001 95.932L13 96v.067c.224 28.617 6.882 51.447 19.788 67.854C47.292 182.358 68.882 191.806 96.957 192h.113c24.96-.173 42.554-6.708 57.048-21.189 18.963-18.945 18.392-42.692 12.142-57.27-4.484-10.454-13.033-18.945-24.723-24.553ZM98.44 129.507c-10.44.588-21.286-4.098-21.82-14.135-.397-7.442 5.296-15.746 22.461-16.735 1.966-.114 3.895-.169 5.79-.169 6.235 0 12.068.606 17.371 1.765-1.978 24.702-13.58 28.713-23.802 29.274Z" /></svg>
              Threads
            </a>
          </li>
          <li class="__rptl-footer-item">
            <a href="https://www.tiktok.com/@raspberry_pi" class="__rptl-footer-link--with-icon">
              <svg class="__rptl-footer-icon" aria-hidden="true" focusable="false" width="1.25em" height="1.25em" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50"><path d="m36.62 13.617a9.106 9.106 0 0 1 -4.14-7.617h-6.533l-.01 26.182c-.11 2.932-2.523 5.285-5.482 5.285-.919 0-1.785-.23-2.547-.631a5.494 5.494 0 0 1 -2.944-4.86 5.498 5.498 0 0 1 5.491-5.492c.566 0 1.108.093 1.62.253v-6.669c-.53-.072-1.07-.117-1.62-.117-6.63 0-12.024 5.394-12.024 12.024 0 4.069 2.032 7.669 5.133 9.846a11.954 11.954 0 0 0 6.891 2.179c6.631 0 12.025-5.394 12.025-12.025v-13.275a15.537 15.537 0 0 0 9.09 2.923v-6.533a9.033 9.033 0 0 1 -4.95-1.472z"/></svg>
              TikTok
            </a>
          </li>
          <li class="__rptl-footer-item">
            <a href="https://youtube.com/raspberrypi" class="__rptl-footer-link--with-icon">
              <svg class="__rptl-footer-icon" aria-hidden="true" focusable="false" width="1.25em" height="1.25em" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.751 15.27V8.73L15.498 12l-5.747 3.27Zm12.783-8.597a2.763 2.763 0 0 0-1.944-1.956C18.876 4.254 12 4.254 12 4.254s-6.876 0-8.59.463a2.763 2.763 0 0 0-1.944 1.956A28.982 28.982 0 0 0 1.006 12a28.982 28.982 0 0 0 .46 5.327 2.763 2.763 0 0 0 1.943 1.956c1.715.463 8.591.463 8.591.463s6.876 0 8.59-.463a2.763 2.763 0 0 0 1.944-1.956 28.98 28.98 0 0 0 .46-5.327 28.98 28.98 0 0 0-.46-5.327Z"/></svg>
              YouTube
            </a>
          </li>
          <li class="__rptl-footer-item">
            <a href="https://www.instagram.com/raspberrypi/" class="__rptl-footer-link--with-icon">
              <svg class="__rptl-footer-icon" aria-hidden="true" focusable="false" width="1.25em" height="1.25em" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12.25 3.667c2.67 0 2.986.01 4.04.058a5.534 5.534 0 0 1 1.858.344 3.312 3.312 0 0 1 1.898 1.898 5.534 5.534 0 0 1 .344 1.857c.048 1.054.058 1.37.058 4.04s-.01 2.987-.058 4.042a5.534 5.534 0 0 1-.344 1.857 3.312 3.312 0 0 1-1.898 1.897 5.533 5.533 0 0 1-1.857.345c-1.054.048-1.37.058-4.041.058s-2.987-.01-4.04-.058a5.533 5.533 0 0 1-1.858-.345 3.312 3.312 0 0 1-1.898-1.897 5.534 5.534 0 0 1-.344-1.857c-.048-1.055-.058-1.371-.058-4.041s.01-2.987.058-4.041a5.534 5.534 0 0 1 .344-1.857A3.312 3.312 0 0 1 6.352 4.07a5.533 5.533 0 0 1 1.857-.344c1.055-.048 1.37-.058 4.041-.058m0-1.802c-2.716 0-3.056.011-4.123.06A7.34 7.34 0 0 0 5.7 2.39a5.113 5.113 0 0 0-2.925 2.924 7.34 7.34 0 0 0-.465 2.428c-.049 1.066-.06 1.407-.06 4.123s.011 3.056.06 4.123a7.34 7.34 0 0 0 .465 2.427A5.113 5.113 0 0 0 5.7 21.34a7.34 7.34 0 0 0 2.427.465c1.067.048 1.407.06 4.123.06s3.056-.012 4.123-.06a7.34 7.34 0 0 0 2.427-.465 5.113 5.113 0 0 0 2.925-2.925 7.34 7.34 0 0 0 .465-2.427c.048-1.067.06-1.407.06-4.123s-.012-3.057-.06-4.123a7.34 7.34 0 0 0-.465-2.428A5.113 5.113 0 0 0 18.8 2.39a7.34 7.34 0 0 0-2.427-.465c-1.067-.049-1.407-.06-4.123-.06Z"/><path class="cls-1" d="M12.25 6.73a5.135 5.135 0 1 0 5.135 5.135A5.135 5.135 0 0 0 12.25 6.73Zm0 8.468a3.333 3.333 0 1 1 3.333-3.333 3.333 3.333 0 0 1-3.333 3.333Z"/><circle cx="17.588" cy="6.527" r="1.2"/></svg>
              Instagram
            </a>
          </li>
          <li class="__rptl-footer-item">
            <a href="https://www.linkedin.com/company/raspberrypi/" class="__rptl-footer-link--with-icon">
              <svg class="__rptl-footer-icon" aria-hidden="true" focusable="false" width="1.25em" height="1.25em" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.435 2.1H3.561a1.445 1.445 0 0 0-1.462 1.426v16.946a1.446 1.446 0 0 0 1.462 1.429h16.874a1.449 1.449 0 0 0 1.466-1.429V3.526A1.448 1.448 0 0 0 20.435 2.1ZM7.972 18.972H5.035v-9.45h2.937ZM6.504 8.23a1.703 1.703 0 1 1 1.702-1.703A1.703 1.703 0 0 1 6.504 8.23Zm12.468 10.742h-2.934v-4.596c0-1.096-.02-2.505-1.527-2.505-1.528 0-1.762 1.193-1.762 2.426v4.675H9.814v-9.45h2.817v1.291h.04a3.086 3.086 0 0 1 2.778-1.526c2.974 0 3.523 1.957 3.523 4.501Z"/></svg>
              LinkedIn
            </a>
          </li>
          <li class="__rptl-footer-item">
            <a href="https://www.facebook.com/raspberrypi" class="__rptl-footer-link--with-icon">
              <svg class="__rptl-footer-icon" aria-hidden="true" focusable="false" width="1.25em" height="1.25em" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 12.06a10 10 0 1 0-11.563 9.88V14.95H7.899v-2.89h2.54V9.858a3.529 3.529 0 0 1 3.777-3.891 15.378 15.378 0 0 1 2.238.195v2.461h-1.26a1.445 1.445 0 0 0-1.63 1.562v1.876h2.773l-.443 2.89h-2.33v6.988A10.002 10.002 0 0 0 22 12.061Z"/></svg>
              Facebook
            </a>
          </li>
        </ul>
      </div>
      <div class="__rptl-footer-column">
        <div class="__rptl-footer-heading">About Raspberry Pi</div>
        <ul class="__rptl-footer-list">
          <li class="__rptl-footer-item"><a href="/news/" class="__rptl-footer-link">News</a></li>
          <li class="__rptl-footer-item"><a href="https://investors.raspberrypi.com/" class="__rptl-footer-link">Investor relations</a></li>
          <li class="__rptl-footer-item"><a href="/contact/" class="__rptl-footer-link">Contact us</a></li>
          <li class="__rptl-footer-item"><a href="/trademark-rules/" class="__rptl-footer-link">Trademark</a></li>
          <li class="__rptl-footer-item"><a href="/about/" class="__rptl-footer-link">About us</a></li>
          <li class="__rptl-footer-item"><a href="/resellers/" class="__rptl-footer-link">Our Approved Resellers</a></li>
          <li class="__rptl-footer-item"><a href="/jobs/" class="__rptl-footer-link">Jobs</a></li>
          <li class="__rptl-footer-item"><a href="/accessibility/" class="__rptl-footer-link">Accessibility</a></li>
          <li class="__rptl-footer-item"><a href="/terms-and-conditions/" class="__rptl-footer-link">Site use terms and conditions</a></li>
          <li class="__rptl-footer-item"><a href="/acceptable-use/" class="__rptl-footer-link">Acceptable use</a></li>
          <li class="__rptl-footer-item"><a href="/cookies/" class="__rptl-footer-link">Cookies</a></li>
          <li class="__rptl-footer-item"><a href="/licensing/" class="__rptl-footer-link">Licensing</a></li>
          <li class="__rptl-footer-item"><a href="/terms-conditions-sale/" class="__rptl-footer-link">Terms and conditions of sale</a></li>
          <li class="__rptl-footer-item"><a href="/privacy/" class="__rptl-footer-link">Privacy</a></li>
          <li class="__rptl-footer-item"><a href="/contact/security/" class="__rptl-footer-link">Security</a></li>
          <li class="__rptl-footer-item"><a href="/verify/" class="__rptl-footer-link">Verify our bank details</a></li>
        </ul>
      </div>
      <div class="__rptl-footer-column">
        <div class="__rptl-footer-heading">For home</div>
        <ul class="__rptl-footer-list">
          <li class="__rptl-footer-item"><a href="/for-home/" class="__rptl-footer-link">Raspberry Pi for home</a></li>
          <li class="__rptl-footer-item"><a href="/tutorials/" class="__rptl-footer-link">Tutorials</a></li>
        </ul>
        <div class="__rptl-footer-heading">For industry</div>
        <ul class="__rptl-footer-list">
          <li class="__rptl-footer-item"><a href="/for-industry/" class="__rptl-footer-link">Raspberry Pi for industry</a></li>
          <li class="__rptl-footer-item"><a href="/for-industry/thin-clients/" class="__rptl-footer-link">Thin clients</a></li>
          <li class="__rptl-footer-item"><a href="/for-industry/space/" class="__rptl-footer-link">Raspberry Pi in space</a></li>
          <li class="__rptl-footer-item"><a href="/for-industry/powered-by/" class="__rptl-footer-link">Powered by Raspberry Pi</a></li>
          <li class="__rptl-footer-item"><a href="/for-industry/design-partners/" class="__rptl-footer-link">Design partners</a></li>
          <li class="__rptl-footer-item"><a href="/success-stories/" class="__rptl-footer-link">Success stories</a></li>
        </ul>
        <div class="__rptl-footer-heading">Hardware</div>
        <ul class="__rptl-footer-list">
          <li class="__rptl-footer-item"><a href="/products/#raspberry-pi-computers-and-microcontrollers" class="__rptl-footer-link">Computers and microcontrollers</a></li>
          <li class="__rptl-footer-item"><a href="/products/#cameras-and-displays" class="__rptl-footer-link">Cameras and displays</a></li>
          <li class="__rptl-footer-item"><a href="/products/#add-on-boards" class="__rptl-footer-link">Add-on boards</a></li>
          <li class="__rptl-footer-item"><a href="/products/#power-supplies-and-cables" class="__rptl-footer-link">Power supplies and cables</a></li>
          <li class="__rptl-footer-item"><a href="/products/#cases" class="__rptl-footer-link">Cases</a></li>
          <li class="__rptl-footer-item"><a href="/products/#peripherals" class="__rptl-footer-link">Peripherals</a></li>
        </ul>
      </div>
      <div class="__rptl-footer-column">
        <div class="__rptl-footer-heading">Software</div>
        <ul class="__rptl-footer-list">
          <li class="__rptl-footer-item"><a href="/software/connect/" class="__rptl-footer-link">Raspberry Pi Connect</a></li>
          <li class="__rptl-footer-item"><a href="/software/raspberry-pi-desktop/" class="__rptl-footer-link">Raspberry Pi Desktop</a></li>
          <li class="__rptl-footer-item"><a href="/software/" class="__rptl-footer-link">Raspberry Pi Imager</a></li>
          <li class="__rptl-footer-item"><a href="/software/operating-systems/#raspberry-pi-os-32-bit" class="__rptl-footer-link">Raspberry Pi OS</a></li>
        </ul>
        <div class="__rptl-footer-heading">Documentation</div>
        <ul class="__rptl-footer-list">
          <li class="__rptl-footer-item"><a href="/documentation/" class="__rptl-footer-link">All categories</a></li>
          <li class="__rptl-footer-item"><a href="https://pip.raspberrypi.com" class="__rptl-footer-link">Product information portal</a></li>
          <li class="__rptl-footer-item"><a href="https://datasheets.raspberrypi.com" class="__rptl-footer-link">Datasheets</a></li>
        </ul>
        <div class="__rptl-footer-heading">Community</div>
        <ul class="__rptl-footer-list">
          <li class="__rptl-footer-item"><a href="https://forums.raspberrypi.com/" class="__rptl-footer-link">Forums</a></li>
          <li class="__rptl-footer-item"><a href="https://events.raspberrypi.com/" class="__rptl-footer-link">Events</a></li>
        </ul>
        <div class="__rptl-footer-heading">Raspberry Pi Store</div>
        <ul class="__rptl-footer-list">
          <li class="__rptl-footer-item"><a href="/raspberry-pi-store/" class="__rptl-footer-link">Store information</a></li>
        </ul>
        <div class="__rptl-footer-heading">Raspberry Pi Press</div>
        <ul class="__rptl-footer-list">
          <li class="__rptl-footer-item"><a href="/books-magazines/" class="__rptl-footer-link">About Raspberry Pi Press</a></li>
          <li class="__rptl-footer-item"><a href="https://magpi.raspberrypi.com" class="__rptl-footer-link">The MagPi</a></li>
          <li class="__rptl-footer-item"><a href="https://hackspace.raspberrypi.com" class="__rptl-footer-link">HackSpace</a></li>
        </ul>
      </div>
    </div>
  </div>
</footer>
  
    <!-- Script for the TOC toggle -->
<script src="/documentation/scripts/nav.js?ver=1724162985" type="text/javascript"></script>

<!-- TOCify scripts -->
<script src="/documentation/scripts/jquery-1.12.4.min.js"></script>
<script src="/documentation/scripts/jquery-ui-1.13.0.custom.min.js"></script>
<script src="/documentation/scripts/jquery.tocify.js?ver=1724162985"></script>

<!-- Copy To Clipboard scripts -->
<script src="/documentation/scripts/clipboard.min.js"></script>
<script src="/documentation/scripts/copy-to-clipboard.js?ver=1724162985"></script>

<!-- Some custom handling for whitepapers -->
<script src="/documentation/scripts/whitepaper.js?ver=1724162985"></script>

<script>
  function hasher(text, element) {
    return text.toLowerCase().replace(/ /g, "-").replace(/\./g, "-").replace(/[^-\w]/g, "").replace(/-+/g, "-");
  }

  function waitForElementToDisplay(selector, checkFrequencyInMs, timeoutInMs) {
    try {
      // wait for all the content to load first...
      var startTimeInMs = Date.now();
      (function loopSearch() {
        //  && document.querySelector(selector).getBoundingClientRect().top > 0
        if (document.querySelector(selector) != null && document.querySelector(selector).getBoundingClientRect().top > 0) {
          scrollToElement(selector);
          return;
        }
        else {
          setTimeout(function () {
            if (timeoutInMs && Date.now() - startTimeInMs > timeoutInMs)
              return;
            loopSearch();
          }, checkFrequencyInMs);
        }
      })();
    } catch (e) {
      console.log("there was an error in scrollToElement:");
      console.log(e);
    }
  }

  function scrollToElement(selector) {
    try {
      var target = document.querySelector(selector);
      if (target) {
        setTimeout(function () {
          target.scrollIntoView({ behavior: "instant" });
          setTimeout(function () {
            target.scrollIntoView({ behavior: "instant" });
          },100);
        },1);
        
        
      } else {
        console.log("Target not found :(");
      }
    } catch (e) {
      console.log("there was an error in scrollToElement:");
      console.log(e);
    }
  }

  $(function() {
    $("#toc").tocify({ showAndHide: false, hashGenerator: hasher, extendPage: false, ignoreSelector: ".discrete" });
    // special handling to scroll to tocify elements on the page
    if (window.location.hasOwnProperty("hash") && window.location.hash.indexOf("#") > -1) {
      var myhash = window.location.hash;
      myhash = myhash.replace("#", "");
      var selector = "div[data-unique="+myhash+"] + *";
      waitForElementToDisplay(selector, 1000, 9000);
    }
  });
</script>

<script>
  var contents = document.getElementById("contents");
  contents.addEventListener('mouseenter', e => {
    contents.style.overflowY = 'auto';
  });

  contents.addEventListener('mouseleave', e => {
    contents.style.overflowY = 'hidden';
  });
</script>

    <script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>
<script type="text/javascript">
  (function () {
    var lvl0 = document.querySelector('#tab-menu li.selected'),
        lvl1 = document.querySelector('#content h1'),
        searchParameters = { optionalFilters: [] };

    if (lvl0) {
      searchParameters.optionalFilters.push("hierarchy.lvl0:" + lvl0.innerText);
    }
    if (lvl1) {
      searchParameters.optionalFilters.push("hierarchy.lvl1:" + lvl1.innerText + "<score=2>");
    }

    docsearch({
      appId: 'IHWGNTJ1NP',
      apiKey: '94f8e1d1619229399fe8b33bcf750dfd',
      indexName: 'raspberrypi',
      container: '#docsearch',
      searchParameters: searchParameters
    });
  }());
</script>


  </body>
</html>
